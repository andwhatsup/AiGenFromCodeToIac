digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.archive_file.lambda_dummy" [label="data.archive_file.lambda_dummy"];
  "data.aws_iam_policy_document.lambda_assume_role_policy" [label="data.aws_iam_policy_document.lambda_assume_role_policy"];
  "data.aws_iam_policy_document.lambda_s3_policy" [label="data.aws_iam_policy_document.lambda_s3_policy"];
  "aws_api_gateway_deployment.lambda_api_deployment" [label="aws_api_gateway_deployment.lambda_api_deployment"];
  "aws_api_gateway_integration.lambda_integration" [label="aws_api_gateway_integration.lambda_integration"];
  "aws_api_gateway_method.proxy_method" [label="aws_api_gateway_method.proxy_method"];
  "aws_api_gateway_resource.proxy" [label="aws_api_gateway_resource.proxy"];
  "aws_api_gateway_rest_api.lambda_api" [label="aws_api_gateway_rest_api.lambda_api"];
  "aws_api_gateway_stage.prod" [label="aws_api_gateway_stage.prod"];
  "aws_iam_role.lambda_exec_role" [label="aws_iam_role.lambda_exec_role"];
  "aws_iam_role_policy.lambda_s3_policy" [label="aws_iam_role_policy.lambda_s3_policy"];
  "aws_lambda_function.main" [label="aws_lambda_function.main"];
  "aws_lambda_permission.apigw" [label="aws_lambda_permission.apigw"];
  "aws_s3_bucket.lambda_bucket" [label="aws_s3_bucket.lambda_bucket"];
  "data.aws_iam_policy_document.lambda_s3_policy" -> "aws_s3_bucket.lambda_bucket";
  "aws_api_gateway_deployment.lambda_api_deployment" -> "aws_api_gateway_integration.lambda_integration";
  "aws_api_gateway_integration.lambda_integration" -> "aws_api_gateway_method.proxy_method";
  "aws_api_gateway_integration.lambda_integration" -> "aws_lambda_function.main";
  "aws_api_gateway_method.proxy_method" -> "aws_api_gateway_resource.proxy";
  "aws_api_gateway_resource.proxy" -> "aws_api_gateway_rest_api.lambda_api";
  "aws_api_gateway_stage.prod" -> "aws_api_gateway_deployment.lambda_api_deployment";
  "aws_iam_role.lambda_exec_role" -> "data.aws_iam_policy_document.lambda_assume_role_policy";
  "aws_iam_role_policy.lambda_s3_policy" -> "data.aws_iam_policy_document.lambda_s3_policy";
  "aws_iam_role_policy.lambda_s3_policy" -> "aws_iam_role.lambda_exec_role";
  "aws_lambda_function.main" -> "aws_iam_role_policy.lambda_s3_policy";
  "aws_lambda_permission.apigw" -> "aws_api_gateway_rest_api.lambda_api";
  "aws_lambda_permission.apigw" -> "aws_lambda_function.main";
}
