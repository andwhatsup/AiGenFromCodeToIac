{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nnode \"Node.js Web Server\\n(JavaScript, native http)\" as WebServer\n\ncloud \"Amazon ECS\" as ECS\ncloud \"Amazon ECR\" as ECR\nrectangle \"Terraform\\n(IaC)\" as Terraform\nactor \"GitHub Actions CI/CD\" as GitHubActions\nrectangle \"AWS IAM\\n(Credentials)\" as IAM\n\nGitHubActions --down-> ECR : \"Push Docker Image\"\nGitHubActions --down-> ECS : \"Deploy Task\"\nGitHubActions --down-> Terraform : \"Run IaC Scripts\"\nGitHubActions --down-> IAM : \"Use Credentials\"\n\nECR --down-> ECS : \"Image Pull\"\nECS --down-> WebServer : \"Run Container\"\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"672px\" preserveAspectRatio=\"none\" style=\"width:613px;height:672px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 613 672\" width=\"613px\" zoomAndPan=\"magnify\"><defs/><g><!--entity WebServer--><g class=\"entity\" data-qualified-name=\"WebServer\" data-source-line=\"4\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,602.44,26,592.44,222.9199,592.44,222.9199,645.0337,212.9199,655.0337,16,655.0337,16,602.44\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"212.9199\" x2=\"222.9199\" y1=\"602.44\" y2=\"592.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"212.9199\" y1=\"602.44\" y2=\"602.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"212.9199\" x2=\"212.9199\" y1=\"602.44\" y2=\"655.0337\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.1719\" x=\"45.2974\" y=\"625.4351\">Node.js</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"97.4692\" y=\"625.4351\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.3428\" x=\"101.9194\" y=\"625.4351\">Web</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"133.2622\" y=\"625.4351\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.9102\" x=\"137.7124\" y=\"625.4351\">Server</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.0898\" x=\"31\" y=\"641.732\">(JavaScript,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"111.0898\" y=\"641.732\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.7295\" x=\"115.54\" y=\"641.732\">native</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"159.2695\" y=\"641.732\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.2002\" x=\"163.7197\" y=\"641.732\">http)</text></g><!--entity ECS--><g class=\"entity\" data-qualified-name=\"ECS\" data-source-line=\"6\" id=\"ent0003\"><path d=\"M68.3627,418.2428 C71.738,411.5064 77.1958,411.462 81.8491,416.8173 C85.6436,410.5835 91.4722,410.4503 94.6175,417.4439 C97.881,409.9272 101.8895,409.6701 107.5244,415.0752 C112.4327,409.2117 116.6132,408.4296 121.4171,415.1901 C125.9247,409.6417 130.1787,411.3329 133.0467,416.9049 C136.4542,411.4396 141.9579,411.5692 145.2405,417.044 C149.4646,410.5328 153.5857,411.1273 158.0212,416.8227 C162.3004,411.3195 168.7656,411.4192 172.3443,417.676 C180.8871,421.4655 182.1897,428.6823 173.7353,433.9268 C180.3739,439.1862 179.1322,445.1785 171.4956,448.1974 C168.4761,454.6962 163.9775,454.1679 159.7741,449.4328 C156.2552,456.9755 151.6883,458.1373 145.9987,451.5489 C142.9046,457.7902 138.7871,458.5184 134.2662,452.9686 C131.8677,459.6487 125.4847,461.5496 121.0255,455.0369 C116.6894,460.5144 111.4276,461.3585 107.6581,454.4266 C102.5998,459.4994 96.8973,457.4878 94.6804,451.185 C89.983,456.0059 85.6432,455.9817 82.0241,449.9299 C78.4898,455.85 72.7364,455.8931 69.6689,449.463 C59.2573,448.2494 55.3898,442.659 60.7817,432.9435 C55.9396,424.0972 58.7881,419.6545 68.3627,418.2428\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"75.19\" y=\"437.1351\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"131.7711\" y=\"437.1351\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.5078\" x=\"136.2213\" y=\"437.1351\">ECS</text></g><!--entity ECR--><g class=\"entity\" data-qualified-name=\"ECR\" data-source-line=\"7\" id=\"ent0004\"><path d=\"M174.3157,230.8475 C178.758,225.3814 182.9084,225.3963 187.0552,231.182 C189.8533,224.1422 195.784,224.5748 199.6881,230.067 C202.6841,223.3107 209.0185,221.7432 213.3208,228.7754 C217.5475,222.6252 223.4036,221.8198 227.4083,229.0098 C230.7945,222.6448 235.801,222.2639 239.6332,228.5799 C244.1363,222.1914 249.1365,222.4487 252.5143,229.6467 C258.2079,223.1464 262.2556,225.2606 266.1102,231.5948 C270.681,225.3892 274.5248,226.4846 278.6934,232.0256 C287.1639,234.1016 288.559,238.8451 284.1835,245.9764 C290.5341,254.3443 286.5596,259.881 277.4543,261.5861 C274.7334,268.869 269.0182,268.1942 264.5567,263.4532 C261.7874,270.5792 257.5152,271.6702 251.4287,267.2125 C248.7385,273.9046 243.5525,275.8878 238.4397,269.6451 C235.1152,276.8054 231.0275,276.8863 225.843,271.5147 C221.4889,276.0089 215.7291,275.6214 213.5926,269.0578 C209.5609,274.0254 204.4952,274.7063 201.6496,267.8588 C195.3299,274.4496 190.047,272.0107 187.4826,264.1719 C181.7292,270.6775 177.0835,269.4892 174.0619,261.6213 C164.7007,259.323 163.0049,252.4407 170.4193,246.184 C164.1518,239.3443 166.8613,234.2011 174.3157,230.8475\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"180.77\" y=\"250.6851\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"237.3511\" y=\"250.6851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"241.8013\" y=\"250.6851\">ECR</text></g><!--entity Terraform--><g class=\"entity\" data-qualified-name=\"Terraform\" data-source-line=\"8\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:2;\" width=\"90.1436\" x=\"344.39\" y=\"219.55\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.1436\" x=\"354.39\" y=\"242.5451\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.4072\" x=\"372.7582\" y=\"258.842\">(IaC)</text></g><!--entity GitHubActions--><g class=\"entity\" data-qualified-name=\"GitHubActions\" data-source-line=\"9\" id=\"ent0006\"><ellipse cx=\"295.4588\" cy=\"14\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M295.4588,22 L295.4588,49 M282.4588,30 L308.4588,30 M295.4588,49 L282.4588,64 M295.4588,49 L308.4588,64\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5146\" x=\"221.47\" y=\"79.2451\">GitHub</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"269.9846\" y=\"79.2451\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.3857\" x=\"274.4348\" y=\"79.2451\">Actions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"325.8206\" y=\"79.2451\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.1768\" x=\"330.2708\" y=\"79.2451\">CI/CD</text></g><!--entity IAM--><g class=\"entity\" data-qualified-name=\"IAM\" data-source-line=\"10\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:2;\" width=\"110.583\" x=\"497.17\" y=\"219.55\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"521.1905\" y=\"242.5451\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"553.4971\" y=\"242.5451\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.7852\" x=\"557.9473\" y=\"242.5451\">IAM</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.583\" x=\"507.17\" y=\"258.842\">(Credentials)</text></g><!--link GitHubActions to ECR--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"12\" id=\"lnk8\"><path d=\"M262.14,82.81 C249.07,100.14 235.54,121.64 228.46,143.55 C220.02,169.66 220.2191,195.5835 222.0791,216.5235\" fill=\"none\" id=\"GitHubActions-to-ECR\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"222.61,222.5,225.798,213.1814,222.1676,217.5196,217.8294,213.8892,222.61,222.5\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.6992\" x=\"229.46\" y=\"155.6887\">Push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"258.1592\" y=\"155.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.4453\" x=\"261.9737\" y=\"155.6887\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"304.419\" y=\"155.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.582\" x=\"308.2334\" y=\"155.6887\">Image</text></g><!--link GitHubActions to ECS--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"13\" id=\"lnk9\"><path d=\"M221.17,47.12 C150.68,53.91 55.46,76.66 55.46,150.05 C55.46,150.05 55.46,150.05 55.46,341.64 C55.46,368.22 69.9966,388.2201 87.2366,404.7301\" fill=\"none\" id=\"GitHubActions-to-ECS\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"91.57,408.88,87.8365,399.7662,87.9588,405.4217,82.3033,405.5441,91.57,408.88\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.0176\" x=\"56.46\" y=\"250.4787\">Deploy</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"98.4776\" y=\"250.4787\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.8848\" x=\"102.292\" y=\"250.4787\">Task</text></g><!--link GitHubActions to Terraform--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"14\" id=\"lnk10\"><path d=\"M318.42,82.98 C328.82,101.04 340.89,123.08 350.46,143.55 C362.28,168.81 371.4707,193.0629 378.8007,213.8029\" fill=\"none\" id=\"GitHubActions-to-Terraform\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"380.8,219.46,381.5724,209.6415,379.1339,214.7458,374.0296,212.3073,380.8,219.46\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"23.5488\" x=\"358.46\" y=\"155.6887\">Run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"382.0088\" y=\"155.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"19.2715\" x=\"385.8233\" y=\"155.6887\">IaC</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"405.0948\" y=\"155.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.0566\" x=\"408.9092\" y=\"155.6887\">Scripts</text></g><!--link GitHubActions to IAM--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"15\" id=\"lnk11\"><path d=\"M368.13,82.94 C397.42,99.82 430.75,120.95 458.46,143.55 C486.54,166.44 510.3723,192.9495 528.3323,214.6295\" fill=\"none\" id=\"GitHubActions-to-IAM\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"532.16,219.25,529.4988,209.7675,528.9703,215.3996,523.3382,214.8711,532.16,219.25\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"22.418\" x=\"475.46\" y=\"155.6887\">Use</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"497.878\" y=\"155.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"68.2793\" x=\"501.6924\" y=\"155.6887\">Credentials</text></g><!--link ECR to ECS--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"17\" id=\"lnk12\"><path d=\"M212.46,269.46 C192.06,304.96 155.7495,368.1378 135.3895,403.5678\" fill=\"none\" id=\"ECR-to-ECS\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"132.4,408.77,140.3524,402.9597,134.8912,404.4348,133.4161,398.9737,132.4,408.77\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.582\" x=\"177.46\" y=\"345.2787\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"215.042\" y=\"345.2787\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5098\" x=\"218.8565\" y=\"345.2787\">Pull</text></g><!--link ECS to WebServer--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0002\" data-link-type=\"dependency\" data-source-line=\"18\" id=\"lnk13\"><path d=\"M119.46,455.76 C119.46,489.68 119.46,548.01 119.46,586.15\" fill=\"none\" id=\"ECS-to-WebServer\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"119.46,592.15,123.46,583.15,119.46,587.15,115.46,583.15,119.46,592.15\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"23.5488\" x=\"120.46\" y=\"528.5787\">Run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"144.0088\" y=\"528.5787\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"58.6406\" x=\"147.8233\" y=\"528.5787\">Container</text></g><!--SRC=[TLBBJiCm4BpxAnQVG299nR47f2X5K2HGrHJrmcNhkAsfOqT-f8AlPvEKg81woIexixCpjgygkLL6Ghuk5x7Mi0-XyTCiStXCTohiuoPwwOGrGPgG2bjdUFGQDxwhYIB09rlhaaQZ2IIGjNUJT99LoWTsfOpGiHh5Cwg5hMjhqeP-6JEMGFvAt_J3mrfke9IkbUxTN3zZYwLmgWctO32eLlRMRZXWpno8Z0bjOmKyh_7B6dWeofv0zH-oF25BvgG8Q7QQTg-aSqZ-QrevnsAG7viCHR0E-ACAJt43kGYAya8npufPpno0K_zSbvB2F7yXrSB9YevEeVQ3EhKP-pK8ILBPeqdkEtSm1Rw8VWypAmxImRp6dUIN1yfkO2ORRJzXXVvmaJgcwWQMqG3bXU68_SKXCjlHtxo4io2SiSxfNnUzLLX4hJdhMYC-tjVFweBU4zApS_mR]--></g></svg>",
  "architecture_description": "This architecture represents a typical modern CI/CD pipeline and deployment for a Node.js web server using AWS services and Infrastructure as Code (IaC):\n\n- **Node.js Web Server**: The application is a JavaScript-based web server using Node.js's native HTTP module. It is containerized using Docker.\n- **Amazon ECS (Elastic Container Service)**: The containerized Node.js application is deployed and run as a service/task in ECS.\n- **Amazon ECR (Elastic Container Registry)**: The Docker image for the Node.js application is built and pushed to ECR, which serves as the image repository for ECS.\n- **GitHub Actions CI/CD**: The CI/CD pipeline is managed by GitHub Actions, which builds the Docker image, pushes it to ECR, deploys the task to ECS, and runs Terraform scripts for infrastructure provisioning.\n- **Terraform (IaC)**: Infrastructure as Code is managed by Terraform, which is triggered by GitHub Actions to provision and update AWS resources.\n- **AWS IAM**: Credentials and permissions for AWS resources are managed via IAM, which is used by GitHub Actions to authenticate and authorize actions.\n\n**Relationships:**\n- GitHub Actions pushes the Docker image to ECR, deploys the ECS task, runs Terraform scripts, and uses IAM credentials for AWS access.\n- ECS pulls the Docker image from ECR and runs the Node.js web server container.\n- Terraform provisions and manages the AWS infrastructure as part of the deployment pipeline.\n\nThis setup enables automated, repeatable deployments of the Node.js application to AWS using best practices for containerization, CI/CD, and infrastructure management."
}