{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nnode \"Flask Web Application\" as flask_app <<Python, Flask>> {\n  artifact \"Docker Container\" <<Dockerfile>>\n}\n\nnode \"ActiveMQ Message Queue\" as activemq <<ActiveMQ>> {\n  artifact \"Kubernetes Deployment\" <<YAML>>\n  artifact \"Kubernetes Service\" <<YAML>>\n}\n\nflask_app --> activemq : Uses stomp.py\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"373px\" preserveAspectRatio=\"none\" style=\"width:574px;height:373px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 574 373\" width=\"574px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster flask_app--><g class=\"cluster\" data-qualified-name=\"flask_app\" data-source-line=\"4\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"242,16,252,6,493,6,493,139.6,483,149.6,242,149.6,242,16\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"483\" x2=\"493\" y1=\"16\" y2=\"6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"242\" x2=\"483\" y1=\"16\" y2=\"16\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"483\" x2=\"483\" y1=\"16\" y2=\"149.6\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"110.4824\" x=\"308.2588\" y=\"31.9951\">&#171;Python, Flask&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"175.458\" x=\"275.771\" y=\"48.292\">Flask Web Application</text></g><!--cluster activemq--><g class=\"cluster\" data-qualified-name=\"activemq\" data-source-line=\"8\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"16,222.6,26,212.6,485,212.6,485,346.19,475,356.19,16,356.19,16,222.6\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"475\" x2=\"485\" y1=\"222.6\" y2=\"212.6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"475\" y1=\"222.6\" y2=\"222.6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"475\" x2=\"475\" y1=\"222.6\" y2=\"356.19\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"83.7813\" x=\"204.6094\" y=\"238.5951\">&#171;ActiveMQ&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"204.709\" x=\"144.1455\" y=\"254.892\">ActiveMQ Message Queue</text></g><!--entity Docker Container--><g class=\"entity\" data-qualified-name=\"flask_app.Docker Container\" data-source-line=\"5\" id=\"ent0003\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"152.3838\" x=\"280.81\" y=\"70\"/><polygon fill=\"#FFFFFF\" points=\"416.1938,75,416.1938,89,428.1938,89,428.1938,81,422.1938,75,416.1938,75\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"422.1938\" x2=\"422.1938\" y1=\"75\" y2=\"81\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"428.1938\" x2=\"422.1938\" y1=\"81\" y2=\"81\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"87.9717\" x=\"308.0161\" y=\"95.9951\">&#171;Dockerfile&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"290.81\" y=\"112.292\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"340.3295\" y=\"112.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"344.7797\" y=\"112.292\">Container</text></g><!--entity Kubernetes Deployment--><g class=\"entity\" data-qualified-name=\"activemq.Kubernetes Deployment\" data-source-line=\"9\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"200.2764\" x=\"39.86\" y=\"276.6\"/><polygon fill=\"#FFFFFF\" points=\"223.1364,281.6,223.1364,295.6,235.1364,295.6,235.1364,287.6,229.1364,281.6,223.1364,281.6\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"229.1364\" x2=\"229.1364\" y1=\"281.6\" y2=\"287.6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"235.1364\" x2=\"229.1364\" y1=\"287.6\" y2=\"287.6\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"55.1387\" x=\"107.4288\" y=\"302.5951\">&#171;YAML&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.1924\" x=\"49.86\" y=\"318.892\">Kubernetes</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"130.0524\" y=\"318.892\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"85.6338\" x=\"134.5026\" y=\"318.892\">Deployment</text></g><!--entity Kubernetes Service--><g class=\"entity\" data-qualified-name=\"activemq.Kubernetes Service\" data-source-line=\"10\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"166.3838\" x=\"274.81\" y=\"276.6\"/><polygon fill=\"#FFFFFF\" points=\"424.1938,281.6,424.1938,295.6,436.1938,295.6,436.1938,287.6,430.1938,281.6,424.1938,281.6\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"430.1938\" x2=\"430.1938\" y1=\"281.6\" y2=\"287.6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"436.1938\" x2=\"430.1938\" y1=\"287.6\" y2=\"287.6\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"55.1387\" x=\"325.4326\" y=\"302.5951\">&#171;YAML&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.1924\" x=\"284.81\" y=\"318.892\">Kubernetes</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"365.0024\" y=\"318.892\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.7412\" x=\"369.4526\" y=\"318.892\">Service</text></g><!--link flask_app to activemq--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"13\" id=\"lnk7\"><path d=\"M477,149.856 C477,150.5366 477,151.2213 477,151.9099 C477,153.2871 477,154.6799 477,156.0869 C477,158.9009 477,161.7716 477,164.6878 C477,176.3524 477,188.7434 477,201.1338 C477,204.2313 477,207.3289 477,210.415 C477,210.8008 477,211.1863 477,211.5717 C477,211.7644 477,205.9571 477,206.1497\" fill=\"none\" id=\"flask_app-to-activemq\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"477,212.1497,481,203.1497,477,207.1497,473,203.1497,477,212.1497\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.6699\" x=\"478\" y=\"185.7387\">Uses</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"506.6699\" y=\"185.7387\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.1387\" x=\"510.4844\" y=\"185.7387\">stomp.py</text></g><!--SRC=[TP1FQm913CNl-odYdhkxqgF8mbBffHKKAT9JoOvP7Pn_dSaeKlhT6otMGkafpBptyaiosj2W7K6tNYsoDR1Z3cdID16FzLRpBlSvKLJUCJckbRSD7fF1FfrhfKL8rU1Z5GmwbWRDuNvSZvkDJboCj5CcRtwQDr8VlBNUrK6UHU6yYEMZmRI7DVNGXM2qGjRUbO09XhFoXY70TBeuySwxExYusnO-2W2Ch0TK3ENCgpr5U90vKTQ9fII-_mPjg6sBpokjKwmFD5_2d5B2BS4oKwOB3Y-IVPVirVK7z9HxYewO4ime67-oSfSpxRMRFmld7- -Aua4h-cMKWMxhLLLxeq_W9KaaiRUX3gSl]--></g></svg>",
  "architecture_description": "This architecture consists of two main components:\n\n1. **Flask Web Application**: This is a Python-based web application built using the Flask framework. It is containerized using Docker (as indicated by the Dockerfile). The application communicates with the message queue using the `stomp.py` library.\n\n2. **ActiveMQ Message Queue**: This is a message broker deployed using Kubernetes. The deployment and service are defined in YAML manifests (`activemq-deployment.yaml` and `activemq-service.yaml`).\n\n**Relationships:**\n- The Flask web application uses the ActiveMQ message queue for messaging, leveraging the `stomp.py` library for communication.\n- The ActiveMQ service is managed and exposed via Kubernetes resources.\n\nThis high-level architecture ensures that the web application is scalable (via Docker and Kubernetes) and can reliably communicate with the message queue for asynchronous processing or integration with other systems."
}