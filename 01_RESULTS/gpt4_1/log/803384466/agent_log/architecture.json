{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nnode \"AWS ECR\\nDocker Image Repo\" as ecr <<cloud>>\nnode \"Kubernetes Cluster\" as k8s <<k8s>> {\n  node \"K8s Deployment\\n(Helm)\" as k8s_deploy <<k8s>> {\n    node \"Docker Container\" as docker <<docker>> {\n      node \"Web Server\\nPython 3.9\\nhttp.server\" as websrv <<python>>\n    }\n  }\n  node \"K8s Service\\n(LoadBalancer)\" as k8s_svc <<k8s>>\n}\n\nactor User\n\nUser --> k8s_svc : HTTP Request\nk8s_svc --> k8s_deploy : Forwards Traffic\nk8s_deploy --> docker : Runs\nwebsrv --> docker : Runs inside\nk8s_deploy --> ecr : Pulls Image\n\necr -[#gray,dashed]-> docker : Docker Image\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.1beta5?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"871px\" preserveAspectRatio=\"none\" style=\"width:592px;height:871px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 592 871\" width=\"592px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster k8s--><g class=\"cluster\" data-qualified-name=\"k8s\" data-source-line=\"5\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"210.03,153.55,220.03,143.55,575.03,143.55,575.03,844.35,565.03,854.35,210.03,854.35,210.03,153.55\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"565.03\" x2=\"575.03\" y1=\"153.55\" y2=\"143.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"210.03\" x2=\"565.03\" y1=\"153.55\" y2=\"153.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"565.03\" x2=\"565.03\" y1=\"153.55\" y2=\"854.35\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"41.4395\" x=\"367.8103\" y=\"169.5451\">&#171;k8s&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"152.5576\" x=\"312.2512\" y=\"185.842\">Kubernetes Cluster</text></g><!--cluster k8s_deploy--><g class=\"cluster\" data-qualified-name=\"k8s.k8s_deploy\" data-source-line=\"6\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"242.03,397.44,252.03,387.44,543.03,387.44,543.03,812.35,533.03,822.35,242.03,822.35,242.03,397.44\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"533.03\" x2=\"543.03\" y1=\"397.44\" y2=\"387.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"242.03\" x2=\"533.03\" y1=\"397.44\" y2=\"397.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"533.03\" x2=\"533.03\" y1=\"397.44\" y2=\"822.35\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"41.4395\" x=\"367.8103\" y=\"413.4351\">&#171;k8s&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"129.2197\" x=\"323.9201\" y=\"429.732\">K8s Deployment</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"53.3955\" x=\"361.8322\" y=\"446.0289\">(Helm)</text></g><!--cluster docker--><g class=\"cluster\" data-qualified-name=\"k8s.k8s_deploy.docker\" data-source-line=\"7\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"282.03,509.44,292.03,499.44,495.03,499.44,495.03,772.35,485.03,782.35,282.03,782.35,282.03,509.44\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"485.03\" x2=\"495.03\" y1=\"509.44\" y2=\"499.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"282.03\" x2=\"485.03\" y1=\"509.44\" y2=\"509.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"485.03\" x2=\"485.03\" y1=\"509.44\" y2=\"782.35\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"64.7568\" x=\"352.1516\" y=\"525.4351\">&#171;docker&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"137.2861\" x=\"315.8869\" y=\"541.732\">Docker Container</text></g><!--entity k8s_svc--><g class=\"entity\" data-qualified-name=\"k8s.k8s_svc\" data-source-line=\"11\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"387.86,249.55,397.86,239.55,534.2067,239.55,534.2067,308.4406,524.2067,318.4406,387.86,318.4406,387.86,249.55\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"524.2067\" x2=\"534.2067\" y1=\"249.55\" y2=\"239.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"387.86\" x2=\"524.2067\" y1=\"249.55\" y2=\"249.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"524.2067\" x2=\"524.2067\" y1=\"249.55\" y2=\"318.4406\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"41.4395\" x=\"435.3136\" y=\"272.5451\">&#171;k8s&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.3818\" x=\"415.2467\" y=\"288.842\">K8s</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"440.6286\" y=\"288.842\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.7412\" x=\"445.0788\" y=\"288.842\">Service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"106.3467\" x=\"402.86\" y=\"305.1389\">(LoadBalancer)</text></g><!--entity websrv--><g class=\"entity\" data-qualified-name=\"k8s.k8s_deploy.docker.websrv\" data-source-line=\"8\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"312.18,613.44,322.18,603.44,433.8831,603.44,433.8831,688.6275,423.8831,698.6275,312.18,698.6275,312.18,613.44\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"423.8831\" x2=\"433.8831\" y1=\"613.44\" y2=\"603.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"312.18\" x2=\"423.8831\" y1=\"613.44\" y2=\"613.44\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"423.8831\" x2=\"423.8831\" y1=\"613.44\" y2=\"698.6275\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"66.1035\" x=\"334.9798\" y=\"636.4351\">&#171;python&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.3428\" x=\"327.18\" y=\"652.732\">Web</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"358.5228\" y=\"652.732\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.9102\" x=\"362.973\" y=\"652.732\">Server</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"330.41\" y=\"669.0289\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"378.9383\" y=\"669.0289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.2646\" x=\"383.3885\" y=\"669.0289\">3.9</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"77.5059\" x=\"329.2786\" y=\"685.3257\">http.server</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"ecr\" data-source-line=\"4\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,621.59,26,611.59,194.0586,611.59,194.0586,680.4806,184.0586,690.4806,16,690.4806,16,621.59\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"184.0586\" x2=\"194.0586\" y1=\"621.59\" y2=\"611.59\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"184.0586\" y1=\"621.59\" y2=\"621.59\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"184.0586\" x2=\"184.0586\" y1=\"621.59\" y2=\"690.4806\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-style=\"italic\" lengthAdjust=\"spacing\" textLength=\"55.043\" x=\"72.5078\" y=\"644.5851\">&#171;cloud&#187;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"67.4766\" y=\"660.882\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"99.7832\" y=\"660.882\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"104.2334\" y=\"660.882\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"31\" y=\"677.1789\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"80.5195\" y=\"677.1789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"84.9697\" y=\"677.1789\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"128.8154\" y=\"677.1789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.793\" x=\"133.2656\" y=\"677.1789\">Repo</text></g><!--entity User--><g class=\"entity\" data-qualified-name=\"User\" data-source-line=\"14\" id=\"ent0008\"><ellipse cx=\"461.0251\" cy=\"14\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M461.0251,22 L461.0251,49 M448.0251,30 L474.0251,30 M461.0251,49 L448.0251,64 M461.0251,49 L474.0251,64\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.9102\" x=\"445.07\" y=\"79.2451\">User</text></g><!--link User to k8s_svc--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"16\" id=\"lnk9\"><path d=\"M461.03,82.92 C461.03,126.11 461.03,189.96 461.03,233.32\" fill=\"none\" id=\"User-to-k8s_svc\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"461.03,239.32,465.03,230.32,461.03,234.32,457.03,230.32,461.03,239.32\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"462.03\" y=\"124.6887\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"492.9499\" y=\"124.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"49.2832\" x=\"496.7644\" y=\"124.6887\">Request</text></g><!--link k8s_svc to k8s_deploy--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"17\" id=\"lnk10\"><path d=\"M468.81,318.9 C471.1663,330.6825 473.9566,344.6359 477.037,360.0406 C478.5773,367.7429 480.19,375.808 481.8574,384.1459 C482.0658,385.1882 481.0985,380.3512 481.3086,381.4018\" fill=\"none\" id=\"k8s_svc-to-k8s_deploy\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"482.4851,387.2853,484.6427,377.6757,481.5047,382.3823,476.798,379.2443,482.4851,387.2853\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"55.1484\" x=\"477.03\" y=\"360.5787\">Forwards</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"532.1784\" y=\"360.5787\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.998\" x=\"535.9929\" y=\"360.5787\">Traffic</text></g><!--link k8s_deploy to docker--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"18\" id=\"lnk11\"><path d=\"M534.91,652.12 C533.7225,653.0125 523.615,660.6 508.9778,671.5872 C505.3185,674.334 501.3761,677.2933 497.2192,680.4135 C496.6996,680.8036 500.9752,677.5942 500.449,677.9892\" fill=\"none\" id=\"k8s_deploy-to-docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"495.6504,681.5911,505.2496,679.3873,499.6492,678.5895,500.447,672.9892,495.6504,681.5911\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.8008\" x=\"431.03\" y=\"740.7687\">Runs</text></g><!--link websrv to docker--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"19\" id=\"lnk12\"><path d=\"M318.22,698.74 C307.89,713.03 302.84,728.87 312.03,743.63 C327,767.67 361.5485,772.3217 366.5585,772.8917\" fill=\"none\" id=\"websrv-to-docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"372.52,773.57,364.0299,768.5783,367.552,773.0048,363.1255,776.527,372.52,773.57\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.8008\" x=\"313.03\" y=\"740.7687\">Runs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"342.8308\" y=\"740.7687\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"35.5254\" x=\"346.6452\" y=\"740.7687\">inside</text></g><!--link k8s_deploy to ecr--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0002\" data-link-type=\"dependency\" data-source-line=\"20\" id=\"lnk13\"><path d=\"M241.2444,468.0987 C240.6971,468.5416 240.1512,468.9864 239.6067,469.4331 C222.1828,483.7269 206.1944,499.91 191.7963,516.5825 C163,549.9275 143.5333,580.0157 128.6983,606.0757\" fill=\"none\" id=\"k8s_deploy-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"125.73,611.29,133.6587,605.4474,128.2036,606.9447,126.7063,601.4896,125.73,611.29\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.7617\" x=\"290.53\" y=\"360.5787\">Pulls</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"318.2917\" y=\"360.5787\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.582\" x=\"322.1062\" y=\"360.5787\">Image</text></g><!--link ecr to docker--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"22\" id=\"lnk14\"><path d=\"M141.45,690.9 C161.17,709.66 187,730.82 214.03,743.63 C229.515,750.97 246.6481,756.5156 263.7647,760.7052 C268.0438,761.7525 272.3219,762.7152 276.573,763.5999 C277.6358,763.8211 278.6968,764.0374 279.7558,764.2489 C280.2853,764.3547 274.926,763.3069 275.4544,763.4103\" fill=\"none\" id=\"ecr-to-docker\" style=\"stroke:#808080;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#808080\" points=\"281.3427,764.5627,273.2784,758.9086,276.4357,763.6024,271.742,766.7597,281.3427,764.5627\" style=\"stroke:#808080;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.4453\" x=\"215.03\" y=\"740.7687\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"257.4753\" y=\"740.7687\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.582\" x=\"261.2898\" y=\"740.7687\">Image</text></g><?plantuml-src PLBTRzCm47_tNt4RBo2HP88NYAf8q866uA7gYlP04NBiQslDiOFFRbMX_U-xV7NTU8YTtE_3Tp_dGkF6E8HFTxUBr5ZOnTXIMHH17lAjYRjK9yAWl8leOgvyKyW3MLbJjsU60SesFcIjbIwoGR5_TvLV5TfG51V6APlqoRpWVUwRnhkyvKyXd6VmaglmPRvSksklxZ70jqPk4PRO-akG1AW2p6RA-gIhQfHyJpK6Xn49vZPHnD1JxpyGKtcjAlWd04OoLw-njVxOy0nhz_e6RVDc4lpHFVHCDod7XkOylUIGXaFqK9pDXfUJP1BTOGst6FOOrcvnZ3llu7t-SUswP7FgWTxdW3M5FVkqFObdwpmUnF0yjTvv6ONSzmylzMV9GIiCJ_tJNatDYmSXf8e-m4y-I8XkXIohJhmIRbQh1MVxDo5Vq5IUA6CK9NpruI239bW5kTaO9SxGZZncKC8oEHBZ9Fy1O1mPZI_5tOMMi4ZMqd3NGdIbxDUhRP37jrhI3lNlSxFp7-CH?></g></svg>",
  "architecture_description": "This architecture describes a containerized Python web server application deployed on Kubernetes using Helm, with images stored in AWS ECR:\n\n- **User**: Interacts with the system via HTTP requests.\n- **Kubernetes Service (LoadBalancer)**: Exposes the application to the internet, forwarding HTTP requests to the backend deployment.\n- **Kubernetes Deployment (Helm)**: Manages the lifecycle and scaling of the application pods, using Helm charts for configuration and deployment.\n- **Docker Container**: Each pod runs a Docker container built from a Python 3.9-slim image, running a web server using Python's `http.server` module.\n- **AWS ECR (Elastic Container Registry)**: Stores the Docker images used by the deployment. The Kubernetes deployment pulls the required image from ECR.\n\n**Flow:**\n1. The user sends an HTTP request to the Kubernetes Service (LoadBalancer).\n2. The service forwards the request to the Kubernetes Deployment.\n3. The deployment runs pods, each containing a Docker container with the Python web server.\n4. The Docker image for the container is pulled from AWS ECR.\n\nThis setup ensures scalable, cloud-native deployment with clear separation of concerns and modern DevOps practices."
}