{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nnode \"Web Application\\n(Python/Flask)\" as WebApp {\n  artifact \"Flask App\" as FlaskApp\n}\n\nnode \"Relational Database\\n(SQLite/SQLAlchemy)\" as DB {\n  database \"SQL Database\" as SQLDB\n}\n\ncloud \"AWS Cloud\" as AWS {\n  node \"EC2 Instance\" as EC2\n}\n\nartifact \"CI/CD Pipeline\\n(GitHub Actions)\" as CICD\n\nWebApp -down-> DB : ORM (Flask-SQLAlchemy)\nWebApp -right-> EC2 : Deployed on\nCICD -right-> EC2 : Deploys via Ansible\nCICD -left-> WebApp : Builds & Tests\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"479px\" preserveAspectRatio=\"none\" style=\"width:764px;height:479px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 764 479\" width=\"764px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster WebApp--><g class=\"cluster\" data-qualified-name=\"WebApp\" data-source-line=\"4\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,55.3301,26,45.3301,221,45.3301,221,202.6201,211,212.6201,16,212.6201,16,55.3301\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"211\" x2=\"221\" y1=\"55.3301\" y2=\"45.3301\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"211\" y1=\"55.3301\" y2=\"55.3301\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"211\" x2=\"211\" y1=\"55.3301\" y2=\"212.6201\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"129.1309\" x=\"49.9346\" y=\"71.3252\">Web Application</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"114.9941\" x=\"57.0029\" y=\"87.6221\">(Python/Flask)</text></g><!--cluster DB--><g class=\"cluster\" data-qualified-name=\"DB\" data-source-line=\"8\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"23,299.6201,33,289.6201,266,289.6201,266,452.9201,256,462.9201,23,462.9201,23,299.6201\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"256\" x2=\"266\" y1=\"299.6201\" y2=\"289.6201\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"23\" x2=\"256\" y1=\"299.6201\" y2=\"299.6201\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"256\" x2=\"256\" y1=\"299.6201\" y2=\"462.9201\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"159.2227\" x=\"60.8887\" y=\"315.6152\">Relational Database</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"167.8154\" x=\"56.5923\" y=\"331.9121\">(SQLite/SQLAlchemy)</text></g><!--cluster AWS--><g class=\"cluster\" data-qualified-name=\"AWS\" data-source-line=\"12\" id=\"ent0006\"><path d=\"M321.7291,100.6349 C324.1012,94.9387 328.2432,94.8592 332.3906,98.6371 C334.618,92.9941 339.4456,92.1415 343.4011,96.788 C347.2569,90.7486 352.1102,91.2146 355.6496,97.1127 C358.9598,91.1534 363.1503,90.5576 367.7888,95.6544 C370.3633,89.5453 373.8023,88.9208 378.79,93.0653 C381.3859,88.0962 386.0112,88.6675 388.9619,92.6628 C393.4534,87.321 397.2324,86.4137 401.2772,93.1195 C404.7335,88.9979 409.1237,90.8441 410.7287,95.1866 C414.7891,90.2743 418.9169,90.6054 422.2841,95.9663 C426.1928,91.7313 431.3739,92.7517 432.6901,98.6331 C435.7793,93.5177 440.8501,93.2739 444.0148,98.5509 C453.2929,91.2807 460.7395,96.6832 462,106.8301 C463.2456,106.917 463.5526,107.8682 462.7983,108.7757 C470.2255,112.0838 471.1411,116.9929 464.4448,122.0524 C471.6616,126.1559 472.7111,130.8397 466.8599,137.0479 C474.0464,140.3814 476.1317,146.7072 469.0593,152.1213 C475.9399,157.2757 474.8052,164.0381 466.5402,166.5477 C472.2726,171.9212 472.3095,176.8709 464.8965,180.7198 C472.9035,191.1379 468.0923,200.4652 455,200.1201 C455.5619,199.989 455.8957,200.4088 455.7199,200.9319 C453.6532,207.7065 448.5155,207.2088 444.3086,203.1958 C441.7383,208.7215 437.2725,210.2513 433.1859,204.7211 C430.5021,211.2129 425.851,211.2524 421.9211,205.907 C419.4819,211.3657 416.4191,212.0532 412.1332,207.7607 C409.5458,214.5605 404.5433,214.9818 400.4189,209.1908 C397.3381,215.825 391.3818,214.9429 388.3006,209.1912 C385.5033,213.7452 380.6006,213.8029 377.883,209.1014 C373.4612,213.6593 368.2186,213.4427 366.3353,206.5429 C361.8081,211.4441 358.0525,211.1849 355.2273,204.8588 C352.8321,209.2894 347.8976,209.94 345.1588,205.2376 C340.6802,209.4193 334.6104,208.8245 332.8082,202.1834 C322.6219,207.8983 315.8303,204.7457 314,193.1201 C314.5759,192.2977 315.3714,192.5701 315.7194,193.3627 C309.4006,189.7231 306.82,184.3195 313.9427,179.0154 C306.7242,176.4191 306.054,169.6893 312.1925,165.3787 C304.4145,163.0783 302.371,156.0968 309.418,150.9464 C302.7146,145.9988 303.7404,139.7955 310.7813,136.1109 C304.4848,129.9064 305.6911,124.9783 313.5782,121.4863 C305.3413,111.572 307.018,102.1298 321,99.8301 C321.5924,99.788 321.8529,100.0283 321.7291,100.6349\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"85.9141\" x=\"345.043\" y=\"117.8252\">AWS Cloud</text></g><!--entity FlaskApp--><g class=\"entity\" data-qualified-name=\"WebApp.FlaskApp\" data-source-line=\"5\" id=\"ent0003\"><rect fill=\"#FFFFFF\" height=\"39.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"97.7236\" x=\"50.14\" y=\"149.3301\"/><polygon fill=\"#FFFFFF\" points=\"130.8636,154.3301,130.8636,168.3301,142.8636,168.3301,142.8636,160.3301,136.8636,154.3301,130.8636,154.3301\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"136.8636\" x2=\"136.8636\" y1=\"154.3301\" y2=\"160.3301\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"142.8636\" x2=\"136.8636\" y1=\"160.3301\" y2=\"160.3301\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"60.14\" y=\"175.3252\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"96.0629\" y=\"175.3252\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.3506\" x=\"100.513\" y=\"175.3252\">App</text></g><!--entity SQLDB--><g class=\"entity\" data-qualified-name=\"DB.SQLDB\" data-source-line=\"9\" id=\"ent0005\"><path d=\"M52.52,403.6201 C52.52,393.6201 111.9985,393.6201 111.9985,393.6201 C111.9985,393.6201 171.477,393.6201 171.477,403.6201 L171.477,428.917 C171.477,438.917 111.9985,438.917 111.9985,438.917 C111.9985,438.917 52.52,438.917 52.52,428.917 L52.52,403.6201\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M52.52,403.6201 C52.52,413.6201 111.9985,413.6201 111.9985,413.6201 C111.9985,413.6201 171.477,413.6201 171.477,403.6201\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.7061\" x=\"62.52\" y=\"430.6152\">SQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"90.2261\" y=\"430.6152\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"66.8008\" x=\"94.6763\" y=\"430.6152\">Database</text></g><!--entity EC2--><g class=\"entity\" data-qualified-name=\"AWS.EC2\" data-source-line=\"13\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"322.24,155.8301,332.24,145.8301,453.7664,145.8301,453.7664,182.127,443.7664,192.127,322.24,192.127,322.24,155.8301\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"443.7664\" x2=\"453.7664\" y1=\"155.8301\" y2=\"145.8301\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"322.24\" x2=\"443.7664\" y1=\"155.8301\" y2=\"155.8301\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"443.7664\" x2=\"443.7664\" y1=\"155.8301\" y2=\"192.127\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.5283\" x=\"337.24\" y=\"178.8252\">EC2</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"364.7683\" y=\"178.8252\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"59.5479\" x=\"369.2185\" y=\"178.8252\">Instance</text></g><!--entity CICD--><g class=\"entity\" data-qualified-name=\"CICD\" data-source-line=\"16\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"145.2744\" x=\"607.36\" y=\"141.1801\"/><polygon fill=\"#FFFFFF\" points=\"735.6344,146.1801,735.6344,160.1801,747.6344,160.1801,747.6344,152.1801,741.6344,146.1801,735.6344,146.1801\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"741.6344\" x2=\"741.6344\" y1=\"146.1801\" y2=\"152.1801\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"747.6344\" x2=\"741.6344\" y1=\"152.1801\" y2=\"152.1801\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.1768\" x=\"625.6349\" y=\"167.1752\">CI/CD</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"664.8117\" y=\"167.1752\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.0977\" x=\"669.2619\" y=\"167.1752\">Pipeline</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.9766\" x=\"617.36\" y=\"183.4721\">(GitHub</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"671.3366\" y=\"183.4721\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.8477\" x=\"675.7868\" y=\"183.4721\">Actions)</text></g><!--link WebApp to DB--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"18\" id=\"lnk9\"><path d=\"M210,212.6528 C210,213.0207 210,213.3902 210,213.7614 C210,215.2464 210,216.7581 210,218.2947 C210,221.3681 210,224.5415 210,227.8005 C210,234.3186 210,241.1794 210,248.2688 C210,255.3581 210,262.6759 210,270.108 C210,273.824 210,277.5686 210,281.3275 C210,283.2069 210,285.0899 210,286.9747 C210,287.4459 210,287.9172 210,288.3886 C210,288.6243 210,288.86 210,289.0957 C210,289.2136 210,283.3314 210,283.4493\" fill=\"none\" id=\"WebApp-to-DB\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"210,289.4493,214,280.4493,210,284.4493,206,280.4493,210,289.4493\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.1367\" x=\"257.0078\" y=\"248.7587\">ORM</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"120.1523\" x=\"211\" y=\"262.7275\">(Flask-SQLAlchemy)</text></g><!--link WebApp to EC2--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"19\" id=\"lnk10\"><path d=\"M221.1583,168.9701 C221.2568,168.9701 221.3559,168.9701 221.4556,168.9701 C221.6548,168.9701 221.8564,168.9701 222.0602,168.9701 C222.8753,168.9701 223.726,168.9701 224.6105,168.9701 C231.6866,168.9701 240.9269,168.9701 251.4163,168.9701 C272.395,168.9701 292.37,168.9701 316.02,168.9701\" fill=\"none\" id=\"WebApp-to-EC2\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"322.02,168.9701,313.02,164.9701,317.02,168.9701,313.02,172.9701,322.02,168.9701\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"57.0176\" x=\"228.8\" y=\"163.1088\">Deployed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"285.8176\" y=\"163.1088\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.9473\" x=\"289.632\" y=\"163.1088\">on</text></g><!--link CICD to EC2--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"20\" id=\"lnk11\"><path d=\"M607.09,168.9701 C560.21,168.9701 505.78,168.9701 460.26,168.9701\" fill=\"none\" id=\"CICD-to-EC2\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"454.26,168.9701,463.26,172.9701,459.26,168.9701,463.26,164.9701,454.26,168.9701\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.2695\" x=\"472.06\" y=\"163.1088\">Deploys</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"520.3295\" y=\"163.1088\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"17.7891\" x=\"524.144\" y=\"163.1088\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"541.933\" y=\"163.1088\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"43.7344\" x=\"545.7475\" y=\"163.1088\">Ansible</text></g><!--reverse link WebApp to CICD--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"21\" id=\"lnk13\"><path d=\"M223.6649,138.3354 C223.8295,138.0002 221.6051,142.5515 221.7732,142.2119 C223.1185,139.4951 224.5772,136.6385 226.1482,133.6751 C229.2903,127.7481 232.8819,121.3935 236.915,114.8738 C253.0475,88.7951 276.245,60.0751 306,45.5201 C371.48,13.4901 399.67,26.3801 470,45.5201 C537.74,63.9501 605.93,110.3901 645.5,140.7601\" fill=\"none\" id=\"WebApp-backto-CICD\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"221.0285,143.7251,228.5763,137.3982,223.2255,139.2337,221.39,133.8829,221.0285,143.7251\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"36.375\" x=\"365.5\" y=\"18.4688\">Builds</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"401.875\" y=\"18.4688\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"9.3574\" x=\"405.6895\" y=\"18.4688\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"415.0469\" y=\"18.4688\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"31.9219\" x=\"418.8613\" y=\"18.4688\">Tests</text></g><!--SRC=[RP0_JyCm4CNtV8eZ0of3ugfZ1gGsuKyb4AL5wiBYE4vZuTXHV6bL8RuxPoSK1gRp-Vtk-PslAbah8s6vtss6LaE3sBcCiPwVqeF2PYW79tjX3Kg3gR0juoUdUUbyJHG9BgbjdtIQ6oG3TbpCqpchbCFeIXcXX-fYpgZcjcsjIJjgeyXO4kEzB67PTLe9ZigQTpFRdB6nXjrhxZvkOk0EY244FYC0tgEgkK28W-v70n8wQgAl7-EjrC6HQoWuyf8xIUQxroU5ab5PQj78zZo-KAo2UpM141Dm6Gi4NHGhxowq7Ig8QHl8_J6ellC6uzDt-GBMnY4tOXoc2p_w6pvVixo0ZUgafl-dN0yA7mVw2U4Zkp5KliwBA9gMJofxCicjJvh1o_OPPc7bvCyc5xHNXmQ9zJaoA6IdxLbMO4taBV_N7HmLXwLngjHouhIiFJRPPh0QbAuSNCERTEY-0G00]--></svg>",
  "architecture_description": "This high-level architecture represents a Python-based URL shortener web application using Flask, Flask-SQLAlchemy, and Flask-Migrate. The main components are:\n\n1. **Web Application (Python/Flask):** The core application, built with Flask, handles HTTP requests and business logic. It uses Flask-SQLAlchemy as the ORM for database interactions and Flask-Migrate for schema migrations.\n2. **Relational Database (SQLite/SQLAlchemy):** The application uses a relational database (default is SQLite, but can be replaced with other databases via SQLAlchemy). All persistent data (e.g., URLs) is stored here.\n3. **AWS Cloud (EC2 Instance):** The web application is deployed on an AWS EC2 instance, as indicated by deployment files and AWS references in the codebase.\n4. **CI/CD Pipeline (GitHub Actions):** Automated pipelines handle building, testing, and deploying the application. GitHub Actions workflows trigger builds/tests and use Ansible playbooks to deploy the application to the EC2 instance.\n\n**Relationships:**\n- The Flask web app communicates with the database using SQLAlchemy ORM.\n- The web app is deployed on an AWS EC2 instance.\n- The CI/CD pipeline builds and tests the web app, then deploys it to the EC2 instance using Ansible.\n\nThis architecture ensures modularity, automated deployment, and scalability, with clear separation between application logic, data storage, deployment infrastructure, and automation pipelines."
}