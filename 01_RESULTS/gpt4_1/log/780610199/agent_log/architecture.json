{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nnode \"Kubernetes Cluster\" {\n  node \"Namespace: nodeaws\" {\n    node \"K8s Deployment (3 Replicas)\" {\n      node \"Node.js Web App\\n(JavaScript, Node.js HTTP)\" as app\n    }\n    component \"K8s Service (LoadBalancer)\\nPort 80 -> 3000\" as svc\n    svc --> app\n  }\n}\n\ncloud \"AWS ECR (Docker Image Registry)\" as ecr\napp ..> ecr : \"Pull Docker Image\"\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"502px\" preserveAspectRatio=\"none\" style=\"width:432px;height:502px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 432 502\" width=\"432px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster Kubernetes Cluster--><g class=\"cluster\" data-qualified-name=\"Kubernetes Cluster\" data-source-line=\"4\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,16,26,6,415,6,415,360.19,405,370.19,16,370.19,16,16\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"405\" x2=\"415\" y1=\"16\" y2=\"6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"405\" y1=\"16\" y2=\"16\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"405\" x2=\"405\" y1=\"16\" y2=\"370.19\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"152.5576\" x=\"135.2212\" y=\"31.9951\">Kubernetes Cluster</text></g><!--cluster Namespace: nodeaws--><g class=\"cluster\" data-qualified-name=\"Kubernetes Cluster.Namespace. nodeaws\" data-source-line=\"5\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"40,64,50,54,391,54,391,336.19,381,346.19,40,346.19,40,64\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"381\" x2=\"391\" y1=\"64\" y2=\"54\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"40\" x2=\"381\" y1=\"64\" y2=\"64\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"381\" x2=\"381\" y1=\"64\" y2=\"346.19\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"171.1309\" x=\"125.9346\" y=\"79.9951\">Namespace: nodeaws</text></g><!--cluster K8s Deployment (3 Replicas)--><g class=\"cluster\" data-qualified-name=\"Kubernetes Cluster.Namespace. nodeaws.K8s Deployment .3 Replicas.\" data-source-line=\"6\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"64,213.59,74,203.59,367,203.59,367,312.19,357,322.19,64,322.19,64,213.59\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"357\" x2=\"367\" y1=\"213.59\" y2=\"203.59\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"64\" x2=\"357\" y1=\"213.59\" y2=\"213.59\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"357\" x2=\"357\" y1=\"213.59\" y2=\"322.19\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"227.4795\" x=\"97.7603\" y=\"229.5851\">K8s Deployment (3 Replicas)</text></g><!--entity svc--><g class=\"entity\" data-qualified-name=\"Kubernetes Cluster.Namespace. nodeaws.svc\" data-source-line=\"9\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"62.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"232.3701\" x=\"98.81\" y=\"94\"/><rect fill=\"#FFFFFF\" height=\"10\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"15\" x=\"311.1801\" y=\"99\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"309.1801\" y=\"101\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"309.1801\" y=\"105\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.3818\" x=\"113.81\" y=\"126.9951\">K8s</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"139.1918\" y=\"126.9951\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.7412\" x=\"143.642\" y=\"126.9951\">Service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"195.3832\" y=\"126.9951\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"106.3467\" x=\"199.8334\" y=\"126.9951\">(LoadBalancer)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.2529\" x=\"154.0805\" y=\"143.292\">Port</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"182.3334\" y=\"143.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"17.8145\" x=\"186.7836\" y=\"143.292\">80</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"204.5981\" y=\"143.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"16.7822\" x=\"209.0483\" y=\"143.292\">-&gt;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"225.8305\" y=\"143.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.6289\" x=\"230.2807\" y=\"143.292\">3000</text></g><!--entity app--><g class=\"entity\" data-qualified-name=\"Kubernetes Cluster.Namespace. nodeaws.K8s Deployment .3 Replicas..app\" data-source-line=\"7\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"103.65,253.59,113.65,243.59,326.3473,243.59,326.3473,296.1838,316.3473,306.1838,103.65,306.1838,103.65,253.59\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"316.3473\" x2=\"326.3473\" y1=\"253.59\" y2=\"243.59\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"103.65\" x2=\"316.3473\" y1=\"253.59\" y2=\"253.59\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"316.3473\" x2=\"316.3473\" y1=\"253.59\" y2=\"306.1838\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.1719\" x=\"150.1158\" y=\"276.5851\">Node.js</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"202.2877\" y=\"276.5851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.3428\" x=\"206.7379\" y=\"276.5851\">Web</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"238.0807\" y=\"276.5851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.3506\" x=\"242.5309\" y=\"276.5851\">App</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.0898\" x=\"118.65\" y=\"292.882\">(JavaScript,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"198.7398\" y=\"292.882\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.1719\" x=\"203.19\" y=\"292.882\">Node.js</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"255.3619\" y=\"292.882\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"41.5352\" x=\"259.8121\" y=\"292.882\">HTTP)</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"ecr\" data-source-line=\"14\" id=\"ent0008\"><path d=\"M123.4128,440.3136 C128.0427,433.876 133.6385,435.2098 137.2358,441.4403 C139.8578,435.3558 144.4881,434.5882 149.1515,439.1569 C153.6136,432.9428 157.9916,433.0507 161.9266,439.6811 C166.8856,432.2033 171.9146,432.2915 177.4783,439.0192 C181.5422,432.3618 186.9705,433.6913 190.1451,439.8951 C194.9317,432.5288 199.1766,433.8156 203.8147,440.0444 C206.6551,434.1921 212.7374,433.2431 216.7015,438.7721 C221.1128,432.4335 225.7489,430.6876 230.7276,438.1975 C235.2734,433.2657 240.7944,433.344 243.4852,440.2045 C246.1867,433.3911 252.146,433.0989 256.5903,438.3042 C261.3161,433.114 265.1536,432.6812 268.6049,439.5718 C272.4534,431.8125 278.2045,431.7217 282.749,438.9134 C287.2152,433.6903 294.0546,434.443 296.5256,441.2065 C301.0065,434.6718 305.8611,433.4816 310.6842,440.8582 C324.2221,445.5323 324.8569,453.6469 316.6715,463.9527 C325.8345,474.4149 323.9432,483.627 309.8388,487.2718 C305.529,493.3667 301.227,493.5301 296.6647,487.5472 C292.753,493.702 285.969,494.3928 282.2205,487.3682 C278.145,493.5683 273.8874,495.8077 268.4286,488.8142 C265.0355,493.116 259.6006,493.9098 257.3341,487.6326 C252.9186,493.6146 247.4591,495.4948 242.9303,487.7515 C238.2583,493.9155 233.999,494.2855 229.8212,487.2602 C226.4605,494.1077 219.7005,494.3251 216.1905,487.408 C212.3636,494.2294 207.4873,495.1764 202.5677,488.5119 C199.2267,494.8663 192.36,495.4525 188.695,488.859 C184.678,493.4691 180.0544,492.3523 177.4634,487.2159 C172.8823,493.4405 167.179,495.6876 162.3439,487.4821 C158.4544,494.4227 154.4251,492.9924 149.8681,488.1915 C146.1333,494.8774 140.2889,493.8577 136.8001,487.9365 C131.9917,494.0358 127.3728,493.0873 123.1919,487.2228 C108.2414,484.9858 105.6374,476.0868 114.5912,464.7154 C105.8481,453.1415 110.5507,444.0769 123.4128,440.3136\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"128.58\" y=\"459.1851\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"160.8866\" y=\"459.1851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"165.3368\" y=\"459.1851\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"193.6855\" y=\"459.1851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"54.9814\" x=\"198.1357\" y=\"459.1851\">(Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"253.1171\" y=\"459.1851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"257.5673\" y=\"459.1851\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.4033\" x=\"183.2948\" y=\"475.482\">Registry)</text></g><!--link svc to app--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"10\" id=\"lnk7\"><path d=\"M215,156.88 C215,182.12 215,211.79 215,237.09\" fill=\"none\" id=\"svc-to-app\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"215,243.09,219,234.09,215,238.09,211,234.09,215,243.09\" style=\"stroke:#000000;stroke-width:2;\"/></g><!--link app to ecr--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"15\" id=\"lnk9\"><path d=\"M215,306.54 C215,340.92 215,390.38 215,424.79\" fill=\"none\" id=\"app-to-ecr\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"215,430.79,219,421.79,215,425.79,211,421.79,215,430.79\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5098\" x=\"216\" y=\"398.3287\">Pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"237.5098\" y=\"398.3287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.4453\" x=\"241.3242\" y=\"398.3287\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"283.7695\" y=\"398.3287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.582\" x=\"287.584\" y=\"398.3287\">Image</text></g><!--SRC=[JP1DQm8n48Rl-HNZdbReVb0lua6mMcXhAOiANhnaiwEcpIOX7ojI_EyTLvHUCfayUT_v63IubnfXjbrNiLLm3C7wIL4uVieFCXnZ7JqwONH07N9XseAVlEArlyPC4l3PthZCAgu36HJTSvcNHIDzO0EfXOhDmxoWE3TjQtHkAMLC6uB9CjReD0RqC5VH1tG9_3A06_tYBNhB1Kxw1wfwetU-77jOe5Nct5A7a8vWHPaKt0_l7nzMTERV7hPOmypQdKu_UCVNmaaRdk1EtpQRYgJS0xUsrr_wasQtHbzhz3NNw3ef4D9FmviNJkCBTCEThemBC2uXcyAeBClUo7UYjw086O6RyOLT61FAn0OIsWoypbUGBepuGGVlBJyWJNAWFRhphHqKZf4IydnwlSC4aYeg1VyboHy0]--></g></svg>",
  "architecture_description": "This architecture represents a containerized Node.js web application deployed on a Kubernetes cluster, with images stored in AWS ECR.\n\n**Components:**\n- **AWS ECR (Docker Image Registry):** Stores the Docker images for the Node.js application. The Kubernetes deployment pulls images from here.\n- **Kubernetes Cluster:** The main orchestration environment for the application.\n  - **Namespace: nodeaws:** Logical grouping for resources related to this application.\n    - **K8s Deployment (3 Replicas):** Manages three instances (pods) of the Node.js web application for high availability and scalability.\n      - **Node.js Web App:** The application itself, implemented in JavaScript using the native Node.js HTTP module, listens on port 3000.\n    - **K8s Service (LoadBalancer):** Exposes the Node.js application to external traffic. It listens on port 80 and forwards requests to port 3000 on the pods.\n\n**Relationships:**\n- The Node.js application containers are built from images pulled from AWS ECR.\n- The Kubernetes Service (LoadBalancer) routes external HTTP traffic to the Node.js application pods.\n- The deployment ensures three replicas of the application are always running for resilience."
}