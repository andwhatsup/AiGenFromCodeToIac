{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ncloud \"AWS\" as aws\ncloud \"Docker Hub\" as dockerhub\n\nnode \"Kubernetes Cluster\" as k8s {\n  node \"StatefulSet\" as statefulset {\n    node \"Energi Node\\n(Docker, Alpine, curl)\" as energi_node\n    database \"Persistent Volume\" as pv\n  }\n}\n\naws -down-> k8s : \"Hosts\"\ndockerhub -down-> energi_node : \"Image Pull\"\nenergi_node -down-> pv : \"Stores blockchain data\"\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"465px\" preserveAspectRatio=\"none\" style=\"width:342px;height:465px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 342 465\" width=\"342px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster k8s--><g class=\"cluster\" data-qualified-name=\"k8s\" data-source-line=\"7\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"33.6416,131.57,43.6416,121.57,325.6416,121.57,325.6416,438.46,315.6416,448.46,33.6416,448.46,33.6416,131.57\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"315.6416\" x2=\"325.6416\" y1=\"131.57\" y2=\"121.57\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"33.6416\" x2=\"315.6416\" y1=\"131.57\" y2=\"131.57\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"315.6416\" x2=\"315.6416\" y1=\"131.57\" y2=\"448.46\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"152.5576\" x=\"99.3628\" y=\"147.5651\">Kubernetes Cluster</text></g><!--cluster statefulset--><g class=\"cluster\" data-qualified-name=\"k8s.statefulset\" data-source-line=\"8\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"73.6416,187.57,83.6416,177.57,293.6416,177.57,293.6416,406.46,283.6416,416.46,73.6416,416.46,73.6416,187.57\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"283.6416\" x2=\"293.6416\" y1=\"187.57\" y2=\"177.57\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"73.6416\" x2=\"283.6416\" y1=\"187.57\" y2=\"187.57\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"283.6416\" x2=\"283.6416\" y1=\"187.57\" y2=\"416.46\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"89.5371\" x=\"134.8731\" y=\"203.5651\">StatefulSet</text></g><!--entity energi_node--><g class=\"entity\" data-qualified-name=\"k8s.statefulset.energi_node\" data-source-line=\"9\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"89.5516,227.57,99.5516,217.57,277.7411,217.57,277.7411,270.1637,267.7411,280.1637,89.5516,280.1637,89.5516,227.57\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"267.7411\" x2=\"277.7411\" y1=\"227.57\" y2=\"217.57\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"89.5516\" x2=\"267.7411\" y1=\"227.57\" y2=\"227.57\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"267.7411\" x2=\"267.7411\" y1=\"227.57\" y2=\"280.1637\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.8643\" x=\"135.7201\" y=\"250.5651\">Energi</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"180.5844\" y=\"250.5651\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.5381\" x=\"185.0346\" y=\"250.5651\">Node</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"59.4316\" x=\"104.5516\" y=\"266.8619\">(Docker,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"163.9833\" y=\"266.8619\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.1797\" x=\"168.4335\" y=\"266.8619\">Alpine,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"216.6132\" y=\"266.8619\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.6777\" x=\"221.0634\" y=\"266.8619\">curl)</text></g><!--entity pv--><g class=\"entity\" data-qualified-name=\"k8s.statefulset.pv\" data-source-line=\"10\" id=\"ent0007\"><path d=\"M89.9616,365.16 C89.9616,355.16 163.6418,355.16 163.6418,355.16 C163.6418,355.16 237.322,355.16 237.322,365.16 L237.322,390.4568 C237.322,400.4568 163.6418,400.4568 163.6418,400.4568 C163.6418,400.4568 89.9616,400.4568 89.9616,390.4568 L89.9616,365.16\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M89.9616,365.16 C89.9616,375.16 163.6418,375.16 163.6418,375.16 C163.6418,375.16 237.322,375.16 237.322,365.16\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.7539\" x=\"99.9616\" y=\"392.1551\">Persistent</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"169.7155\" y=\"392.1551\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.1563\" x=\"174.1657\" y=\"392.1551\">Volume</text></g><!--entity aws--><g class=\"entity\" data-qualified-name=\"aws\" data-source-line=\"4\" id=\"ent0002\"><path d=\"M18.8405,14.9632 C21.8575,9.4087 27.4486,8.7252 31.2606,14.056 C33.571,9.2573 38.7706,7.6525 41.9645,13.1362 C45.8799,7.855 49.9566,7.01 54.0113,12.9871 C58.5019,7.6716 63.4384,8.3057 66.5218,14.5147 C75.3626,16.9743 76.5677,24.6554 70.2243,30.6083 C75.5962,37.7421 74.7642,43.4749 65.0567,45.3075 C63.5273,52.13 59.127,53.9243 53.7957,48.9308 C52.088,55.6002 47.4375,57.5902 42.2169,52.3444 C38.0186,56.1462 33.4842,55.3881 31.7429,49.6476 C25.8756,53.222 21.9944,51.4328 20.2455,44.9429 C9.7651,46.4823 6.8159,39.095 10.2981,30.8082 C6,21.4734 7.7058,15.9777 18.8405,14.9632\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"25.4916\" y=\"34.2651\">AWS</text></g><!--entity dockerhub--><g class=\"entity\" data-qualified-name=\"dockerhub\" data-source-line=\"5\" id=\"ent0003\"><path d=\"M136.3544,16.0262 C139.7246,9.7651 144.1501,9.9275 148.7753,14.6007 C151.7355,8.1751 156.202,6.7695 160.9649,12.8426 C164.5596,6 169.9483,6.6255 173.4797,12.903 C176.954,7.5501 181.3232,7.0911 185.6893,11.8234 C189.0212,6.9744 193.9144,7.0233 196.0323,12.9849 C200.0506,7.3475 206.0097,8.6459 208.2191,14.847 C212.3524,9.1683 217.8572,8.0678 221.9128,14.9318 C224.8286,11.0519 229.5929,10.5366 231.9008,15.61 C241.4739,15.6735 245.384,22.2619 240.7009,30.6609 C245.6105,39.5771 241.2519,43.3896 232.7553,44.7402 C230.4775,50.8183 225.2048,50.5074 221.5299,46.2588 C218.8881,51.2774 213.3339,51.8178 209.8138,47.3428 C205.7708,53.9221 201.3096,52.8151 197.1807,47.4335 C193.2119,54.4774 187.4551,53.5474 183.8343,47.0895 C179.936,52.3821 176.356,52.3222 172.2318,47.3447 C167.7515,52.5396 162.539,52.4318 159.6414,45.6771 C156.9596,51.0019 152.2801,51.4879 148.6263,46.7401 C143.9594,52.965 138.6391,52.3118 135.6604,45.1099 C127.7019,42.544 127.4559,35.4786 133.7278,30.968 C127.0676,24.5784 128.964,19.9459 136.3544,16.0262\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"142.5116\" y=\"34.2651\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"192.0312\" y=\"34.2651\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.2871\" x=\"196.4814\" y=\"34.2651\">Hub</text></g><!--link aws to k8s--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"14\" id=\"lnk8\"><path d=\"M41.6416,52.87 C41.6416,66.5425 41.6416,85.295 41.6416,105.799 C41.6416,110.925 41.6416,110.1605 41.6416,115.4535\" fill=\"none\" id=\"aws-to-k8s\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"41.6416,121.4535,45.6416,112.4535,41.6416,116.4535,37.6416,112.4535,41.6416,121.4535\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33.5742\" x=\"42.6416\" y=\"94.7086\">Hosts</text></g><!--link dockerhub to energi_node--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"15\" id=\"lnk9\"><path d=\"M183.6416,52.87 C183.6416,92.04 183.6416,166.92 183.6416,211.21\" fill=\"none\" id=\"dockerhub-to-energi_node\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"183.6416,217.21,187.6416,208.21,183.6416,212.21,179.6416,208.21,183.6416,217.21\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.582\" x=\"184.6416\" y=\"94.7086\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"222.2237\" y=\"94.7086\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5098\" x=\"226.0381\" y=\"94.7086\">Pull</text></g><!--link energi_node to pv--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"16\" id=\"lnk10\"><path d=\"M178.8016,280.6 C175.1916,303.49 171.285,328.283 168.055,348.793\" fill=\"none\" id=\"energi_node-to-pv\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"167.1216,354.72,172.473,346.4518,167.8995,349.7808,164.5704,345.2073,167.1216,354.72\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.2324\" x=\"174.6416\" y=\"322.2986\">Stores</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"212.8741\" y=\"322.2986\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"64.3359\" x=\"216.6885\" y=\"322.2986\">blockchain</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"281.0245\" y=\"322.2986\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.0293\" x=\"284.8389\" y=\"322.2986\">data</text></g><!--SRC=[JP1DQyCm38Rl_XLgJXiqITbfz30exQ1ZC0g1xJ8OJgosfeuTBBazZFxtAUvQUXBI- -ZLnyJWrdg4nLUpIRs3FVD0yxgE-bJjBEzJcmXZ5poZvweBVQrFv7HBOooj25HkGom7fpsBGNrycbMpsbXYDR6-SydSp6k9oz3tmLU3f4frBYG3XPGBq0JYU2sjGdV02ElKPiNaL9PHoWSnBDvJYz4Z8y7I9MACcJiy4_mgW0lKi6RS9jSWPvN-SqBEr9LxzHXt5Zua-VOFbz5JMBX17ZE5BaNtcFinSpzZK-uscdMhIHms64akbXV1Pt2fnymFHy7EwgoKN0Qb2ITVlkGTvr2i0p4LwdRPJR-RCd9llTuXR99pXRgNhlXm7Ac6GvHVj4xikhssFYzN_040]--></g></svg>",
  "architecture_description": "This architecture represents the deployment of an Energi blockchain node using containerization and Kubernetes on AWS, with persistent storage and CI/CD integration:\n\n- **AWS Cloud**: The entire Kubernetes cluster is hosted on AWS, providing the infrastructure for deployment and scaling.\n- **Kubernetes Cluster**: Manages the lifecycle and orchestration of the application components.\n  - **StatefulSet**: Ensures stable network identity and persistent storage for the Energi Node, suitable for stateful applications like blockchain nodes.\n    - **Energi Node**: Runs inside a Docker container based on Alpine Linux with curl installed. This node is responsible for participating in the blockchain network.\n    - **Persistent Volume**: Provides durable storage for blockchain data, ensuring data is retained across pod restarts or rescheduling.\n- **Docker Hub**: Hosts the container image for the Energi Node. The Kubernetes cluster pulls the image from Docker Hub during deployment, as defined in the CI/CD pipeline.\n\n**Relationships:**\n- AWS hosts the Kubernetes cluster.\n- Docker Hub provides the container image for the Energi Node.\n- The Energi Node stores its blockchain data in the Persistent Volume.\n\nThis setup ensures a robust, scalable, and persistent deployment of a blockchain node, leveraging cloud-native and container orchestration best practices."
}