digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.archive_file.lambda_dummy" [label="data.archive_file.lambda_dummy"];
  "data.aws_iam_policy_document.apigateway_assume" [label="data.aws_iam_policy_document.apigateway_assume"];
  "data.aws_iam_policy_document.apigateway_bucket_access" [label="data.aws_iam_policy_document.apigateway_bucket_access"];
  "data.aws_iam_policy_document.dynamo_access" [label="data.aws_iam_policy_document.dynamo_access"];
  "data.aws_iam_policy_document.lambda_assume" [label="data.aws_iam_policy_document.lambda_assume"];
  "aws_api_gateway_deployment.main" [label="aws_api_gateway_deployment.main"];
  "aws_api_gateway_integration.redirect" [label="aws_api_gateway_integration.redirect"];
  "aws_api_gateway_integration.root" [label="aws_api_gateway_integration.root"];
  "aws_api_gateway_integration.store" [label="aws_api_gateway_integration.store"];
  "aws_api_gateway_integration_response.root_response" [label="aws_api_gateway_integration_response.root_response"];
  "aws_api_gateway_method.redirect" [label="aws_api_gateway_method.redirect"];
  "aws_api_gateway_method.root" [label="aws_api_gateway_method.root"];
  "aws_api_gateway_method.store" [label="aws_api_gateway_method.store"];
  "aws_api_gateway_method_response.root_response_200" [label="aws_api_gateway_method_response.root_response_200"];
  "aws_api_gateway_resource.redirect" [label="aws_api_gateway_resource.redirect"];
  "aws_api_gateway_resource.store" [label="aws_api_gateway_resource.store"];
  "aws_api_gateway_rest_api.url_shortener" [label="aws_api_gateway_rest_api.url_shortener"];
  "aws_api_gateway_stage.main" [label="aws_api_gateway_stage.main"];
  "aws_apigatewayv2_api_mapping.url_shortener" [label="aws_apigatewayv2_api_mapping.url_shortener"];
  "aws_apigatewayv2_domain_name.url_shortener" [label="aws_apigatewayv2_domain_name.url_shortener"];
  "aws_dynamodb_table.url_shortener" [label="aws_dynamodb_table.url_shortener"];
  "aws_iam_role.apigateway" [label="aws_iam_role.apigateway"];
  "aws_iam_role.url_shortener" [label="aws_iam_role.url_shortener"];
  "aws_iam_role_policy.apigateway_s3_bucket" [label="aws_iam_role_policy.apigateway_s3_bucket"];
  "aws_iam_role_policy.dynamo_table" [label="aws_iam_role_policy.dynamo_table"];
  "aws_iam_role_policy_attachment.basic_exec" [label="aws_iam_role_policy_attachment.basic_exec"];
  "aws_lambda_function.url_shortener" [label="aws_lambda_function.url_shortener"];
  "aws_lambda_permission.allow_apig" [label="aws_lambda_permission.allow_apig"];
  "aws_route53_record.secret" [label="aws_route53_record.secret"];
  "aws_s3_bucket.url_shortener_site" [label="aws_s3_bucket.url_shortener_site"];
  "aws_s3_bucket_public_access_block.site_block_all" [label="aws_s3_bucket_public_access_block.site_block_all"];
  "data.aws_iam_policy_document.apigateway_bucket_access" -> "aws_s3_bucket.url_shortener_site";
  "data.aws_iam_policy_document.dynamo_access" -> "aws_dynamodb_table.url_shortener";
  "aws_api_gateway_deployment.main" -> "aws_api_gateway_method_response.root_response_200";
  "aws_api_gateway_integration.redirect" -> "aws_api_gateway_method.redirect";
  "aws_api_gateway_integration.redirect" -> "aws_lambda_function.url_shortener";
  "aws_api_gateway_integration.root" -> "aws_api_gateway_method.root";
  "aws_api_gateway_integration.root" -> "aws_iam_role.apigateway";
  "aws_api_gateway_integration.store" -> "aws_api_gateway_method.store";
  "aws_api_gateway_integration.store" -> "aws_lambda_function.url_shortener";
  "aws_api_gateway_integration_response.root_response" -> "aws_api_gateway_method_response.root_response_200";
  "aws_api_gateway_method.redirect" -> "aws_api_gateway_resource.redirect";
  "aws_api_gateway_method.root" -> "aws_api_gateway_rest_api.url_shortener";
  "aws_api_gateway_method.store" -> "aws_api_gateway_resource.store";
  "aws_api_gateway_method_response.root_response_200" -> "aws_api_gateway_method.root";
  "aws_api_gateway_resource.redirect" -> "aws_api_gateway_rest_api.url_shortener";
  "aws_api_gateway_resource.store" -> "aws_api_gateway_rest_api.url_shortener";
  "aws_api_gateway_stage.main" -> "aws_api_gateway_deployment.main";
  "aws_apigatewayv2_api_mapping.url_shortener" -> "aws_api_gateway_stage.main";
  "aws_apigatewayv2_api_mapping.url_shortener" -> "aws_apigatewayv2_domain_name.url_shortener";
  "aws_iam_role.apigateway" -> "data.aws_iam_policy_document.apigateway_assume";
  "aws_iam_role.url_shortener" -> "data.aws_iam_policy_document.lambda_assume";
  "aws_iam_role_policy.apigateway_s3_bucket" -> "data.aws_iam_policy_document.apigateway_bucket_access";
  "aws_iam_role_policy.apigateway_s3_bucket" -> "aws_iam_role.apigateway";
  "aws_iam_role_policy.dynamo_table" -> "data.aws_iam_policy_document.dynamo_access";
  "aws_iam_role_policy.dynamo_table" -> "aws_iam_role.url_shortener";
  "aws_iam_role_policy_attachment.basic_exec" -> "aws_iam_role.url_shortener";
  "aws_lambda_function.url_shortener" -> "aws_iam_role.url_shortener";
  "aws_lambda_permission.allow_apig" -> "aws_api_gateway_rest_api.url_shortener";
  "aws_lambda_permission.allow_apig" -> "aws_lambda_function.url_shortener";
  "aws_route53_record.secret" -> "aws_apigatewayv2_domain_name.url_shortener";
  "aws_s3_bucket_public_access_block.site_block_all" -> "aws_s3_bucket.url_shortener_site";
}
