{"format_version":"1.2","terraform_version":"1.13.5","variables":{"aws_region":{"value":"us-east-1"},"lambda_image_uri":{"value":"\u003cECR_IMAGE_URI\u003e"},"lambda_memory_size":{"value":1024},"lambda_timeout":{"value":60},"project_name":{"value":"playwright-lambda"}},"planned_values":{"outputs":{"ecr_repository_url":{"sensitive":false},"lambda_function_name":{"sensitive":false,"type":"string","value":"playwright-lambda"},"lambda_log_group_name":{"sensitive":false,"type":"string","value":"/aws/lambda/playwright-lambda"}},"root_module":{"resources":[{"address":"aws_cloudwatch_log_group.lambda_log_group","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda_log_group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/playwright-lambda","region":"us-east-1","retention_in_days":14,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"name":null,"region":null}},{"address":"aws_ecr_repository.lambda_repo","mode":"managed","type":"aws_ecr_repository","name":"lambda_repo","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"encryption_configuration":[],"force_delete":true,"image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","image_tag_mutability_exclusion_filter":[],"name":"playwright-lambda-repo","region":"us-east-1","tags":null,"timeouts":null},"sensitive_values":{"encryption_configuration":[],"image_scanning_configuration":[{}],"image_tag_mutability_exclusion_filter":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"name":null,"region":null}},{"address":"aws_iam_policy.lambda_ecr_policy","mode":"managed","type":"aws_iam_policy","name":"lambda_ecr_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"delay_after_policy_creation_in_ms":null,"description":"Allow Lambda to pull from ECR and write logs to CloudWatch.","name":"playwright-lambda-lambda-ecr-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ecr:GetDownloadUrlForLayer\",\"ecr:GetAuthorizationToken\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}],\"Version\":\"2012-10-17\"}","tags":null},"sensitive_values":{"tags_all":{}},"identity_schema_version":0,"identity":{"arn":null}},{"address":"aws_iam_role.lambda_exec","mode":"managed","type":"aws_iam_role","name":"lambda_exec","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"playwright-lambda-lambda-exec","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"name":null}},{"address":"aws_iam_role_policy_attachment.lambda_ecr_attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_ecr_attach","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"playwright-lambda-lambda-exec"},"sensitive_values":{},"identity_schema_version":0,"identity":{"account_id":null,"policy_arn":null,"role":null}},{"address":"aws_lambda_function.playwright_lambda","mode":"managed","type":"aws_lambda_function","name":"playwright_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_config":[],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"durable_config":[],"environment":[{"variables":{"NODE_ENV":"production"}}],"file_system_config":[],"filename":null,"function_name":"playwright-lambda","handler":null,"image_config":[],"image_uri":"\u003cECR_IMAGE_URI\u003e","kms_key_arn":null,"layers":null,"memory_size":1024,"package_type":"Image","publish":false,"publish_to":null,"region":"us-east-1","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"runtime":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false,"snap_start":[],"source_kms_key_arn":null,"tags":null,"tenancy_config":[],"timeout":60,"timeouts":null,"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[],"capacity_provider_config":[],"dead_letter_config":[],"durable_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags_all":{},"tenancy_config":[],"tracing_config":[],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]},"identity_schema_version":0,"identity":{"account_id":null,"function_name":null,"region":null}},{"address":"aws_security_group.lambda_sg","mode":"managed","type":"aws_security_group","name":"lambda_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for Lambda function","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"playwright-lambda-lambda-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"playwright-lambda-lambda-sg"},"tags_all":{"Name":"playwright-lambda-lambda-sg"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.private_a","mode":"managed","type":"aws_subnet","name":"private_a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"playwright-lambda-subnet-a"},"tags_all":{"Name":"playwright-lambda-subnet-a"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.private_b","mode":"managed","type":"aws_subnet","name":"private_b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"playwright-lambda-subnet-b"},"tags_all":{"Name":"playwright-lambda-subnet-b"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"region":"us-east-1","tags":{"Name":"playwright-lambda-vpc"},"tags_all":{"Name":"playwright-lambda-vpc"}},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}}]}},"resource_changes":[{"address":"aws_cloudwatch_log_group.lambda_log_group","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda_log_group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/playwright-lambda","region":"us-east-1","retention_in_days":14,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"deletion_protection_enabled":true,"id":true,"log_group_class":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}},"after_identity":{"account_id":null,"name":null,"region":null}}},{"address":"aws_ecr_repository.lambda_repo","mode":"managed","type":"aws_ecr_repository","name":"lambda_repo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"encryption_configuration":[],"force_delete":true,"image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","image_tag_mutability_exclusion_filter":[],"name":"playwright-lambda-repo","region":"us-east-1","tags":null,"timeouts":null},"after_unknown":{"arn":true,"encryption_configuration":[],"id":true,"image_scanning_configuration":[{}],"image_tag_mutability_exclusion_filter":[],"registry_id":true,"repository_url":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"encryption_configuration":[],"image_scanning_configuration":[{}],"image_tag_mutability_exclusion_filter":[],"tags_all":{}},"after_identity":{"account_id":null,"name":null,"region":null}}},{"address":"aws_iam_policy.lambda_ecr_policy","mode":"managed","type":"aws_iam_policy","name":"lambda_ecr_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"delay_after_policy_creation_in_ms":null,"description":"Allow Lambda to pull from ECR and write logs to CloudWatch.","name":"playwright-lambda-lambda-ecr-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ecr:GetDownloadUrlForLayer\",\"ecr:GetAuthorizationToken\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}],\"Version\":\"2012-10-17\"}","tags":null},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}},"after_identity":{"arn":null}}},{"address":"aws_iam_role.lambda_exec","mode":"managed","type":"aws_iam_role","name":"lambda_exec","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"playwright-lambda-lambda-exec","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"after_identity":{"account_id":null,"name":null}}},{"address":"aws_iam_role_policy_attachment.lambda_ecr_attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_ecr_attach","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"playwright-lambda-lambda-exec"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{},"after_identity":{"account_id":null,"policy_arn":null,"role":null}}},{"address":"aws_lambda_function.playwright_lambda","mode":"managed","type":"aws_lambda_function","name":"playwright_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_provider_config":[],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"durable_config":[],"environment":[{"variables":{"NODE_ENV":"production"}}],"file_system_config":[],"filename":null,"function_name":"playwright-lambda","handler":null,"image_config":[],"image_uri":"\u003cECR_IMAGE_URI\u003e","kms_key_arn":null,"layers":null,"memory_size":1024,"package_type":"Image","publish":false,"publish_to":null,"region":"us-east-1","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"runtime":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false,"snap_start":[],"source_kms_key_arn":null,"tags":null,"tenancy_config":[],"timeout":60,"timeouts":null,"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":true,"arn":true,"capacity_provider_config":[],"code_sha256":true,"dead_letter_config":[],"durable_config":[],"environment":[{"variables":{}}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"response_streaming_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tenancy_config":[],"tracing_config":true,"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[],"capacity_provider_config":[],"dead_letter_config":[],"durable_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags_all":{},"tenancy_config":[],"tracing_config":[],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]},"after_identity":{"account_id":null,"function_name":null,"region":null}}},{"address":"aws_security_group.lambda_sg","mode":"managed","type":"aws_security_group","name":"lambda_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for Lambda function","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"playwright-lambda-lambda-sg","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"playwright-lambda-lambda-sg"},"tags_all":{"Name":"playwright-lambda-lambda-sg"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.private_a","mode":"managed","type":"aws_subnet","name":"private_a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"playwright-lambda-subnet-a"},"tags_all":{"Name":"playwright-lambda-subnet-a"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.private_b","mode":"managed","type":"aws_subnet","name":"private_b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"playwright-lambda-subnet-b"},"tags_all":{"Name":"playwright-lambda-subnet-b"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"region":"us-east-1","tags":{"Name":"playwright-lambda-vpc"},"tags_all":{"Name":"playwright-lambda-vpc"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}}],"output_changes":{"ecr_repository_url":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"lambda_function_name":{"actions":["create"],"before":null,"after":"playwright-lambda","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"lambda_log_group_name":{"actions":["create"],"before":null,"after":"/aws/lambda/playwright-lambda","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.5","values":{"outputs":{"lambda_function_name":{"sensitive":false,"value":"playwright-lambda","type":"string"},"lambda_log_group_name":{"sensitive":false,"value":"/aws/lambda/playwright-lambda","type":"string"}},"root_module":{"resources":[{"address":"data.archive_file.lambda_dummy","mode":"data","type":"archive_file","name":"lambda_dummy","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":null,"id":"58e93fade67637870be5af38eff8d5aa66c7da49","output_base64sha256":"wmbalFzzY/wG3ivChKElOZB3+B4gptmQyIat05p+fU4=","output_base64sha512":"BQYAg1LwEY4tDmry1VoRx6StX0vjH+7LpfB5KAZLVvfJQjioPbBv1QxI6QF6P2U614fU3h9XKBCb9z5Y1ornqA==","output_file_mode":null,"output_md5":"a0dbd832a6a977d6d5b28ea5c85e30fb","output_path":"./.dummy/lambda.zip","output_sha":"58e93fade67637870be5af38eff8d5aa66c7da49","output_sha256":"c266da945cf363fc06de2bc284a125399077f81e20a6d990c886add39a7e7d4e","output_sha512":"0506008352f0118e2d0e6af2d55a11c7a4ad5f4be31feecba5f07928064b56f7c94238a83db06fd50c48e9017a3f653ad787d4de1f5728109bf73e58d68ae7a8","output_size":246,"source":[{"content":"exports.handler = async (event) =\u003e {\n  console.log(\"Dummy lambda invoked\");\n  return { statusCode: 200, body: \"dummy\" };\n};\n","filename":"index.js"}],"source_content":null,"source_content_filename":null,"source_dir":null,"source_file":null,"type":"zip"},"sensitive_values":{"source":[{}]}},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":[""],"id":"us-east-1","names":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e","us-east-1f"],"region":"us-east-1","state":null,"timeouts":null,"zone_ids":["use1-az6","use1-az1","use1-az2","use1-az4","use1-az3","use1-az5"]},"sensitive_values":{"group_names":[false],"names":[false,false,false,false,false,false],"zone_ids":[false,false,false,false,false,false]}},{"address":"data.aws_iam_policy_document.lambda_assume_role","mode":"data","type":"aws_iam_policy_document","name":"lambda_assume_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2690255455","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.aws_iam_policy_document.lambda_ecr_policy","mode":"data","type":"aws_iam_policy_document","name":"lambda_ecr_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3637886389","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:*:*:*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ecr:GetDownloadUrlForLayer\",\"ecr:GetAuthorizationToken\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Resource\":\"arn:aws:logs:*:*:*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:logs:*:*:*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}]}}},"configuration":{"provider_config":{"archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive"},"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"\u003e= 4.0.0","expressions":{"region":{"references":["var.aws_region"]}}}},"root_module":{"outputs":{"ecr_repository_url":{"expression":{"references":["aws_ecr_repository.lambda_repo.repository_url","aws_ecr_repository.lambda_repo"]},"description":"URL of the ECR repository for Lambda image."},"lambda_function_name":{"expression":{"references":["aws_lambda_function.playwright_lambda.function_name","aws_lambda_function.playwright_lambda"]},"description":"Name of the deployed Lambda function."},"lambda_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.lambda_log_group.name","aws_cloudwatch_log_group.lambda_log_group"]},"description":"CloudWatch Log Group for Lambda."}},"resources":[{"address":"aws_cloudwatch_log_group.lambda_log_group","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda_log_group","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"retention_in_days":{"constant_value":14}},"schema_version":0},{"address":"aws_ecr_repository.lambda_repo","mode":"managed","type":"aws_ecr_repository","name":"lambda_repo","provider_config_key":"aws","expressions":{"force_delete":{"constant_value":true},"image_scanning_configuration":[{"scan_on_push":{"constant_value":true}}],"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_policy.lambda_ecr_policy","mode":"managed","type":"aws_iam_policy","name":"lambda_ecr_policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow Lambda to pull from ECR and write logs to CloudWatch."},"name":{"references":["var.project_name"]},"policy":{"references":["data.aws_iam_policy_document.lambda_ecr_policy.json","data.aws_iam_policy_document.lambda_ecr_policy"]}},"schema_version":0},{"address":"aws_iam_role.lambda_exec","mode":"managed","type":"aws_iam_role","name":"lambda_exec","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.lambda_assume_role.json","data.aws_iam_policy_document.lambda_assume_role"]},"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_ecr_attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_ecr_attach","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_ecr_policy.arn","aws_iam_policy.lambda_ecr_policy"]},"role":{"references":["aws_iam_role.lambda_exec.name","aws_iam_role.lambda_exec"]}},"schema_version":0},{"address":"aws_lambda_function.playwright_lambda","mode":"managed","type":"aws_lambda_function","name":"playwright_lambda","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"NODE_ENV":"production"}}}],"function_name":{"references":["var.project_name"]},"image_uri":{"references":["var.lambda_image_uri"]},"memory_size":{"references":["var.lambda_memory_size"]},"package_type":{"constant_value":"Image"},"role":{"references":["aws_iam_role.lambda_exec.arn","aws_iam_role.lambda_exec"]},"timeout":{"references":["var.lambda_timeout"]},"vpc_config":[{"security_group_ids":{"references":["aws_security_group.lambda_sg.id","aws_security_group.lambda_sg"]},"subnet_ids":{"references":["aws_subnet.private_a.id","aws_subnet.private_a","aws_subnet.private_b.id","aws_subnet.private_b"]}}]},"schema_version":0,"depends_on":["aws_iam_role_policy_attachment.lambda_ecr_attach"]},{"address":"aws_security_group.lambda_sg","mode":"managed","type":"aws_security_group","name":"lambda_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for Lambda function"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.private_a","mode":"managed","type":"aws_subnet","name":"private_a","provider_config_key":"aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names[0]","data.aws_availability_zones.available.names","data.aws_availability_zones.available"]},"cidr_block":{"constant_value":"10.0.1.0/24"},"map_public_ip_on_launch":{"constant_value":false},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.private_b","mode":"managed","type":"aws_subnet","name":"private_b","provider_config_key":"aws","expressions":{"availability_zone":{"references":["data.aws_availability_zones.available.names[1]","data.aws_availability_zones.available.names","data.aws_availability_zones.available"]},"cidr_block":{"constant_value":"10.0.2.0/24"},"map_public_ip_on_launch":{"constant_value":false},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"references":["var.project_name"]}},"schema_version":1},{"address":"data.archive_file.lambda_dummy","mode":"data","type":"archive_file","name":"lambda_dummy","provider_config_key":"archive","expressions":{"output_path":{"references":["local.lambda_dummy_zip"]},"source":[{"content":{"constant_value":"exports.handler = async (event) =\u003e {\n  console.log(\"Dummy lambda invoked\");\n  return { statusCode: 200, body: \"dummy\" };\n};\n"},"filename":{"constant_value":"index.js"}}],"type":{"constant_value":"zip"}},"schema_version":0},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.lambda_assume_role","mode":"data","type":"aws_iam_policy_document","name":"lambda_assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["lambda.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.lambda_ecr_policy","mode":"data","type":"aws_iam_policy_document","name":"lambda_ecr_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ecr:GetAuthorizationToken","ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"]},"resources":{"constant_value":["arn:aws:logs:*:*:*"]}}]},"schema_version":0}],"variables":{"aws_region":{"default":"us-east-1","description":"AWS region to deploy resources in."},"lambda_image_uri":{"description":"ECR image URI for the Lambda function (must be set after pushing image)."},"lambda_memory_size":{"default":1024,"description":"Memory size for the Lambda function in MB."},"lambda_timeout":{"default":60,"description":"Timeout for the Lambda function in seconds."},"project_name":{"default":"playwright-lambda","description":"Name prefix for all resources."}}}},"relevant_attributes":[{"resource":"data.aws_iam_policy_document.lambda_assume_role","attribute":["json"]},{"resource":"aws_subnet.private_b","attribute":["id"]},{"resource":"aws_security_group.lambda_sg","attribute":["id"]},{"resource":"aws_vpc.main","attribute":["id"]},{"resource":"aws_cloudwatch_log_group.lambda_log_group","attribute":["name"]},{"resource":"aws_ecr_repository.lambda_repo","attribute":["repository_url"]},{"resource":"aws_subnet.private_a","attribute":["id"]},{"resource":"data.aws_iam_policy_document.lambda_ecr_policy","attribute":["json"]},{"resource":"aws_lambda_function.playwright_lambda","attribute":["function_name"]},{"resource":"aws_iam_policy.lambda_ecr_policy","attribute":["arn"]},{"resource":"data.aws_availability_zones.available","attribute":["names",0]},{"resource":"aws_iam_role.lambda_exec","attribute":["name"]},{"resource":"data.aws_availability_zones.available","attribute":["names",1]},{"resource":"aws_iam_role.lambda_exec","attribute":["arn"]}],"timestamp":"2026-01-19T15:07:57Z","applyable":true,"complete":true,"errored":false}
