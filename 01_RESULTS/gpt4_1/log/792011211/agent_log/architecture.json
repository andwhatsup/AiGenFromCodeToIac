{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\n' Deployment diagram for Flask app on AWS EKS with supporting resources\nnode \"AWS EKS Cluster\\n(Kubernetes)\" as eks {\n  node \"Flask Web App\\n(Python, Flask, Waitress)\" as flask {\n    artifact \"Docker Container\" as container\n  }\n  folder \"Kubernetes Resources\" as k8s {\n    component \"ServiceAccount & RBAC\" as rbac\n    component \"K8s Service\" as svc\n    component \"K8s Deployment\" as deploy\n    component \"K8s Ingress\" as ingress\n  }\n}\n\ncloud \"AWS Secrets Manager\" as secrets\ncloud \"AWS Load Balancer Controller\" as albctlr\ncloud \"OpenWeatherMap API\" as owm\n\nfolder \"Helm\" as helm\n\n' Relationships\nhelm --> eks : Deploys resources\nrbac -[hidden]-> deploy\nsvc -[hidden]-> deploy\nsvc -[hidden]-> ingress\n\ncontainer --> secrets : Fetches API keys\ncontainer --> owm : Calls weather API\ncontainer --> svc : Exposed via Service\nsvc --> ingress : Routed by Ingress\ningress --> albctlr : Managed by\nalbctlr --> eks : Provisions Load Balancer\nrbac --> eks : Access control\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"646px\" preserveAspectRatio=\"none\" style=\"width:1033px;height:646px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1033 646\" width=\"1033px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster eks--><g class=\"cluster\" data-qualified-name=\"eks\" data-source-line=\"5\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,16,26,6,484,6,484,480.89,474,490.89,16,490.89,16,16\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"474\" x2=\"484\" y1=\"16\" y2=\"6\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"474\" y1=\"16\" y2=\"16\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"474\" x2=\"474\" y1=\"16\" y2=\"490.89\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"133.0684\" x=\"179.4658\" y=\"31.9951\">AWS EKS Cluster</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"104.0156\" x=\"193.9922\" y=\"48.292\">(Kubernetes)</text></g><!--cluster flask--><g class=\"cluster\" data-qualified-name=\"eks.flask\" data-source-line=\"6\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"169,88,179,78,444,78,444,179.29,434,189.29,169,189.29,169,88\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"434\" x2=\"444\" y1=\"88\" y2=\"78\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"169\" x2=\"434\" y1=\"88\" y2=\"88\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"434\" x2=\"434\" y1=\"88\" y2=\"189.29\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"117.0381\" x=\"243.981\" y=\"103.9951\">Flask Web App</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"199.7119\" x=\"202.644\" y=\"120.292\">(Python, Flask, Waitress)</text></g><!--cluster k8s--><g class=\"cluster\" data-qualified-name=\"eks.k8s\" data-source-line=\"9\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"48,236.29,231.3174,236.29,238.3174,258.5869,444,258.5869,444,458.89,48,458.89,48,236.29\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"48\" x2=\"238.3174\" y1=\"258.5869\" y2=\"258.5869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"177.3174\" x=\"52\" y=\"251.2851\">Kubernetes Resources</text></g><!--entity container--><g class=\"entity\" data-qualified-name=\"eks.flask.container\" data-source-line=\"7\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"39.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"152.3838\" x=\"275.81\" y=\"134\"/><polygon fill=\"#FFFFFF\" points=\"411.1938,139,411.1938,153,423.1938,153,423.1938,145,417.1938,139,411.1938,139\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"417.1938\" x2=\"417.1938\" y1=\"139\" y2=\"145\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"423.1938\" x2=\"417.1938\" y1=\"145\" y2=\"145\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"285.81\" y=\"159.9951\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"335.3295\" y=\"159.9951\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"339.7797\" y=\"159.9951\">Container</text></g><!--entity rbac--><g class=\"entity\" data-qualified-name=\"eks.k8s.rbac\" data-source-line=\"10\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"46.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"207.0156\" x=\"220.49\" y=\"271.29\"/><rect fill=\"#FFFFFF\" height=\"10\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"15\" x=\"407.5056\" y=\"276.29\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"405.5056\" y=\"278.29\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"405.5056\" y=\"282.29\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"108.5137\" x=\"235.49\" y=\"304.2851\">ServiceAccount</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"344.0037\" y=\"304.2851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"10.917\" x=\"348.4539\" y=\"304.2851\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"359.3709\" y=\"304.2851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.6846\" x=\"363.8211\" y=\"304.2851\">RBAC</text></g><!--entity svc--><g class=\"entity\" data-qualified-name=\"eks.k8s.svc\" data-source-line=\"11\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"46.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"121.5732\" x=\"64.21\" y=\"271.29\"/><rect fill=\"#FFFFFF\" height=\"10\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"15\" x=\"165.7832\" y=\"276.29\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"163.7832\" y=\"278.29\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"163.7832\" y=\"282.29\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.3818\" x=\"79.21\" y=\"304.2851\">K8s</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"104.5918\" y=\"304.2851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.7412\" x=\"109.042\" y=\"304.2851\">Service</text></g><!--entity deploy--><g class=\"entity\" data-qualified-name=\"eks.k8s.deploy\" data-source-line=\"12\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"46.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"155.4658\" x=\"246.27\" y=\"396.59\"/><rect fill=\"#FFFFFF\" height=\"10\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"15\" x=\"381.7358\" y=\"401.59\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"379.7358\" y=\"403.59\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"379.7358\" y=\"407.59\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.3818\" x=\"261.27\" y=\"429.5851\">K8s</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"286.6518\" y=\"429.5851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"85.6338\" x=\"291.102\" y=\"429.5851\">Deployment</text></g><!--entity ingress--><g class=\"entity\" data-qualified-name=\"eks.k8s.ingress\" data-source-line=\"13\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"46.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"120.6777\" x=\"90.66\" y=\"396.59\"/><rect fill=\"#FFFFFF\" height=\"10\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"15\" x=\"191.3377\" y=\"401.59\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"189.3377\" y=\"403.59\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"189.3377\" y=\"407.59\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.3818\" x=\"105.66\" y=\"429.5851\">K8s</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"131.0418\" y=\"429.5851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.8457\" x=\"135.492\" y=\"429.5851\">Ingress</text></g><!--entity secrets--><g class=\"entity\" data-qualified-name=\"secrets\" data-source-line=\"17\" id=\"ent0010\"><path d=\"M515.972,281.2862 C519.3246,274.3514 524.0707,273.3011 529.0397,279.7023 C533.2599,274.3721 537.382,274.1029 541.5626,279.7474 C545.143,274.6274 548.6797,275.3604 552.03,279.9944 C555.663,273.8739 561.0822,272.5971 565.4176,279.2589 C567.7806,272.4246 574.1174,272.0744 578.0365,277.6804 C580.5246,271.7655 585.4293,272.2878 588.6679,276.9242 C592.7707,271.0539 597.4948,270.4365 601.5647,276.9585 C605.1501,270.2742 610.1102,269.897 614.1738,276.5049 C618.2732,270.4289 622.3566,271.8807 625.8305,277.1477 C629.1988,272.347 634.2301,273.3574 636.3233,278.4941 C640.6372,273.7839 644.7676,272.5656 648.477,279.1448 C652.2051,274.4811 657.603,274.6179 660.4209,280.2052 C663.9497,273.0937 668.5789,273.1427 672.9481,279.4189 C676.6741,273.3362 682.9216,273.185 686.7294,279.3267 C694.2004,283.1802 696.1836,287.7448 689.8513,294.448 C694.4448,301.3183 693.7303,306.5087 685.4385,309.6349 C682.6604,315.9168 677.3932,315.9948 673.4207,310.8962 C669.9906,317.3443 664.5124,316.4656 661.3058,310.6749 C659.1779,316.7436 653.392,317.1254 649.7524,312.2743 C646.0036,317.9496 641.0224,318.3459 637.5537,311.9903 C633.6706,317.8324 628.4872,317.5956 624.4082,312.2197 C621.3121,316.0452 616.5883,315.8737 614.2632,311.2896 C610.6398,318.1758 603.7154,317.2911 600.1169,311.2622 C596.6808,316.3318 593.0038,316.0073 589.8314,310.9932 C587.157,316.2438 581.3707,316.8813 577.6645,312.2656 C573.1287,319.1922 568.9889,318.7642 564.7083,312.0236 C559.6636,317.5501 555.1195,317.532 551.9537,310.1649 C549.6689,316.122 545.68,315.8222 541.8399,311.7301 C536.6852,317.0803 531.3541,317.5116 527.719,310.0545 C524.1974,316.1246 520.3309,316.5686 516.3226,310.5119 C510.3607,305.9621 508.779,300.5801 516.4272,296.1293 C508.4015,291.1987 508.4164,286.6946 515.972,281.2862\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"522.54\" y=\"299.2851\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"554.8466\" y=\"299.2851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.3496\" x=\"559.2968\" y=\"299.2851\">Secrets</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"611.6464\" y=\"299.2851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.3662\" x=\"616.0966\" y=\"299.2851\">Manager</text></g><!--entity albctlr--><g class=\"entity\" data-qualified-name=\"albctlr\" data-source-line=\"18\" id=\"ent0011\"><path d=\"M265.0524,583.8974 C269.1983,578.3118 272.9718,576.8191 277.8908,583.0579 C281.2086,577.0142 284.8422,577.4224 289.0659,582.1149 C292.2524,575.7433 298.9165,575.0302 302.9794,581.1376 C307.0692,576.0816 311.7556,576.879 314.2144,582.8061 C317.2758,575.1556 323.9097,574.3881 328.3334,581.5035 C331.8238,576.3142 336.2139,575.8517 340.0091,581.1647 C344.0306,574.5857 349.5066,574.506 352.9978,581.6661 C356.6768,575.2023 362.1344,575.4611 365.8774,581.6007 C370.0439,575.4424 374.5422,575.8393 378.0375,582.2501 C382.0255,576.4608 386.32,576.6521 389.5817,582.9441 C393.1925,576.0603 398.4827,575.4306 403.1982,581.81 C407.513,576.0465 412.4181,575.7037 415.8879,582.6535 C422.8742,584.6551 423.6817,588.788 419.0596,594.0268 C424.1214,596.0754 426.1443,601.2864 421.1536,605.2162 C427.8912,610.095 425.1009,616.3604 418.7115,618.8956 C421.7955,623.1191 419.8598,627.5948 414.9129,628.71 C412.3464,635.3604 406.842,636.5227 402.5102,630.4279 C399.5554,637.6941 394.0293,636.8046 389.8739,631.6491 C386.4385,637.9869 382.6844,638.3332 378.408,632.4373 C375.0013,639.0709 370.1116,637.7816 366.2477,632.921 C361.7061,639.2691 357.0663,639.021 353.022,632.4134 C348.8617,639.5575 343.8532,639.7539 339.0422,633.0713 C335.1193,638.3409 330.8335,636.7843 327.9597,631.9236 C324.8838,637.9004 319.2101,638.2619 315.8187,632.2428 C311.4603,637.5666 307.196,638.0692 302.91,632.1594 C298.6695,637.8276 294.088,638.2685 290.4674,631.5373 C286.5856,638.2074 280.4401,636.9889 276.9183,631.1476 C272.8434,636.1353 268.8283,636.3045 265.8409,630.0738 C258.51,627.1895 257.2168,622.3362 263.6044,617.0891 C259.1092,613.372 258.909,610.4169 264.2561,607.3591 C258.6686,603.713 259.0015,598.9081 264.6351,595.6243 C259.4569,591.7359 258.8659,587.3814 265.0524,583.8974\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"270.69\" y=\"601.8851\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"302.9966\" y=\"601.8851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.8311\" x=\"307.4468\" y=\"601.8851\">Load</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"341.2779\" y=\"601.8851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.5918\" x=\"345.7281\" y=\"601.8851\">Balancer</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.1729\" x=\"304.4185\" y=\"618.182\">Controller</text></g><!--entity owm--><g class=\"entity\" data-qualified-name=\"owm\" data-source-line=\"19\" id=\"ent0012\"><path d=\"M736.9436,280.6063 C740.383,275.2417 745.4577,273.4329 749.5161,279.9513 C752.3942,273.7864 757.4772,273.698 761.1675,279.1357 C763.7885,272.713 769.8741,272.2377 773.4724,278.1618 C776.8734,273.1135 780.9726,271.8907 784.7219,277.8044 C788.1561,273.197 793.888,272.0619 796.4604,278.7036 C800.4977,271.9152 804.6294,273.1517 808.8076,278.561 C811.0278,273.151 814.9177,272.4171 819.2177,276.2078 C823.6635,270.6754 829.9114,271.9727 832.1111,278.5912 C835.919,272.0834 839.8105,271.2291 844.7911,277.4201 C848.4049,272.4437 851.8271,272.7693 854.8696,277.985 C859.1375,271.631 864.2588,271.7562 867.8599,278.6394 C872.6369,272.2406 877.4579,272.5618 880.9251,279.8863 C884.3119,274.8712 887.9912,275.3297 891.1014,280.1718 C894.5902,273.1037 901.301,273.8857 904.7491,280.2132 C913.2859,281.2724 916.7171,287.2535 911.0941,294.5705 C916.201,303.8727 914.1048,310.2282 902.721,311.2544 C899.1457,316.4658 894.7667,316.645 891.0094,311.4594 C887.9097,316.3493 883.3907,316.6712 879.8899,311.9222 C876.7053,317.6915 872.1995,317.7481 868.5107,312.4403 C864.7907,319.0879 859.5129,319.3159 855.2278,313.0202 C851.3372,317.563 846.7943,316.5525 844.0955,311.62 C842.2349,317.5592 836.7116,317.8447 832.8545,313.8877 C828.9605,320.2993 823.9454,319.4086 820.2206,313.7112 C816.1283,318.3727 811.9961,318.265 809.0239,312.5075 C804.3704,319.5829 799.0847,317.8999 795.2463,311.6639 C792.4138,317.1763 787.9105,315.817 785.0455,311.6983 C781.9051,317.4996 777.3085,318.8626 773.1293,312.7361 C768.1785,318.3737 764.1996,317.1929 761.3158,310.7198 C757.7281,315.5868 752.544,316.3005 749.1339,310.5166 C745.7387,316.2038 740.4825,316.39 736.8227,310.8056 C728.7476,309.1826 725.078,304.3861 729.7871,296.4831 C724.1552,288.5788 726.8136,281.4058 736.9436,280.6063\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"126.7041\" x=\"742.35\" y=\"299.2851\">OpenWeatherMap</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"869.0541\" y=\"299.2851\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"873.5043\" y=\"299.2851\">API</text></g><!--entity helm--><g class=\"entity\" data-qualified-name=\"helm\" data-source-line=\"21\" id=\"ent0013\"><polygon fill=\"#FFFFFF\" points=\"946,267.29,992,267.29,999,288.29,1016,288.29,1016,321.5869,946,321.5869,946,267.29\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"946\" x2=\"999\" y1=\"288.29\" y2=\"288.29\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.668\" x=\"956\" y=\"308.2851\">Helm</text></g><!--link helm to eks--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0002\" data-link-type=\"dependency\" data-source-line=\"24\" id=\"lnk14\"><path d=\"M945.59,314.39 C939.81,317.05 933.81,319.57 928,321.59 C831.73,355.105 719.7375,379.275 631.315,395.1238 C587.1038,403.0481 548.785,408.8922 521.2703,412.7839 C507.513,414.7298 496.4566,416.1875 488.7153,417.1732 C487.7476,417.2964 486.8317,417.4123 485.9688,417.5208 C485.5374,417.575 485.1192,417.6274 484.7144,417.678 C484.512,417.7033 490.267,416.9865 490.0713,417.0109\" fill=\"none\" id=\"helm-to-eks\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"484.1173,417.7525,493.5427,420.6094,489.079,417.1345,492.5539,412.6708,484.1173,417.7525\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.2695\" x=\"819\" y=\"363.7287\">Deploys</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"867.2695\" y=\"363.7287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"58.6816\" x=\"871.084\" y=\"363.7287\">resources</text></g><!--link rbac to deploy--><!--link svc to deploy--><!--link svc to ingress--><!--link svc to ingress--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"32\" id=\"lnk21\"><path d=\"M129.77,318.06 C134.46,340.3 140.3423,368.199 145.0223,390.399\" fill=\"none\" id=\"svc-to-ingress-1\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"146.26,396.27,148.3175,386.6384,145.2286,391.3775,140.4895,388.2887,146.26,396.27\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.9902\" x=\"141\" y=\"363.7287\">Routed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"183.9902\" y=\"363.7287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.7188\" x=\"187.8047\" y=\"363.7287\">by</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"202.5234\" y=\"363.7287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"43.582\" x=\"206.3379\" y=\"363.7287\">Ingress</text></g><!--link container to secrets--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"29\" id=\"lnk18\"><path d=\"M385.96,173.65 C431.33,199.04 506.3541,241.0299 554.6541,268.0599\" fill=\"none\" id=\"container-to-secrets\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"559.89,270.99,553.9896,263.1042,555.5268,268.5482,550.0828,270.0854,559.89,270.99\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.8281\" x=\"469\" y=\"217.4287\">Fetches</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"515.8281\" y=\"217.4287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.9844\" x=\"519.6426\" y=\"217.4287\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"538.627\" y=\"217.4287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.6855\" x=\"542.4414\" y=\"217.4287\">keys</text></g><!--link container to owm--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"30\" id=\"lnk19\"><path d=\"M428.49,162.83 C502.45,172.48 616.7,192.02 710,228.29 C737.94,239.16 761.9874,253.5024 783.0474,267.7224\" fill=\"none\" id=\"container-to-owm\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"788.02,271.08,782.7995,262.7286,783.8762,268.282,778.3227,269.3587,788.02,271.08\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.6523\" x=\"683\" y=\"217.4287\">Calls</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"711.6523\" y=\"217.4287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"49.1777\" x=\"715.4668\" y=\"217.4287\">weather</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"764.6445\" y=\"217.4287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.9844\" x=\"768.459\" y=\"217.4287\">API</text></g><!--link container to svc--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"31\" id=\"lnk20\"><path d=\"M306.48,173.75 C276.17,187.28 236,206.79 203,228.29 C183.63,240.91 168.123,253.6599 153.243,267.0299\" fill=\"none\" id=\"container-to-svc\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"148.78,271.04,158.148,268.0002,152.4992,267.6982,152.8011,262.0494,148.78,271.04\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"50.8945\" x=\"240\" y=\"217.4287\">Exposed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"290.8945\" y=\"217.4287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"17.7891\" x=\"294.709\" y=\"217.4287\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"312.498\" y=\"217.4287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"44.3496\" x=\"316.3125\" y=\"217.4287\">Service</text></g><!--link ingress to albctlr--><g class=\"link\" data-entity-1=\"ent0009\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"33\" id=\"lnk22\"><path d=\"M170.22,443.32 C185.63,461.07 208.05,486.18 229,506.89 C252.48,530.1 275.7911,550.8192 297.6111,569.4892\" fill=\"none\" id=\"ingress-to-albctlr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"302.17,573.39,297.9321,564.4995,298.3709,570.1393,292.7311,570.5781,302.17,573.39\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"55.2832\" x=\"269\" y=\"534.0287\">Managed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"324.2832\" y=\"534.0287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.7188\" x=\"328.0977\" y=\"534.0287\">by</text></g><!--link albctlr to eks--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0002\" data-link-type=\"dependency\" data-source-line=\"34\" id=\"lnk23\"><path d=\"M380.55,573.47 C401.9,555.94 426.94,532.4 444,506.89 C446.75,502.7787 449.3033,498.3998 451.6671,493.8784 C451.9626,493.3132 452.2552,492.7458 452.5447,492.1764 C452.6895,491.8917 452.8336,491.6065 452.9769,491.3209 C453.0486,491.178 450.4438,496.4052 450.5151,496.2622\" fill=\"none\" id=\"albctlr-to-eks\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"453.1913,490.892,445.597,497.1631,450.9612,495.3671,452.7571,500.7313,453.1913,490.892\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.7324\" x=\"438\" y=\"527.0287\">Provisions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"498.7324\" y=\"527.0287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.998\" x=\"502.5469\" y=\"527.0287\">Load</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"52.793\" x=\"458.376\" y=\"540.9974\">Balancer</text></g><!--link rbac to eks--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0002\" data-link-type=\"dependency\" data-source-line=\"35\" id=\"lnk24\"><path d=\"M351.88,318.06 C395.07,353.09 468.841,412.9293 471.281,414.9093\" fill=\"none\" id=\"rbac-to-eks\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"475.94,418.69,471.4719,409.913,472.0575,415.5394,466.431,416.125,475.94,418.69\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.291\" x=\"410\" y=\"363.7287\">Access</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"451.291\" y=\"363.7287\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.8594\" x=\"455.1055\" y=\"363.7287\">control</text></g><?plantuml-src ZP8zRzim48Pt_egBXtu0aHrqAZmKS9m43ToWXZruQ3jGrDaYJ944Zx9h5FdlFLAIdGOPEWWKZyzzlNTN5MwrHPXjriksCL37w6awcGHv7EzqhDko9GpAsOWsZfLh9l98HfQKpaBp0nLR5mflf8qSO7BuT3E-cLIQehZILfcsEWUVy3btJUFisFDLYFTmXzwuKyEneT9o5sG370qUZAGzIE_1sUGDzuir7BaSeDPx5wAsEmX8hWqAILZ7IKO3DpSjHGm_xOT5MsAm694-Za0Iu9xWZm3e-2x91akOUS_qyXHhPw-xvDUmaJfoYjvrc-7a320v_rQg2ACxf_OOOCxoI5OnP5GDDuQV-TiwKp4qkbG3gw7qxB3_J7rarjSxczGOhJ4SjCAPKgxb-pjOtSxc6G-bLA_f1OVeFJ93XpUHYzoPglBrBV3HxbBlcTBTV-xcMGXbN5jrQgzH1Om4JzBANTyzTRQNs3SdAxYLl26g5oiuOtfUcb954mR-kqUxGHbh34_Imspvc2btR8GOXFoAfidMcd_I5gtGoAXv5MljIIGh5CMNFEvftpEzM9Sa81G_QbrLQ7ynsEl0elsFUT13d0UTi_MDSyO7ZAhcANFniCSJlGAv5uRcqXY2OzTgGb-7uwnJkF_j7M451os7-NRrNEfWQkNQo51v6kOcXhV4zGepryqfWM8mNdHQ1dVGb5JyTs2zN6UEDp95LjqO_m80?</svg>",
  "architecture_description": "This architecture represents a Python Flask web application deployed on AWS EKS (Elastic Kubernetes Service) using Kubernetes resources and AWS managed services. \n\n**Components:**\n- **Flask Web App (Python, Flask, Waitress):** The main application, containerized with Docker, running inside the EKS cluster.\n- **Kubernetes Resources:**\n  - **ServiceAccount & RBAC:** Manages permissions and access control for the app within the cluster.\n  - **K8s Service:** Exposes the Flask app to the cluster and external traffic.\n  - **K8s Deployment:** Manages the lifecycle and scaling of the Flask app pods.\n  - **K8s Ingress:** Routes external HTTP(S) traffic to the service, managed by the AWS Load Balancer Controller.\n- **AWS Secrets Manager:** Stores and provides API keys and secrets to the Flask app securely.\n- **AWS Load Balancer Controller:** Provisions and manages AWS load balancers for Kubernetes Ingress resources.\n- **Helm:** Used for managing and deploying Kubernetes resources and configurations.\n- **OpenWeatherMap API:** An external API consumed by the Flask app for weather data.\n\n**Relationships:**\n- Helm deploys all Kubernetes resources to the EKS cluster.\n- The Flask app fetches secrets from AWS Secrets Manager and calls the OpenWeatherMap API.\n- The app is exposed via a Kubernetes Service, which is routed by Ingress.\n- The Ingress is managed by the AWS Load Balancer Controller, which provisions AWS load balancers.\n- ServiceAccount & RBAC provide access control for the app and resources within the cluster.\n\nThis architecture ensures secure, scalable, and manageable deployment of the Flask application with best practices for cloud-native and Kubernetes-based environments."
}