{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\n' Deployment diagram for VAT Calculator Static Site on AWS EKS\nnode \"GitHub Actions\\n(Jenkins)\" as cicd <<artifact>> {\n}\n\nnode \"Docker Container\\n(Nginx, Static Site)\" as docker <<artifact>> {\n}\n\nnode \"Kubernetes Cluster\\n(AWS EKS)\" as eks <<frame>> {\n  node \"K8s Deployment\\n(vat-calc-deployment)\" as k8sdeploy <<component>> {\n    node \"Nginx Web Server\\n(HTML/CSS/JS)\" as webapp <<component>>\n  }\n  node \"K8s Service\\n(vat-calc-service, ALB)\" as k8sservice <<component>>\n}\n\ncloud \"AWS Cloud\" as aws {\n  eks\n}\n\n' Relationships\ncicd --> docker : Builds & pushes image\ncicd --> eks : Deploys via manifests\n\ndocker --> webapp : Serves static files\nk8sdeploy --> docker : Runs container\nk8sservice --> k8sdeploy : Routes traffic\nk8sservice --> aws : Uses AWS ALB\n\n@enduml",
  "svg_diagram": "",
  "architecture_description": "This architecture represents a static VAT Calculator web application deployed on AWS using Kubernetes (EKS) and Nginx. The main components are:\n\n1. **CI/CD Pipeline (GitHub Actions, Jenkins):** Responsible for building the Docker image (with Nginx serving the static HTML/CSS/JS site) and deploying it to the Kubernetes cluster using deployment manifests.\n2. **Docker Container (Nginx, Static Site):** Contains the static web application and is built and pushed by the CI/CD pipeline.\n3. **Kubernetes Cluster (AWS EKS):** Hosts the application. The cluster contains:\n   - **Kubernetes Deployment (vat-calc-deployment):** Manages the lifecycle of the Docker container running the Nginx web server.\n   - **Kubernetes Service (vat-calc-service):** Exposes the application to the internet, using AWS Application Load Balancer (ALB) for external access.\n4. **AWS Cloud:** The infrastructure is provisioned on AWS, with EKS managed via Terraform.\n\nThe relationships are as follows: The CI/CD pipeline builds and deploys the Docker image to EKS. The Kubernetes deployment runs the container, and the service exposes it via an AWS ALB. Terraform is used to provision the AWS infrastructure, including EKS."
}