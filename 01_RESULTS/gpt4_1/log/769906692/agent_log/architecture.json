{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\n' Deployment diagram for Node.js app on Kubernetes\nnode \"Kubernetes Cluster\" {\n  node \"Namespace: node\" {\n    node \"Deployment: node-app-deployment\\n(Node.js, 3 replicas)\" {\n      component \"Node.js Web App/API\" as nodejs_app\n    }\n    node \"Service: node-app-service\\n(NodePort 8081->3000)\" as node_service\n  }\n}\n\nactor \"User\" as user\nuser -- node_service : HTTP (8081)\nnode_service --> nodejs_app : Forwards requests (3000)\n\n@enduml",
  "svg_diagram": "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"552px\" preserveAspectRatio=\"none\" style=\"width:484px;height:552px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 484 552\" width=\"484px\" zoomAndPan=\"magnify\"><defs/><g><!--cluster Kubernetes Cluster--><g class=\"cluster\" data-qualified-name=\"Kubernetes Cluster\" data-source-line=\"5\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,153.55,26,143.55,467,143.55,467,525.44,457,535.44,16,535.44,16,153.55\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"457\" x2=\"467\" y1=\"153.55\" y2=\"143.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"457\" y1=\"153.55\" y2=\"153.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"457\" x2=\"457\" y1=\"153.55\" y2=\"535.44\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"152.5576\" x=\"161.2212\" y=\"169.5451\">Kubernetes Cluster</text></g><!--cluster Namespace: node--><g class=\"cluster\" data-qualified-name=\"Kubernetes Cluster.Namespace. node\" data-source-line=\"6\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"40,201.55,50,191.55,443,191.55,443,501.44,433,511.44,40,511.44,40,201.55\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"433\" x2=\"443\" y1=\"201.55\" y2=\"191.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"40\" x2=\"433\" y1=\"201.55\" y2=\"201.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"433\" x2=\"433\" y1=\"201.55\" y2=\"511.44\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"140.417\" x=\"167.2915\" y=\"217.5451\">Namespace: node</text></g><!--cluster Deployment: node-app-deployment\n(Node.js, 3 replicas)--><g class=\"cluster\" data-qualified-name=\"Kubernetes Cluster.Namespace. node.Deployment. node-app-deployment.n.Node.js. 3 replicas.\" data-source-line=\"7\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"64,379.14,74,369.14,419,369.14,419,477.44,409,487.44,64,487.44,64,379.14\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"409\" x2=\"419\" y1=\"379.14\" y2=\"369.14\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"64\" x2=\"409\" y1=\"379.14\" y2=\"379.14\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"409\" x2=\"409\" y1=\"379.14\" y2=\"487.44\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"279.9316\" x=\"97.5342\" y=\"395.1351\">Deployment: node-app-deployment</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"159.0039\" x=\"157.998\" y=\"411.432\">(Node.js, 3 replicas)</text></g><!--entity node_service--><g class=\"entity\" data-qualified-name=\"Kubernetes Cluster.Namespace. node.node_service\" data-source-line=\"10\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"129.77,241.55,139.77,231.55,352.2212,231.55,352.2212,284.1438,342.2212,294.1438,129.77,294.1438,129.77,241.55\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"342.2212\" x2=\"352.2212\" y1=\"241.55\" y2=\"231.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"129.77\" x2=\"342.2212\" y1=\"241.55\" y2=\"241.55\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"342.2212\" x2=\"342.2212\" y1=\"241.55\" y2=\"294.1438\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.458\" x=\"144.77\" y=\"264.5451\">Service:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"201.228\" y=\"264.5451\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"121.543\" x=\"205.6782\" y=\"264.5451\">node-app-service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.2529\" x=\"151.893\" y=\"280.842\">(NodePort</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"222.146\" y=\"280.842\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"93.502\" x=\"226.5962\" y=\"280.842\">8081-&gt;3000)</text></g><!--entity nodejs_app--><g class=\"entity\" data-qualified-name=\"Kubernetes Cluster.Namespace. node.Deployment. node-app-deployment.n.Node.js. 3 replicas..nodejs_app\" data-source-line=\"8\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"46.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"186.6309\" x=\"147.68\" y=\"425.14\"/><rect fill=\"#FFFFFF\" height=\"10\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"15\" x=\"314.3109\" y=\"430.14\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"312.3109\" y=\"432.14\"/><rect fill=\"#FFFFFF\" height=\"2\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"4\" x=\"312.3109\" y=\"436.14\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.1719\" x=\"162.68\" y=\"458.1351\">Node.js</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"214.8519\" y=\"458.1351\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.3428\" x=\"219.3021\" y=\"458.1351\">Web</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"250.6448\" y=\"458.1351\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"54.2158\" x=\"255.095\" y=\"458.1351\">App/API</text></g><!--entity user--><g class=\"entity\" data-qualified-name=\"user\" data-source-line=\"14\" id=\"ent0007\"><ellipse cx=\"240.9951\" cy=\"14\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M240.9951,22 L240.9951,49 M227.9951,30 L253.9951,30 M240.9951,49 L227.9951,64 M240.9951,49 L253.9951,64\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.9102\" x=\"225.04\" y=\"79.2451\">User</text></g><!--link user to node_service--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0006\" data-link-type=\"association\" data-source-line=\"15\" id=\"lnk8\"><path d=\"M241,82.98 C241,125.24 241,192.38 241,231.26\" fill=\"none\" id=\"user-node_service\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"242\" y=\"124.6887\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"272.9199\" y=\"124.6887\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.9023\" x=\"276.7344\" y=\"124.6887\">(8081)</text></g><!--link node_service to nodejs_app--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"16\" id=\"lnk9\"><path d=\"M241,294.55 C241,331.37 241,386.2 241,418.88\" fill=\"none\" id=\"node_service-to-nodejs_app\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"241,424.88,245,415.88,241,419.88,237,415.88,241,424.88\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"55.1484\" x=\"242\" y=\"336.2787\">Forwards</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"297.1484\" y=\"336.2787\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"52.1309\" x=\"300.9629\" y=\"336.2787\">requests</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.9023\" x=\"277.5957\" y=\"350.2474\">(3000)</text></g><!--SRC=[LP5VQy8m5CNVyockVPd2qdRpHNmGn34s1bBGuOiWQHirqYPPRggCuNVVRMlzyzBGSsv-voJfvNAhj8JfQf5KPG5xxosEeyY9KxXJVb-b5KgN6Usbzc5coaYSi10frYjNP23V6iTj8RGdG7HyZSCuoXLwrbCwAwhy2ezedPcoD3gqzClO4xn9MvZVajYGAx5peWIYmTpaCZmW26l1QFYgKkcqz1AP9WU2cm2pea8lNG1_3A1rvwAKQ4KcnutGMfrvIsnTJXaylufhtR-4FyCG7Eag4pZe601q1TRekd3GjLp95ARMHjFaCm213VQ06m8tUyvtwGlfZgehraHZgrno4-CyZEBH2vyCupWUN7cRonohUMV6HERfde9lh8zEC_KhiVe3d3ziW35yB9S9z6lgW3rOd4_kojBakt4duNAaW_zK4Zr2lwdn3m00]--></g></svg>",
  "architecture_description": "This architecture represents a Node.js web application deployed on a Kubernetes cluster. The main components are:\n\n1. **Kubernetes Cluster**: The overall environment where the application is deployed.\n2. **Namespace: node**: A logical partition within the cluster to isolate resources for this application.\n3. **Deployment: node-app-deployment**: Manages a set of 3 replicated pods running the Node.js web application (using the Docker image `hendawyy/node-img:v1`).\n4. **Node.js Web App/API**: The actual application, built with Node.js and JavaScript, running inside the pods.\n5. **Service: node-app-service**: Exposes the Node.js application to external users via a NodePort (port 8081 on the node mapped to port 3000 in the container).\n6. **User**: Interacts with the application by sending HTTP requests to the NodePort (8081), which are forwarded by the service to the Node.js application on port 3000.\n\nThe diagram shows the flow from the user to the service and then to the application, as well as the logical grouping of resources within the Kubernetes cluster and namespace."
}