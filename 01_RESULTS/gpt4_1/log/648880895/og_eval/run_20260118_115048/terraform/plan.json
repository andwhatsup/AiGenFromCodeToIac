{"format_version":"1.2","terraform_version":"1.13.5","variables":{"az":{"value":"us-east-1a"},"botos3_workshop":{"value":"value"},"iam_role":{"value":"arn:aws:iam::995819606325:role/boto3aws_workshop"},"instance_type":{"value":"t2.micro"},"key_name":{"value":"boto3-workshop"},"private_pubnet_1":{"value":"10.0.2.0/24"},"public_pubnet_1":{"value":"10.0.0.0/24"},"ssh-location":{"value":"0.0.0.0/0"},"vpc-cidr":{"value":"10.0.0.0/16"}},"planned_values":{"outputs":{"key_name":{"sensitive":false,"type":"string","value":"botos3_workshop"},"public_ip":{"sensitive":false},"ssh_keypair":{"sensitive":true}},"root_module":{"resources":[{"address":"aws_iam_instance_profile.instance_profile","mode":"managed","type":"aws_iam_instance_profile","name":"instance_profile","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"instance_profile","path":"/","role":"ec2_iam_role","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_iam_role.ec2_iam_role","mode":"managed","type":"aws_iam_role","name":"ec2_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"ec2_iam_role","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"name":null}},{"address":"aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"ec2_role_workshop","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"name":null}},{"address":"aws_instance.ec2_public","mode":"managed","type":"aws_instance","name":"ec2_public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"ami":"ami-04a0ae173da5807d3","associate_public_ip_address":true,"credit_specification":[],"force_destroy":false,"get_password_data":false,"hibernation":null,"iam_instance_profile":"instance_profile","instance_type":"t2.micro","key_name":"botos3_workshop","launch_template":[],"region":"us-east-1","source_dest_check":true,"tags":{"Environment":"production","Name":"EC2-Public-Workshop"},"tags_all":{"Environment":"production","Name":"EC2-Public-Workshop"},"timeouts":null,"user_data":"#!/bin/bash\nsudo yum update -y \u0026\u0026\nsudo yum install -y nginx\nsudo systemctl enable nginx\nsudo systemctl start nginx \necho \"Hello Nginx Demo\" \u003e /var/www/html/index.html","user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"primary_network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_internet_gateway.internet-gateway","mode":"managed","type":"aws_internet_gateway","name":"internet-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-east-1","tags":{"Name":"internet_gateway-workshop"},"tags_all":{"Name":"internet_gateway-workshop"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_key_pair.key_pair","mode":"managed","type":"aws_key_pair","name":"key_pair","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"key_name":"botos3_workshop","region":"us-east-1","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_kms_alias.kms_s3_key_alias","mode":"managed","type":"aws_kms_alias","name":"kms_s3_key_alias","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"alias/s3-key","region":"us-east-1"},"sensitive_values":{},"identity_schema_version":0,"identity":{"account_id":null,"name":null,"region":null}},{"address":"aws_kms_key.kms_s3_key","mode":"managed","type":"aws_kms_key","name":"kms_s3_key","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"Key to protect S3 objects","enable_key_rotation":false,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","region":"us-east-1","tags":null,"timeouts":null,"xks_key_id":null},"sensitive_values":{"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_route_table.public-route-table","mode":"managed","type":"aws_route_table","name":"public-route-table","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Public Route Table-workshop"},"tags_all":{"Name":"Public Route Table-workshop"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_route_table_association.public-subnet-1-route-table-association","mode":"managed","type":"aws_route_table_association","name":"public-subnet-1-route-table-association","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"region":"us-east-1","timeouts":null},"sensitive_values":{}},{"address":"aws_s3_bucket.s3","mode":"managed","type":"aws_s3_bucket","name":"s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"s3-bucket-workshop-1001-pyday","force_destroy":false,"region":"us-east-1","tags":{"Environment":"production","Name":"workshop-s3"},"tags_all":{"Environment":"production","Name":"workshop-s3"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"region":null}},{"address":"aws_s3_bucket_acl.s3_protected_bucket_acl","mode":"managed","type":"aws_s3_bucket_acl","name":"s3_protected_bucket_acl","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","expected_bucket_owner":null,"region":"us-east-1"},"sensitive_values":{"access_control_policy":[]},"identity_schema_version":0,"identity":{"account_id":null,"acl":null,"bucket":null,"expected_bucket_owner":null,"region":null}},{"address":"aws_s3_bucket_lifecycle_configuration.s3_protected_bucket_lifecycle_rule","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"s3_protected_bucket_lifecycle_rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"bucket":"s3-bucket-workshop-1001-pyday","region":"us-east-1","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"config/","tag":[]}],"id":"basic_config","noncurrent_version_expiration":[],"noncurrent_version_transition":[{"newer_noncurrent_versions":null,"noncurrent_days":30,"storage_class":"STANDARD_IA"}],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[{}],"transition":[]}]}},{"address":"aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"s3_bucket_acl_ownership","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-east-1","rule":[{"object_ownership":"ObjectWriter"}]},"sensitive_values":{"rule":[{}]},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"region":null}},{"address":"aws_s3_bucket_policy.allow_access_from_another_account","mode":"managed","type":"aws_s3_bucket_policy","name":"allow_access_from_another_account","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"region":"us-east-1"},"sensitive_values":{},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"region":null}},{"address":"aws_s3_bucket_public_access_block.s3_protected_bucket_access","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"s3_protected_bucket_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":false,"block_public_policy":false,"ignore_public_acls":false,"region":"us-east-1","restrict_public_buckets":true,"skip_destroy":null},"sensitive_values":{},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"region":null}},{"address":"aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"s3_protected_bucket_server_side_encryption","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"s3-bucket-workshop-1001-pyday","expected_bucket_owner":null,"region":"us-east-1","rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"blocked_encryption_types":[],"bucket_key_enabled":null}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}],"blocked_encryption_types":[]}]},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"expected_bucket_owner":null,"region":null}},{"address":"aws_s3_bucket_versioning.s3_protected_bucket_versioning","mode":"managed","type":"aws_s3_bucket_versioning","name":"s3_protected_bucket_versioning","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"region":"us-east-1","versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"expected_bucket_owner":null,"region":null}},{"address":"aws_s3_object.website","mode":"managed","type":"aws_s3_object","name":"website","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cache_control":null,"checksum_algorithm":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"imagenes/index.html","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"override_provider":[],"region":"us-east-1","source":"file/index.html","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"override_provider":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"key":null,"region":null}},{"address":"aws_security_group.ssh-security-group","mode":"managed","type":"aws_security_group","name":"ssh-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Enable SSH access on Port 22","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP access","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80},{"cidr_blocks":["0.0.0.0/0"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"SSH Security Group","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"SSH Security Group"},"tags_all":{"Name":"SSH Security Group"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_subnet.public-subnet-1","mode":"managed","type":"aws_subnet","name":"public-subnet-1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"public-subnet-1-workshop"},"tags_all":{"Name":"public-subnet-1-workshop"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"region":"us-east-1","tags":{"Name":"vpc_workshop"},"tags_all":{"Name":"vpc_workshop"}},"sensitive_values":{"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"data.aws_iam_policy_document.bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject","s3:ListBucket","s3:PutObject"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null,null],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false,false]}]}},{"address":"local_file.ssh_key","mode":"managed","type":"local_file","name":"ssh_key","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content_base64":null,"directory_permission":"0777","file_permission":"0600","filename":"botos3_workshop.pem","sensitive_content":null,"source":null},"sensitive_values":{"content":true,"sensitive_content":true}},{"address":"tls_private_key.key","mode":"managed","type":"tls_private_key","name":"key","provider_name":"registry.terraform.io/hashicorp/tls","schema_version":1,"values":{"algorithm":"ED25519","ecdsa_curve":"P224","rsa_bits":2048},"sensitive_values":{"private_key_openssh":true,"private_key_pem":true,"private_key_pem_pkcs8":true}}]}},"resource_changes":[{"address":"data.aws_iam_policy_document.bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject","s3:ListBucket","s3:PutObject"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null,null],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true,true]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false,false]}]}},"action_reason":"read_because_config_unknown"},{"address":"aws_iam_instance_profile.instance_profile","mode":"managed","type":"aws_iam_instance_profile","name":"instance_profile","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"instance_profile","path":"/","role":"ec2_iam_role","tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_iam_role.ec2_iam_role","mode":"managed","type":"aws_iam_role","name":"ec2_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"ec2_iam_role","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"after_identity":{"account_id":null,"name":null}}},{"address":"aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"ec2_role_workshop","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"after_identity":{"account_id":null,"name":null}}},{"address":"aws_instance.ec2_public","mode":"managed","type":"aws_instance","name":"ec2_public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-04a0ae173da5807d3","associate_public_ip_address":true,"credit_specification":[],"force_destroy":false,"get_password_data":false,"hibernation":null,"iam_instance_profile":"instance_profile","instance_type":"t2.micro","key_name":"botos3_workshop","launch_template":[],"region":"us-east-1","source_dest_check":true,"tags":{"Environment":"production","Name":"EC2-Public-Workshop"},"tags_all":{"Environment":"production","Name":"EC2-Public-Workshop"},"timeouts":null,"user_data":"#!/bin/bash\nsudo yum update -y \u0026\u0026\nsudo yum install -y nginx\nsudo systemctl enable nginx\nsudo systemctl start nginx \necho \"Hello Nginx Demo\" \u003e /var/www/html/index.html","user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_options":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_group_id":true,"placement_partition_number":true,"primary_network_interface":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"primary_network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_internet_gateway.internet-gateway","mode":"managed","type":"aws_internet_gateway","name":"internet-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-east-1","tags":{"Name":"internet_gateway-workshop"},"tags_all":{"Name":"internet_gateway-workshop"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_key_pair.key_pair","mode":"managed","type":"aws_key_pair","name":"key_pair","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"key_name":"botos3_workshop","region":"us-east-1","tags":null},"after_unknown":{"arn":true,"fingerprint":true,"id":true,"key_name_prefix":true,"key_pair_id":true,"key_type":true,"public_key":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_kms_alias.kms_s3_key_alias","mode":"managed","type":"aws_kms_alias","name":"kms_s3_key_alias","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"alias/s3-key","region":"us-east-1"},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"target_key_arn":true,"target_key_id":true},"before_sensitive":false,"after_sensitive":{},"after_identity":{"account_id":null,"name":null,"region":null}}},{"address":"aws_kms_key.kms_s3_key","mode":"managed","type":"aws_kms_key","name":"kms_s3_key","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"Key to protect S3 objects","enable_key_rotation":false,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","region":"us-east-1","tags":null,"timeouts":null,"xks_key_id":null},"after_unknown":{"arn":true,"id":true,"key_id":true,"multi_region":true,"policy":true,"rotation_period_in_days":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_route_table.public-route-table","mode":"managed","type":"aws_route_table","name":"public-route-table","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-east-1","route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"Public Route Table-workshop"},"tags_all":{"Name":"Public Route Table-workshop"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_route_table_association.public-subnet-1-route-table-association","mode":"managed","type":"aws_route_table_association","name":"public-subnet-1-route-table-association","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"region":"us-east-1","timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3_bucket.s3","mode":"managed","type":"aws_s3_bucket","name":"s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"s3-bucket-workshop-1001-pyday","force_destroy":false,"region":"us-east-1","tags":{"Environment":"production","Name":"workshop-s3"},"tags_all":{"Environment":"production","Name":"workshop-s3"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_region":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]},"after_identity":{"account_id":null,"bucket":null,"region":null}}},{"address":"aws_s3_bucket_acl.s3_protected_bucket_acl","mode":"managed","type":"aws_s3_bucket_acl","name":"s3_protected_bucket_acl","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","expected_bucket_owner":null,"region":"us-east-1"},"after_unknown":{"access_control_policy":true,"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{"access_control_policy":[]},"after_identity":{"account_id":null,"acl":null,"bucket":null,"expected_bucket_owner":null,"region":null}}},{"address":"aws_s3_bucket_lifecycle_configuration.s3_protected_bucket_lifecycle_rule","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"s3_protected_bucket_lifecycle_rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"s3-bucket-workshop-1001-pyday","region":"us-east-1","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"config/","tag":[]}],"id":"basic_config","noncurrent_version_expiration":[],"noncurrent_version_transition":[{"newer_noncurrent_versions":null,"noncurrent_days":30,"storage_class":"STANDARD_IA"}],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[{}],"transition":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[{}],"transition":[]}]}}},{"address":"aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"s3_bucket_acl_ownership","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-east-1","rule":[{"object_ownership":"ObjectWriter"}]},"after_unknown":{"bucket":true,"id":true,"rule":[{}]},"before_sensitive":false,"after_sensitive":{"rule":[{}]},"after_identity":{"account_id":null,"bucket":null,"region":null}}},{"address":"aws_s3_bucket_policy.allow_access_from_another_account","mode":"managed","type":"aws_s3_bucket_policy","name":"allow_access_from_another_account","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-east-1"},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{},"after_identity":{"account_id":null,"bucket":null,"region":null}}},{"address":"aws_s3_bucket_public_access_block.s3_protected_bucket_access","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"s3_protected_bucket_access","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":false,"block_public_policy":false,"ignore_public_acls":false,"region":"us-east-1","restrict_public_buckets":true,"skip_destroy":null},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{},"after_identity":{"account_id":null,"bucket":null,"region":null}}},{"address":"aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"s3_protected_bucket_server_side_encryption","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"s3-bucket-workshop-1001-pyday","expected_bucket_owner":null,"region":"us-east-1","rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"blocked_encryption_types":[],"bucket_key_enabled":null}]},"after_unknown":{"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}],"blocked_encryption_types":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}],"blocked_encryption_types":[]}]},"after_identity":{"account_id":null,"bucket":null,"expected_bucket_owner":null,"region":null}}},{"address":"aws_s3_bucket_versioning.s3_protected_bucket_versioning","mode":"managed","type":"aws_s3_bucket_versioning","name":"s3_protected_bucket_versioning","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"region":"us-east-1","versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]},"after_identity":{"account_id":null,"bucket":null,"expected_bucket_owner":null,"region":null}}},{"address":"aws_s3_object.website","mode":"managed","type":"aws_s3_object","name":"website","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cache_control":null,"checksum_algorithm":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"imagenes/index.html","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"override_provider":[],"region":"us-east-1","source":"file/index.html","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"acl":true,"arn":true,"bucket":true,"bucket_key_enabled":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"override_provider":[],"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"override_provider":[],"tags_all":{}},"after_identity":{"account_id":null,"bucket":null,"key":null,"region":null}}},{"address":"aws_security_group.ssh-security-group","mode":"managed","type":"aws_security_group","name":"ssh-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Enable SSH access on Port 22","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP access","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80},{"cidr_blocks":["0.0.0.0/0"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"SSH Security Group","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"SSH Security Group"},"tags_all":{"Name":"SSH Security Group"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_subnet.public-subnet-1","mode":"managed","type":"aws_subnet","name":"public-subnet-1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.0.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"region":"us-east-1","tags":{"Name":"public-subnet-1-workshop"},"tags_all":{"Name":"public-subnet-1-workshop"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"region":"us-east-1","tags":{"Name":"vpc_workshop"},"tags_all":{"Name":"vpc_workshop"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"local_file.ssh_key","mode":"managed","type":"local_file","name":"ssh_key","provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content_base64":null,"directory_permission":"0777","file_permission":"0600","filename":"botos3_workshop.pem","sensitive_content":null,"source":null},"after_unknown":{"content":true,"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"content":true,"sensitive_content":true}}},{"address":"tls_private_key.key","mode":"managed","type":"tls_private_key","name":"key","provider_name":"registry.terraform.io/hashicorp/tls","change":{"actions":["create"],"before":null,"after":{"algorithm":"ED25519","ecdsa_curve":"P224","rsa_bits":2048},"after_unknown":{"id":true,"private_key_openssh":true,"private_key_pem":true,"private_key_pem_pkcs8":true,"public_key_fingerprint_md5":true,"public_key_fingerprint_sha256":true,"public_key_openssh":true,"public_key_pem":true},"before_sensitive":false,"after_sensitive":{"private_key_openssh":true,"private_key_pem":true,"private_key_pem_pkcs8":true}}}],"output_changes":{"key_name":{"actions":["create"],"before":null,"after":"botos3_workshop","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"public_ip":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"ssh_keypair":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":true,"after_sensitive":true}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.5","values":{"outputs":{"key_name":{"sensitive":false,"value":"botos3_workshop","type":"string"}},"root_module":{"resources":[{"address":"data.aws_iam_policy_document.ec2_assume_role","mode":"data","type":"aws_iam_policy_document","name":"ec2_assume_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2851119427","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}}]}}},"configuration":{"provider_config":{"archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","version_constraint":"\u003e= 2.0.0"},"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 6.27.0","expressions":{"region":{"constant_value":"us-east-1"},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_region_validation":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}},"local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local"},"tls":{"name":"tls","full_name":"registry.terraform.io/hashicorp/tls"}},"root_module":{"outputs":{"key_name":{"expression":{"references":["aws_key_pair.key_pair.key_name","aws_key_pair.key_pair"]}},"public_ip":{"expression":{"references":["aws_instance.ec2_public.public_ip","aws_instance.ec2_public"]}},"ssh_keypair":{"sensitive":true,"expression":{"references":["tls_private_key.key.private_key_pem","tls_private_key.key"]}}},"resources":[{"address":"aws_iam_instance_profile.instance_profile","mode":"managed","type":"aws_iam_instance_profile","name":"instance_profile","provider_config_key":"aws","expressions":{"name":{"constant_value":"instance_profile"},"role":{"references":["aws_iam_role.ec2_iam_role.name","aws_iam_role.ec2_iam_role"]}},"schema_version":0},{"address":"aws_iam_role.ec2_iam_role","mode":"managed","type":"aws_iam_role","name":"ec2_iam_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.ec2_assume_role.json","data.aws_iam_policy_document.ec2_assume_role"]},"name":{"constant_value":"ec2_iam_role"}},"schema_version":0},{"address":"aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"ec2_role_workshop"}},"schema_version":0},{"address":"aws_instance.ec2_public","mode":"managed","type":"aws_instance","name":"ec2_public","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-04a0ae173da5807d3"},"associate_public_ip_address":{"constant_value":true},"iam_instance_profile":{"references":["aws_iam_instance_profile.instance_profile.name","aws_iam_instance_profile.instance_profile"]},"instance_type":{"references":["var.instance_type"]},"key_name":{"references":["aws_key_pair.key_pair.key_name","aws_key_pair.key_pair"]},"security_groups":{"references":["aws_security_group.ssh-security-group.id","aws_security_group.ssh-security-group"]},"subnet_id":{"references":["aws_subnet.public-subnet-1.id","aws_subnet.public-subnet-1"]},"tags":{"constant_value":{"Environment":"production","Name":"EC2-Public-Workshop"}},"user_data":{}},"schema_version":2,"depends_on":["local_file.ssh_key"]},{"address":"aws_internet_gateway.internet-gateway","mode":"managed","type":"aws_internet_gateway","name":"internet-gateway","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"internet_gateway-workshop"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_key_pair.key_pair","mode":"managed","type":"aws_key_pair","name":"key_pair","provider_config_key":"aws","expressions":{"key_name":{"constant_value":"botos3_workshop"},"public_key":{"references":["tls_private_key.key.public_key_openssh","tls_private_key.key"]}},"schema_version":1},{"address":"aws_kms_alias.kms_s3_key_alias","mode":"managed","type":"aws_kms_alias","name":"kms_s3_key_alias","provider_config_key":"aws","expressions":{"name":{"constant_value":"alias/s3-key"},"target_key_id":{"references":["aws_kms_key.kms_s3_key.key_id","aws_kms_key.kms_s3_key"]}},"schema_version":0},{"address":"aws_kms_key.kms_s3_key","mode":"managed","type":"aws_kms_key","name":"kms_s3_key","provider_config_key":"aws","expressions":{"deletion_window_in_days":{"constant_value":7},"description":{"constant_value":"Key to protect S3 objects"},"is_enabled":{"constant_value":true},"key_usage":{"constant_value":"ENCRYPT_DECRYPT"}},"schema_version":0},{"address":"aws_route_table.public-route-table","mode":"managed","type":"aws_route_table","name":"public-route-table","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.internet-gateway.id","aws_internet_gateway.internet-gateway"]},"tags":{"constant_value":{"Name":"Public Route Table-workshop"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":0},{"address":"aws_route_table_association.public-subnet-1-route-table-association","mode":"managed","type":"aws_route_table_association","name":"public-subnet-1-route-table-association","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public-route-table.id","aws_route_table.public-route-table"]},"subnet_id":{"references":["aws_subnet.public-subnet-1.id","aws_subnet.public-subnet-1"]}},"schema_version":0},{"address":"aws_s3_bucket.s3","mode":"managed","type":"aws_s3_bucket","name":"s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"s3-bucket-workshop-1001-pyday"},"tags":{"constant_value":{"Environment":"production","Name":"workshop-s3"}}},"schema_version":0},{"address":"aws_s3_bucket_acl.s3_protected_bucket_acl","mode":"managed","type":"aws_s3_bucket_acl","name":"s3_protected_bucket_acl","provider_config_key":"aws","expressions":{"acl":{"constant_value":"private"},"bucket":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3"]}},"schema_version":0,"depends_on":["aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership"]},{"address":"aws_s3_bucket_lifecycle_configuration.s3_protected_bucket_lifecycle_rule","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"s3_protected_bucket_lifecycle_rule","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.s3.bucket","aws_s3_bucket.s3"]},"rule":[{"filter":[{"prefix":{"constant_value":"config/"}}],"id":{"constant_value":"basic_config"},"noncurrent_version_transition":[{"noncurrent_days":{"constant_value":30},"storage_class":{"constant_value":"STANDARD_IA"}}],"status":{"constant_value":"Enabled"}}]},"schema_version":1,"depends_on":["aws_s3_bucket_versioning.s3_protected_bucket_versioning"]},{"address":"aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"s3_bucket_acl_ownership","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3"]},"rule":[{"object_ownership":{"constant_value":"ObjectWriter"}}]},"schema_version":0},{"address":"aws_s3_bucket_policy.allow_access_from_another_account","mode":"managed","type":"aws_s3_bucket_policy","name":"allow_access_from_another_account","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3"]},"policy":{"references":["data.aws_iam_policy_document.bucket_policy.json","data.aws_iam_policy_document.bucket_policy"]}},"schema_version":0},{"address":"aws_s3_bucket_public_access_block.s3_protected_bucket_access","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"s3_protected_bucket_access","provider_config_key":"aws","expressions":{"block_public_acls":{"constant_value":false},"block_public_policy":{"constant_value":false},"bucket":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3"]},"ignore_public_acls":{"constant_value":false},"restrict_public_buckets":{"constant_value":true}},"schema_version":0},{"address":"aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"s3_protected_bucket_server_side_encryption","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.s3.bucket","aws_s3_bucket.s3"]},"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":{"references":["aws_kms_key.kms_s3_key.arn","aws_kms_key.kms_s3_key"]},"sse_algorithm":{"constant_value":"aws:kms"}}]}]},"schema_version":0},{"address":"aws_s3_bucket_versioning.s3_protected_bucket_versioning","mode":"managed","type":"aws_s3_bucket_versioning","name":"s3_protected_bucket_versioning","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0},{"address":"aws_s3_object.website","mode":"managed","type":"aws_s3_object","name":"website","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3"]},"key":{"constant_value":"imagenes/index.html"},"source":{"constant_value":"file/index.html"}},"schema_version":0},{"address":"aws_security_group.ssh-security-group","mode":"managed","type":"aws_security_group","name":"ssh-security-group","provider_config_key":"aws","expressions":{"description":{"constant_value":"Enable SSH access on Port 22"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"SSH Access","from_port":22,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP access","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_groups":null,"self":null,"to_port":80}]},"name":{"constant_value":"SSH Security Group"},"tags":{"constant_value":{"Name":"SSH Security Group"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_subnet.public-subnet-1","mode":"managed","type":"aws_subnet","name":"public-subnet-1","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.az"]},"cidr_block":{"references":["var.public_pubnet_1"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"public-subnet-1-workshop"}},"vpc_id":{"references":["aws_vpc.vpc.id","aws_vpc.vpc"]}},"schema_version":1},{"address":"aws_vpc.vpc","mode":"managed","type":"aws_vpc","name":"vpc","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc-cidr"]},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"instance_tenancy":{"constant_value":"default"},"tags":{"constant_value":{"Name":"vpc_workshop"}}},"schema_version":1},{"address":"local_file.ssh_key","mode":"managed","type":"local_file","name":"ssh_key","provider_config_key":"local","expressions":{"content":{"references":["tls_private_key.key.private_key_openssh","tls_private_key.key"]},"file_permission":{"constant_value":"0600"},"filename":{"references":["aws_key_pair.key_pair.key_name","aws_key_pair.key_pair"]}},"schema_version":0},{"address":"tls_private_key.key","mode":"managed","type":"tls_private_key","name":"key","provider_config_key":"tls","expressions":{"algorithm":{"constant_value":"ED25519"}},"schema_version":1},{"address":"data.aws_iam_policy_document.bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"bucket_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:ListBucket","s3:GetObject","s3:PutObject"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"references":["aws_s3_bucket.s3.id","aws_s3_bucket.s3","aws_s3_bucket.s3.id","aws_s3_bucket.s3"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.ec2_assume_role","mode":"data","type":"aws_iam_policy_document","name":"ec2_assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["ec2.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0}],"variables":{"az":{"default":"us-east-1a","description":"AVailability zone"},"botos3_workshop":{"default":"value"},"iam_role":{"default":"arn:aws:iam::995819606325:role/boto3aws_workshop","description":"value"},"instance_type":{"default":"t2.micro"},"key_name":{"default":"boto3-workshop"},"private_pubnet_1":{"default":"10.0.2.0/24","description":"Private_Subnet_1"},"public_pubnet_1":{"default":"10.0.0.0/24","description":"Public_Subnet_1"},"ssh-location":{"default":"0.0.0.0/0","description":"SSH variable for bastion host"},"vpc-cidr":{"default":"10.0.0.0/16","description":"VPC CIDR BLOCK"}}}},"relevant_attributes":[{"resource":"aws_instance.ec2_public","attribute":["public_ip"]},{"resource":"tls_private_key.key","attribute":["private_key_pem"]},{"resource":"aws_iam_instance_profile.instance_profile","attribute":["name"]},{"resource":"aws_subnet.public-subnet-1","attribute":["id"]},{"resource":"data.aws_iam_policy_document.ec2_assume_role","attribute":["json"]},{"resource":"aws_key_pair.key_pair","attribute":["key_name"]},{"resource":"aws_iam_role.ec2_iam_role","attribute":["name"]},{"resource":"aws_kms_key.kms_s3_key","attribute":["arn"]},{"resource":"data.aws_iam_policy_document.bucket_policy","attribute":["json"]},{"resource":"aws_internet_gateway.internet-gateway","attribute":["id"]},{"resource":"aws_s3_bucket.s3","attribute":["id"]},{"resource":"aws_vpc.vpc","attribute":["id"]},{"resource":"tls_private_key.key","attribute":["private_key_openssh"]},{"resource":"tls_private_key.key","attribute":["public_key_openssh"]},{"resource":"aws_route_table.public-route-table","attribute":["id"]},{"resource":"aws_kms_key.kms_s3_key","attribute":["key_id"]},{"resource":"aws_security_group.ssh-security-group","attribute":["id"]},{"resource":"aws_s3_bucket.s3","attribute":["bucket"]}],"timestamp":"2026-01-18T10:51:21Z","applyable":true,"complete":true,"errored":false}
