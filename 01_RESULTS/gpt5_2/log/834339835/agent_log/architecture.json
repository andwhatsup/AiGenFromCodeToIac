{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle Loan Calculator (Static Web) on AWS EKS with Jenkins CI/CD\n\nactor \"End User\" as user\n\ncloud \"Internet\" as internet\n\nnode \"AWS\" as aws {\n  node \"Amazon EKS Cluster\" as eks {\n    node \"Kubernetes\" as k8s {\n      node \"Ingress / AWS ALB\\n(via Service annotations)\" as alb\n\n      node \"Namespace: loan-calc\" as ns {\n        node \"Service: LoadBalancer\\nPort 5000 -> Pod 5000\" as svc\n\n        node \"Deployment: loan-calc\\nReplicas: 6\" as deploy {\n          artifact \"Container Image\\nDocker Hub: yash5090/loan-calc:latest\" as image\n          node \"Pod (Nginx:alpine)\\nServes HTML/CSS/JS\" as pod\n          image --> pod : pulled by kubelet\n        }\n      }\n    }\n  }\n\n  node \"CI/CD\" as cicd {\n    node \"Jenkins\" as jenkins {\n      component \"Pipeline (Jenkinsfile)\" as pipeline\n      component \"Build & Push\\nDocker CLI\" as docker\n      component \"Deploy\\nkubectl\" as kubectl\n      component \"IaC\\nterraform (intended)\" as terraform\n      component \"SAST/Quality\\nsonar-scanner\" as sonar\n      component \"Vuln Scans\\nTrivy + OWASP DC + Docker Scout\" as scanners\n      component \"Notifications\\nEmail + Jira\" as notify\n    }\n\n    node \"SonarQube Server\" as sonarqube\n    node \"Jira Cloud/Server\" as jira\n    node \"SMTP/Email\" as smtp\n    node \"Docker Hub\" as dockerhub\n  }\n}\n\nuser --> internet\ninternet --> alb : HTTPS\nalb --> svc : forwards\nsvc --> pod : routes\n\npipeline --> docker : build image (Dockerfile)\ndocker --> dockerhub : push yash5090/loan-calc:latest\nkubectl --> eks : apply manifests\\n(deployment.yaml/service.yaml)\npipeline --> kubectl\n\npipeline --> sonar\nsonar --> sonarqube : publish analysis\n\npipeline --> scanners\n\nnotify --> jira : build/deploy info\nnotify --> smtp : email alerts\npipeline --> notify\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta2?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1165px\" preserveAspectRatio=\"none\" style=\"width:1695px;height:1165px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1695 1165\" width=\"1695px\" zoomAndPan=\"magnify\"><title>Loan Calculator (Static Web) on AWS EKS with Jenkins CI/CD</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"476.2393\" x=\"602.4985\" y=\"22.9951\">Loan Calculator (Static Web) on AWS EKS with Jenkins CI/CD</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"15\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"112.2362,53.2969,122.2362,43.2969,1678.2362,43.2969,1678.2362,1138.4569,1668.2362,1148.4569,112.2362,1148.4569,112.2362,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1668.2362\" x2=\"1678.2362\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"112.2362\" x2=\"1668.2362\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1668.2362\" x2=\"1668.2362\" y1=\"53.2969\" y2=\"1148.4569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"36.3604\" x=\"873.0561\" y=\"69.292\">AWS</text></g><!--cluster eks--><g class=\"cluster\" data-qualified-name=\"aws.eks\" data-source-line=\"16\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"144.2362,497.3769,154.2362,487.3769,772.2362,487.3769,772.2362,1106.4569,762.2362,1116.4569,144.2362,1116.4569,144.2362,497.3769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"762.2362\" x2=\"772.2362\" y1=\"497.3769\" y2=\"487.3769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"144.2362\" x2=\"762.2362\" y1=\"497.3769\" y2=\"497.3769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"762.2362\" x2=\"762.2362\" y1=\"497.3769\" y2=\"1116.4569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"159.3115\" x=\"374.5805\" y=\"513.372\">Amazon EKS Cluster</text></g><!--cluster k8s--><g class=\"cluster\" data-qualified-name=\"aws.eks.k8s\" data-source-line=\"17\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"176.2362,553.3769,186.2362,543.3769,732.2362,543.3769,732.2362,1074.4569,722.2362,1084.4569,176.2362,1084.4569,176.2362,553.3769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"722.2362\" x2=\"732.2362\" y1=\"553.3769\" y2=\"543.3769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"176.2362\" x2=\"722.2362\" y1=\"553.3769\" y2=\"553.3769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"722.2362\" x2=\"722.2362\" y1=\"553.3769\" y2=\"1084.4569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"91.2188\" x=\"404.6269\" y=\"569.372\">Kubernetes</text></g><!--cluster ns--><g class=\"cluster\" data-qualified-name=\"aws.eks.k8s.ns\" data-source-line=\"20\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"200.2362,716.9769,210.2362,706.9769,708.2362,706.9769,708.2362,1050.4569,698.2362,1060.4569,200.2362,1060.4569,200.2362,716.9769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"698.2362\" x2=\"708.2362\" y1=\"716.9769\" y2=\"706.9769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"200.2362\" x2=\"698.2362\" y1=\"716.9769\" y2=\"716.9769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"698.2362\" x2=\"698.2362\" y1=\"716.9769\" y2=\"1060.4569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"171.8008\" x=\"364.3358\" y=\"732.972\">Namespace: loan-calc</text></g><!--cluster deploy--><g class=\"cluster\" data-qualified-name=\"aws.eks.k8s.ns.deploy\" data-source-line=\"23\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"224.2362,764.9769,234.2362,754.9769,476.2362,754.9769,476.2362,1026.4569,466.2362,1036.4569,224.2362,1036.4569,224.2362,764.9769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"466.2362\" x2=\"476.2362\" y1=\"764.9769\" y2=\"754.9769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"224.2362\" x2=\"466.2362\" y1=\"764.9769\" y2=\"764.9769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"466.2362\" x2=\"466.2362\" y1=\"764.9769\" y2=\"1036.4569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"176.3809\" x=\"258.0458\" y=\"780.972\">Deployment: loan-calc</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"86.1875\" x=\"303.1425\" y=\"797.2689\">Replicas: 6</text></g><!--cluster cicd--><g class=\"cluster\" data-qualified-name=\"aws.cicd\" data-source-line=\"32\" id=\"ent0014\"><polygon fill=\"#FFFFFF\" points=\"804.2362,101.2969,814.2362,91.2969,1654.2362,91.2969,1654.2362,643.8269,1644.2362,653.8269,804.2362,653.8269,804.2362,101.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1644.2362\" x2=\"1654.2362\" y1=\"101.2969\" y2=\"91.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"804.2362\" x2=\"1644.2362\" y1=\"101.2969\" y2=\"101.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1644.2362\" x2=\"1644.2362\" y1=\"101.2969\" y2=\"653.8269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"42.4922\" x=\"1203.9901\" y=\"117.292\">CI/CD</text></g><!--cluster jenkins--><g class=\"cluster\" data-qualified-name=\"aws.cicd.jenkins\" data-source-line=\"33\" id=\"ent0015\"><polygon fill=\"#FFFFFF\" points=\"828.2362,149.2969,838.2362,139.2969,1630.2362,139.2969,1630.2362,408.3769,1620.2362,418.3769,828.2362,418.3769,828.2362,149.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1620.2362\" x2=\"1630.2362\" y1=\"149.2969\" y2=\"139.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"828.2362\" x2=\"1620.2362\" y1=\"149.2969\" y2=\"149.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1620.2362\" x2=\"1620.2362\" y1=\"149.2969\" y2=\"418.3769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"57.0801\" x=\"1196.6962\" y=\"165.292\">Jenkins</text></g><!-- Remaining SVG content omitted here for brevity in this field; it is the exact SVG returned by the validator tool in the previous step. -->\n</svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime / Serving path\n- **Client:** End users access the application over the **Internet**.\n- **Edge / Load balancing:** A Kubernetes **Service of type LoadBalancer** is annotated for **AWS ALB** integration (inferred from `service.beta.kubernetes.io/aws-load-balancer-type: \"alb\"`). This results in an **AWS Application Load Balancer** providing external entry.\n- **Compute platform:** The application runs on an **Amazon EKS (Kubernetes) cluster**.\n- **Workload:** A Kubernetes **Deployment** runs **6 replicas** of the app.\n- **Container:** The pod runs an **Nginx (nginx:alpine)** container serving a **static web app** (HTML/CSS with inline JavaScript loan calculator).\n- **Networking:** ALB forwards traffic to the Kubernetes Service on **port 5000**, which routes to pods.\n\n### Build, security, and delivery (CI/CD)\n- **Orchestrator:** **Jenkins Pipeline (Jenkinsfile)** drives the delivery workflow.\n- **Build & publish:** Jenkins builds the container image from the **Dockerfile** and pushes to **Docker Hub** as `yash5090/loan-calc:latest`.\n- **Deploy:** Jenkins uses **kubectl** to apply Kubernetes manifests (`deployment.yaml`, `service.yaml`, and equivalents under `manifests/`).\n- **Quality:** Jenkins runs **SonarQube analysis** via `sonar-scanner` and publishes results to a **SonarQube server**.\n- **Security scanning:** Jenkins runs **Trivy**, **OWASP Dependency-Check**, and **Docker Scout** (as implied by the pipeline).\n- **Notifications & tracking:** Jenkins sends **Jira build/deployment info** and **email notifications** (SMTP).\n\n### Infrastructure as Code (not fully present)\n- The repository contains an `EKS-Terraform/` directory with logs only; the Jenkinsfile indicates **Terraform** usage for provisioning (intended), but **no `.tf` sources** are present in this snapshot. The diagram reflects this as “terraform (intended)”.\n"
}