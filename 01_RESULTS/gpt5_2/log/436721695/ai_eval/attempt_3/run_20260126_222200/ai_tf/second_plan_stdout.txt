random_password.secret_key: Refreshing state... [id=none]
random_password.db: Refreshing state... [id=none]
data.aws_iam_policy_document.ecs_task_assume: Reading...
aws_db_parameter_group.this: Refreshing state... [id=url-shortener-dev-pg]
data.aws_availability_zones.available: Reading...
aws_secretsmanager_secret.db: Refreshing state... [id=arn:aws:secretsmanager:us-east-1:000000000000:secret:url-shortener-dev/db-ipJvWP]
aws_cloudwatch_log_group.app: Refreshing state... [id=/ecs/url-shortener-dev]
aws_secretsmanager_secret.app: Refreshing state... [id=arn:aws:secretsmanager:us-east-1:000000000000:secret:url-shortener-dev/app-ZmGyaN]
aws_ecs_cluster.this: Refreshing state... [id=arn:aws:ecs:us-east-1:000000000000:cluster/url-shortener-dev]
aws_ecr_repository.app: Refreshing state... [id=url-shortener-dev]
aws_vpc.this: Refreshing state... [id=vpc-00d31e2c678b65cbc]
aws_eip.nat: Refreshing state... [id=eipalloc-4f7183b2ef88df8d1]
data.aws_iam_policy_document.ecs_task_assume: Read complete after 0s [id=1077804475]
aws_iam_role.ecs_task_execution: Refreshing state... [id=url-shortener-dev-ecs-exec]
data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
aws_iam_role.ecs_task: Refreshing state... [id=url-shortener-dev-ecs-task]
aws_secretsmanager_secret_version.app: Refreshing state... [id=arn:aws:secretsmanager:us-east-1:000000000000:secret:url-shortener-dev/app-ZmGyaN|terraform-20260126212216479000000003]
aws_secretsmanager_secret_version.db: Refreshing state... [id=arn:aws:secretsmanager:us-east-1:000000000000:secret:url-shortener-dev/db-ipJvWP|terraform-20260126212216479200000004]
data.aws_iam_policy_document.ecs_task_inline: Reading...
data.aws_iam_policy_document.ecs_task_inline: Read complete after 0s [id=2886669524]
aws_iam_role_policy_attachment.ecs_exec: Refreshing state... [id=url-shortener-dev-ecs-exec-20260126212217474800000005]
aws_internet_gateway.this: Refreshing state... [id=igw-92a3727993756f610]
aws_route_table.public: Refreshing state... [id=rtb-c416ae823fce38302]
aws_iam_role_policy.ecs_task_inline: Refreshing state... [id=url-shortener-dev-ecs-task:url-shortener-dev-secrets]
aws_route_table.private: Refreshing state... [id=rtb-3dd4e125097e15eb3]
aws_security_group.alb: Refreshing state... [id=sg-cbdedcd2a8aff74b5]
aws_subnet.private_db[1]: Refreshing state... [id=subnet-f35fef2bde31660b0]
aws_subnet.private_app[0]: Refreshing state... [id=subnet-6b8d53922540efe20]
aws_subnet.private_app[1]: Refreshing state... [id=subnet-2f64d99fac1c51ace]
aws_subnet.public[1]: Refreshing state... [id=subnet-670defc36f5f3a8c3]
aws_lb_target_group.app: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:000000000000:targetgroup/url-shortener-dev-tg/d35610130fef6723]
aws_subnet.private_db[0]: Refreshing state... [id=subnet-7b72ae998fbf5e2e6]
aws_subnet.public[0]: Refreshing state... [id=subnet-aa9c7722edc6aa134]
aws_db_subnet_group.this: Refreshing state... [id=url-shortener-dev-db-subnets]
aws_route.public_default: Refreshing state... [id=r-rtb-c416ae823fce383021080289494]
aws_security_group.app: Refreshing state... [id=sg-028f944fbee441a79]
aws_route_table_association.private_app[0]: Refreshing state... [id=rtbassoc-c86d4851e6c7430fc]
aws_route_table_association.private_db[1]: Refreshing state... [id=rtbassoc-4146bff49b91490cf]
aws_route_table_association.private_db[0]: Refreshing state... [id=rtbassoc-2933a2c3134a9c356]
aws_route_table_association.private_app[1]: Refreshing state... [id=rtbassoc-009eefccc51ef68a4]
aws_nat_gateway.this: Refreshing state... [id=nat-634759c982e576aa4]
aws_lb.this: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:000000000000:loadbalancer/app/url-shortener-dev/b48a0e4d70a101db]
aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-4d8572853f391b486]
aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-d453ac41d9783a744]
aws_security_group.db: Refreshing state... [id=sg-ea090f2345d97cc08]
aws_route.private_default: Refreshing state... [id=r-rtb-3dd4e125097e15eb31080289494]
aws_db_instance.this: Refreshing state... [id=db-6FC9759E]
aws_lb_listener.http[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:000000000000:listener/app/url-shortener-dev/b48a0e4d70a101db/a3d4a7cbb4e71f73]
aws_ecs_task_definition.app: Refreshing state... [id=url-shortener-dev]
aws_ecs_service.app: Refreshing state... [id=arn:aws:ecs:us-east-1:000000000000:service/url-shortener-dev/url-shortener-dev]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  ~ update in-place

Terraform will perform the following actions:

  # aws_ecs_service.app will be updated in-place
  ~ resource "aws_ecs_service" "app" {
      + availability_zone_rebalancing      = "DISABLED"
        id                                 = "arn:aws:ecs:us-east-1:000000000000:service/url-shortener-dev/url-shortener-dev"
        name                               = "url-shortener-dev"
        tags                               = {}
        # (15 unchanged attributes hidden)

        # (4 unchanged blocks hidden)
    }

  # aws_lb_listener.http[0] will be updated in-place
  ~ resource "aws_lb_listener" "http" {
        id                                                                  = "arn:aws:elasticloadbalancing:us-east-1:000000000000:listener/app/url-shortener-dev/b48a0e4d70a101db/a3d4a7cbb4e71f73"
      ~ port                                                                = 4566 -> 80
        tags                                                                = {}
        # (16 unchanged attributes hidden)

        # (1 unchanged block hidden)
    }

Plan: 0 to add, 2 to change, 0 to destroy.
