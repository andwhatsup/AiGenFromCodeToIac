digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_availability_zones.available" [label="data.aws_availability_zones.available"];
  "data.aws_caller_identity.current" [label="data.aws_caller_identity.current"];
  "data.aws_iam_policy_document.assume_batch" [label="data.aws_iam_policy_document.assume_batch"];
  "data.aws_iam_policy_document.assume_codebuild" [label="data.aws_iam_policy_document.assume_codebuild"];
  "data.aws_iam_policy_document.assume_ecs_tasks" [label="data.aws_iam_policy_document.assume_ecs_tasks"];
  "data.aws_iam_policy_document.assume_events" [label="data.aws_iam_policy_document.assume_events"];
  "data.aws_iam_policy_document.assume_sfn" [label="data.aws_iam_policy_document.assume_sfn"];
  "data.aws_partition.current" [label="data.aws_partition.current"];
  "aws_batch_compute_environment.this" [label="aws_batch_compute_environment.this"];
  "aws_batch_job_definition.this" [label="aws_batch_job_definition.this"];
  "aws_batch_job_queue.this" [label="aws_batch_job_queue.this"];
  "aws_cloudwatch_event_rule.schedule" [label="aws_cloudwatch_event_rule.schedule"];
  "aws_cloudwatch_event_target.sfn" [label="aws_cloudwatch_event_target.sfn"];
  "aws_cloudwatch_log_group.batch" [label="aws_cloudwatch_log_group.batch"];
  "aws_cloudwatch_log_group.codebuild" [label="aws_cloudwatch_log_group.codebuild"];
  "aws_codebuild_project.docker_build" [label="aws_codebuild_project.docker_build"];
  "aws_codecommit_repository.this" [label="aws_codecommit_repository.this"];
  "aws_ecr_lifecycle_policy.toolchain" [label="aws_ecr_lifecycle_policy.toolchain"];
  "aws_ecr_repository.toolchain" [label="aws_ecr_repository.toolchain"];
  "aws_eip.nat" [label="aws_eip.nat"];
  "aws_iam_role.batch_execution" [label="aws_iam_role.batch_execution"];
  "aws_iam_role.batch_job" [label="aws_iam_role.batch_job"];
  "aws_iam_role.batch_service" [label="aws_iam_role.batch_service"];
  "aws_iam_role.codebuild" [label="aws_iam_role.codebuild"];
  "aws_iam_role.eventbridge" [label="aws_iam_role.eventbridge"];
  "aws_iam_role.sfn" [label="aws_iam_role.sfn"];
  "aws_iam_role_policy.batch_execution_extra" [label="aws_iam_role_policy.batch_execution_extra"];
  "aws_iam_role_policy.batch_job" [label="aws_iam_role_policy.batch_job"];
  "aws_iam_role_policy.codebuild" [label="aws_iam_role_policy.codebuild"];
  "aws_iam_role_policy.eventbridge" [label="aws_iam_role_policy.eventbridge"];
  "aws_iam_role_policy.sfn" [label="aws_iam_role_policy.sfn"];
  "aws_iam_role_policy_attachment.batch_execution" [label="aws_iam_role_policy_attachment.batch_execution"];
  "aws_iam_role_policy_attachment.batch_service" [label="aws_iam_role_policy_attachment.batch_service"];
  "aws_internet_gateway.this" [label="aws_internet_gateway.this"];
  "aws_kms_alias.main" [label="aws_kms_alias.main"];
  "aws_kms_key.main" [label="aws_kms_key.main"];
  "aws_nat_gateway.this" [label="aws_nat_gateway.this"];
  "aws_route.private_default" [label="aws_route.private_default"];
  "aws_route.public_internet" [label="aws_route.public_internet"];
  "aws_route_table.private" [label="aws_route_table.private"];
  "aws_route_table.public" [label="aws_route_table.public"];
  "aws_route_table_association.private" [label="aws_route_table_association.private"];
  "aws_route_table_association.public" [label="aws_route_table_association.public"];
  "aws_s3_bucket.artifacts" [label="aws_s3_bucket.artifacts"];
  "aws_s3_bucket_lifecycle_configuration.artifacts" [label="aws_s3_bucket_lifecycle_configuration.artifacts"];
  "aws_s3_bucket_ownership_controls.artifacts" [label="aws_s3_bucket_ownership_controls.artifacts"];
  "aws_s3_bucket_public_access_block.artifacts" [label="aws_s3_bucket_public_access_block.artifacts"];
  "aws_s3_bucket_server_side_encryption_configuration.artifacts" [label="aws_s3_bucket_server_side_encryption_configuration.artifacts"];
  "aws_s3_bucket_versioning.artifacts" [label="aws_s3_bucket_versioning.artifacts"];
  "aws_security_group.batch" [label="aws_security_group.batch"];
  "aws_security_group.codebuild" [label="aws_security_group.codebuild"];
  "aws_security_group.endpoints" [label="aws_security_group.endpoints"];
  "aws_sfn_state_machine.this" [label="aws_sfn_state_machine.this"];
  "aws_sns_topic.notifications" [label="aws_sns_topic.notifications"];
  "aws_sns_topic_subscription.email" [label="aws_sns_topic_subscription.email"];
  "aws_subnet.private" [label="aws_subnet.private"];
  "aws_subnet.public" [label="aws_subnet.public"];
  "aws_vpc.this" [label="aws_vpc.this"];
  "aws_vpc_endpoint.ecr_api" [label="aws_vpc_endpoint.ecr_api"];
  "aws_vpc_endpoint.ecr_dkr" [label="aws_vpc_endpoint.ecr_dkr"];
  "aws_vpc_endpoint.logs" [label="aws_vpc_endpoint.logs"];
  "aws_vpc_endpoint.s3" [label="aws_vpc_endpoint.s3"];
  "aws_batch_compute_environment.this" -> "aws_iam_role_policy_attachment.batch_service";
  "aws_batch_compute_environment.this" -> "aws_security_group.batch";
  "aws_batch_compute_environment.this" -> "aws_subnet.private";
  "aws_batch_job_definition.this" -> "aws_cloudwatch_log_group.batch";
  "aws_batch_job_definition.this" -> "aws_ecr_repository.toolchain";
  "aws_batch_job_definition.this" -> "aws_iam_role.batch_execution";
  "aws_batch_job_definition.this" -> "aws_iam_role.batch_job";
  "aws_batch_job_definition.this" -> "aws_s3_bucket.artifacts";
  "aws_batch_job_queue.this" -> "aws_batch_compute_environment.this";
  "aws_cloudwatch_event_target.sfn" -> "aws_cloudwatch_event_rule.schedule";
  "aws_cloudwatch_event_target.sfn" -> "aws_iam_role.eventbridge";
  "aws_cloudwatch_event_target.sfn" -> "aws_sfn_state_machine.this";
  "aws_cloudwatch_log_group.batch" -> "aws_kms_key.main";
  "aws_cloudwatch_log_group.codebuild" -> "aws_kms_key.main";
  "aws_codebuild_project.docker_build" -> "aws_cloudwatch_log_group.codebuild";
  "aws_codebuild_project.docker_build" -> "aws_codecommit_repository.this";
  "aws_codebuild_project.docker_build" -> "aws_ecr_repository.toolchain";
  "aws_codebuild_project.docker_build" -> "aws_iam_role.codebuild";
  "aws_codebuild_project.docker_build" -> "aws_security_group.codebuild";
  "aws_codebuild_project.docker_build" -> "aws_subnet.private";
  "aws_ecr_lifecycle_policy.toolchain" -> "aws_ecr_repository.toolchain";
  "aws_ecr_repository.toolchain" -> "aws_kms_key.main";
  "aws_iam_role.batch_execution" -> "data.aws_iam_policy_document.assume_ecs_tasks";
  "aws_iam_role.batch_job" -> "data.aws_iam_policy_document.assume_ecs_tasks";
  "aws_iam_role.batch_service" -> "data.aws_iam_policy_document.assume_batch";
  "aws_iam_role.codebuild" -> "data.aws_iam_policy_document.assume_codebuild";
  "aws_iam_role.eventbridge" -> "data.aws_iam_policy_document.assume_events";
  "aws_iam_role.sfn" -> "data.aws_iam_policy_document.assume_sfn";
  "aws_iam_role_policy.batch_execution_extra" -> "aws_iam_role.batch_execution";
  "aws_iam_role_policy.batch_execution_extra" -> "aws_kms_key.main";
  "aws_iam_role_policy.batch_job" -> "aws_iam_role.batch_job";
  "aws_iam_role_policy.batch_job" -> "aws_kms_key.main";
  "aws_iam_role_policy.batch_job" -> "aws_s3_bucket.artifacts";
  "aws_iam_role_policy.codebuild" -> "aws_ecr_repository.toolchain";
  "aws_iam_role_policy.codebuild" -> "aws_iam_role.codebuild";
  "aws_iam_role_policy.codebuild" -> "aws_s3_bucket.artifacts";
  "aws_iam_role_policy.eventbridge" -> "aws_iam_role.eventbridge";
  "aws_iam_role_policy.eventbridge" -> "aws_sfn_state_machine.this";
  "aws_iam_role_policy.sfn" -> "aws_iam_role.batch_execution";
  "aws_iam_role_policy.sfn" -> "aws_iam_role.batch_job";
  "aws_iam_role_policy.sfn" -> "aws_iam_role.sfn";
  "aws_iam_role_policy_attachment.batch_execution" -> "data.aws_partition.current";
  "aws_iam_role_policy_attachment.batch_execution" -> "aws_iam_role.batch_execution";
  "aws_iam_role_policy_attachment.batch_service" -> "data.aws_partition.current";
  "aws_iam_role_policy_attachment.batch_service" -> "aws_iam_role.batch_service";
  "aws_internet_gateway.this" -> "aws_vpc.this";
  "aws_kms_alias.main" -> "aws_kms_key.main";
  "aws_kms_key.main" -> "data.aws_caller_identity.current";
  "aws_kms_key.main" -> "data.aws_partition.current";
  "aws_nat_gateway.this" -> "aws_eip.nat";
  "aws_nat_gateway.this" -> "aws_internet_gateway.this";
  "aws_nat_gateway.this" -> "aws_subnet.public";
  "aws_route.private_default" -> "aws_nat_gateway.this";
  "aws_route.private_default" -> "aws_route_table.private";
  "aws_route.public_internet" -> "aws_internet_gateway.this";
  "aws_route.public_internet" -> "aws_route_table.public";
  "aws_route_table.private" -> "aws_vpc.this";
  "aws_route_table.public" -> "aws_vpc.this";
  "aws_route_table_association.private" -> "aws_route_table.private";
  "aws_route_table_association.private" -> "aws_subnet.private";
  "aws_route_table_association.public" -> "aws_route_table.public";
  "aws_route_table_association.public" -> "aws_subnet.public";
  "aws_s3_bucket_lifecycle_configuration.artifacts" -> "aws_s3_bucket.artifacts";
  "aws_s3_bucket_ownership_controls.artifacts" -> "aws_s3_bucket.artifacts";
  "aws_s3_bucket_public_access_block.artifacts" -> "aws_s3_bucket.artifacts";
  "aws_s3_bucket_server_side_encryption_configuration.artifacts" -> "aws_kms_key.main";
  "aws_s3_bucket_server_side_encryption_configuration.artifacts" -> "aws_s3_bucket.artifacts";
  "aws_s3_bucket_versioning.artifacts" -> "aws_s3_bucket.artifacts";
  "aws_security_group.batch" -> "aws_vpc.this";
  "aws_security_group.codebuild" -> "aws_vpc.this";
  "aws_security_group.endpoints" -> "aws_vpc.this";
  "aws_sfn_state_machine.this" -> "aws_batch_job_definition.this";
  "aws_sfn_state_machine.this" -> "aws_batch_job_queue.this";
  "aws_sfn_state_machine.this" -> "aws_iam_role.sfn";
  "aws_sfn_state_machine.this" -> "aws_sns_topic.notifications";
  "aws_sns_topic.notifications" -> "aws_kms_key.main";
  "aws_sns_topic_subscription.email" -> "aws_sns_topic.notifications";
  "aws_subnet.private" -> "data.aws_availability_zones.available";
  "aws_subnet.private" -> "aws_vpc.this";
  "aws_subnet.public" -> "data.aws_availability_zones.available";
  "aws_subnet.public" -> "aws_vpc.this";
  "aws_vpc_endpoint.ecr_api" -> "aws_security_group.endpoints";
  "aws_vpc_endpoint.ecr_api" -> "aws_subnet.private";
  "aws_vpc_endpoint.ecr_dkr" -> "aws_security_group.endpoints";
  "aws_vpc_endpoint.ecr_dkr" -> "aws_subnet.private";
  "aws_vpc_endpoint.logs" -> "aws_security_group.endpoints";
  "aws_vpc_endpoint.logs" -> "aws_subnet.private";
  "aws_vpc_endpoint.s3" -> "aws_route_table.private";
}
