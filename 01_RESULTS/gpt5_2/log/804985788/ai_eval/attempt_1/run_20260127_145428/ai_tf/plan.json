{"format_version":"1.2","terraform_version":"1.13.5","variables":{"artifact_bucket_name":{"value":null},"aws_region":{"value":"us-east-1"},"az_count":{"value":2},"batch_command":{"value":[]},"batch_memory":{"value":2048},"batch_vcpu":{"value":1},"codebuild_source_type":{"value":"CODECOMMIT"},"codecommit_repository_name":{"value":"rust-cobol-toolchain"},"enable_nat_gateway":{"value":true},"environment":{"value":"dev"},"notification_email":{"value":null},"project_name":{"value":"rust-cobol-toolchain"},"schedule_expression":{"value":"rate(1 day)"},"tags":{"value":{}},"vpc_cidr":{"value":"10.20.0.0/16"}},"planned_values":{"outputs":{"artifact_bucket_name":{"sensitive":false},"batch_job_definition_arn":{"sensitive":false},"batch_job_queue_arn":{"sensitive":false},"codecommit_clone_url_http":{"sensitive":false},"ecr_repository_url":{"sensitive":false},"sns_topic_arn":{"sensitive":false},"state_machine_arn":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_batch_compute_environment.this","mode":"managed","type":"aws_batch_compute_environment","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compute_environment_name":"rust-cobol-toolchain-dev-ce","compute_resources":[{"allocation_strategy":null,"bid_percentage":null,"ec2_key_pair":null,"image_id":null,"instance_role":null,"instance_type":null,"launch_template":[],"max_vcpus":16,"min_vcpus":null,"placement_group":null,"spot_iam_fleet_role":null,"tags":null,"type":"FARGATE"}],"eks_configuration":[],"state":"ENABLED","tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"type":"MANAGED","update_policy":[]},"sensitive_values":{"compute_resources":[{"ec2_configuration":[],"launch_template":[],"security_group_ids":[],"subnets":[]}],"eks_configuration":[],"tags_all":{},"update_policy":[]}},{"address":"aws_batch_job_definition.this","mode":"managed","type":"aws_batch_job_definition","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregister_on_new_revision":true,"ecs_properties":null,"eks_properties":[],"name":"rust-cobol-toolchain-dev-job","node_properties":null,"parameters":null,"platform_capabilities":["FARGATE"],"propagate_tags":false,"retry_strategy":[{"attempts":1,"evaluate_on_exit":[]}],"scheduling_priority":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"timeout":[{"attempt_duration_seconds":3600}],"type":"container"},"sensitive_values":{"eks_properties":[],"platform_capabilities":[false],"retry_strategy":[{"evaluate_on_exit":[]}],"tags_all":{},"timeout":[{}]}},{"address":"aws_batch_job_queue.this","mode":"managed","type":"aws_batch_job_queue","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"compute_environment_order":[{"order":1}],"compute_environments":null,"job_state_time_limit_action":[],"name":"rust-cobol-toolchain-dev-queue","priority":1,"scheduling_policy_arn":null,"state":"ENABLED","tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"compute_environment_order":[{}],"job_state_time_limit_action":[],"tags_all":{}}},{"address":"aws_cloudwatch_event_rule.schedule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"schedule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Schedule to trigger rust-cobol-toolchain-dev state machine","event_bus_name":"default","event_pattern":null,"force_destroy":false,"is_enabled":null,"name":"rust-cobol-toolchain-dev-schedule","role_arn":null,"schedule_expression":"rate(1 day)","state":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"tags_all":{}}},{"address":"aws_cloudwatch_event_target.sfn","mode":"managed","type":"aws_cloudwatch_event_target","name":"sfn","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"rule":"rust-cobol-toolchain-dev-schedule","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"sfn"},"sensitive_values":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]}},{"address":"aws_cloudwatch_log_group.batch","mode":"managed","type":"aws_cloudwatch_log_group","name":"batch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/batch/rust-cobol-toolchain-dev","retention_in_days":30,"skip_destroy":false,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"tags_all":{}}},{"address":"aws_cloudwatch_log_group.codebuild","mode":"managed","type":"aws_cloudwatch_log_group","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/codebuild/rust-cobol-toolchain-dev","retention_in_days":30,"skip_destroy":false,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"tags_all":{}}},{"address":"aws_codebuild_project.docker_build","mode":"managed","type":"aws_codebuild_project","name":"docker_build","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"artifacts":[{"artifact_identifier":null,"bucket_owner_access":null,"encryption_disabled":false,"location":null,"name":null,"namespace_type":null,"override_artifact_name":false,"packaging":null,"path":null,"type":"NO_ARTIFACTS"}],"badge_enabled":false,"build_batch_config":[],"build_timeout":60,"cache":[],"concurrent_build_limit":null,"description":"Build Docker image and push to ECR","environment":[{"certificate":null,"compute_type":"BUILD_GENERAL1_MEDIUM","environment_variable":[{"name":"ECR_REPO_URI","type":"PLAINTEXT"},{"name":"AWS_REGION","type":"PLAINTEXT","value":"us-east-1"}],"fleet":[],"image":"aws/codebuild/standard:7.0","image_pull_credentials_type":"CODEBUILD","privileged_mode":true,"registry_credential":[],"type":"LINUX_CONTAINER"}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{"group_name":"/aws/codebuild/rust-cobol-toolchain-dev","status":"ENABLED","stream_name":"build"}],"s3_logs":[]}],"name":"rust-cobol-toolchain-dev-docker-build","project_visibility":"PRIVATE","queued_timeout":480,"resource_access_role":null,"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[],"buildspec":"version: 0.2\nphases:\n  pre_build:\n    commands:\n      - echo Logging in to Amazon ECR...\n      - aws --version\n      - aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $ECR_REPO_URI\n      - COMMIT_HASH=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\n      - IMAGE_TAG=${COMMIT_HASH:-latest}\n  build:\n    commands:\n      - echo Build started on `date`\n      - echo Building the Docker image...\n      - docker build -t $ECR_REPO_URI:$IMAGE_TAG .\n  post_build:\n    commands:\n      - echo Build completed on `date`\n      - echo Pushing the Docker image...\n      - docker push $ECR_REPO_URI:$IMAGE_TAG\n      - echo Writing image detail...\n      - printf '{\"ImageURI\":\"%s\"}' $ECR_REPO_URI:$IMAGE_TAG \u003e imageDetail.json\nartifacts:\n  files:\n    - imageDetail.json\n","git_clone_depth":1,"git_submodules_config":[],"insecure_ssl":null,"report_build_status":null,"type":"CODECOMMIT"}],"source_version":null,"tags":{"Name":"rust-cobol-toolchain-dev-docker-build"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-docker-build","Project":"rust-cobol-toolchain"},"vpc_config":[{}]},"sensitive_values":{"artifacts":[{}],"build_batch_config":[],"cache":[],"environment":[{"environment_variable":[{},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[]}],"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[],"git_submodules_config":[]}],"tags":{},"tags_all":{},"vpc_config":[{"security_group_ids":[],"subnets":[]}]}},{"address":"aws_codecommit_repository.this","mode":"managed","type":"aws_codecommit_repository","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"default_branch":null,"description":"rust-cobol-toolchain-dev source repository","repository_name":"rust-cobol-toolchain","tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"tags_all":{}}},{"address":"aws_ecr_lifecycle_policy.toolchain","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"toolchain","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 30 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":30,\"countType\":\"imageCountMoreThan\",\"tagStatus\":\"any\"}}]}","repository":"rust-cobol-toolchain-dev"},"sensitive_values":{}},{"address":"aws_ecr_repository.toolchain","mode":"managed","type":"aws_ecr_repository","name":"toolchain","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"encryption_configuration":[{"encryption_type":"KMS"}],"force_delete":null,"image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"IMMUTABLE","name":"rust-cobol-toolchain-dev","tags":{"Name":"rust-cobol-toolchain-dev"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}},{"address":"aws_eip.nat[0]","mode":"managed","type":"aws_eip","name":"nat","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"rust-cobol-toolchain-dev-nat-eip"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-nat-eip","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_role.batch_execution","mode":"managed","type":"aws_iam_role","name":"batch_execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-batch-exec-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role.batch_job","mode":"managed","type":"aws_iam_role","name":"batch_job","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-batch-job-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role.batch_service","mode":"managed","type":"aws_iam_role","name":"batch_service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"batch.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-batch-service-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role.codebuild","mode":"managed","type":"aws_iam_role","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-codebuild-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role.eventbridge","mode":"managed","type":"aws_iam_role","name":"eventbridge","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-events-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role.sfn","mode":"managed","type":"aws_iam_role","name":"sfn","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"states.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-sfn-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role_policy.batch_execution_extra","mode":"managed","type":"aws_iam_role_policy","name":"batch_execution_extra","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"rust-cobol-toolchain-dev-batch-exec-extra"},"sensitive_values":{}},{"address":"aws_iam_role_policy.batch_job","mode":"managed","type":"aws_iam_role_policy","name":"batch_job","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"rust-cobol-toolchain-dev-batch-job-policy"},"sensitive_values":{}},{"address":"aws_iam_role_policy.codebuild","mode":"managed","type":"aws_iam_role_policy","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"rust-cobol-toolchain-dev-codebuild-policy"},"sensitive_values":{}},{"address":"aws_iam_role_policy.eventbridge","mode":"managed","type":"aws_iam_role_policy","name":"eventbridge","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"rust-cobol-toolchain-dev-events-policy"},"sensitive_values":{}},{"address":"aws_iam_role_policy.sfn","mode":"managed","type":"aws_iam_role_policy","name":"sfn","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"rust-cobol-toolchain-dev-sfn-policy"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.batch_execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"batch_execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"rust-cobol-toolchain-dev-batch-exec-role"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.batch_service","mode":"managed","type":"aws_iam_role_policy_attachment","name":"batch_service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSBatchServiceRole","role":"rust-cobol-toolchain-dev-batch-service-role"},"sensitive_values":{}},{"address":"aws_internet_gateway.this","mode":"managed","type":"aws_internet_gateway","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"rust-cobol-toolchain-dev-igw"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-igw","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_kms_alias.main","mode":"managed","type":"aws_kms_alias","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"alias/rust-cobol-toolchain-dev"},"sensitive_values":{}},{"address":"aws_kms_key.main","mode":"managed","type":"aws_kms_key","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":10,"description":"KMS key for rust-cobol-toolchain-dev (S3 artifacts, logs, etc.)","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::000000000000:root\"},\"Resource\":\"*\",\"Sid\":\"EnableRootPermissions\"}],\"Version\":\"2012-10-17\"}","tags":{"Name":"rust-cobol-toolchain-dev-kms"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-kms","Project":"rust-cobol-toolchain"},"timeouts":null,"xks_key_id":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_nat_gateway.this[0]","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"rust-cobol-toolchain-dev-nat"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-nat","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"aws_route.private_default[0]","mode":"managed","type":"aws_route","name":"private_default","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"gateway_id":null,"local_gateway_id":null,"timeouts":null,"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"sensitive_values":{}},{"address":"aws_route.public_internet","mode":"managed","type":"aws_route","name":"public_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"local_gateway_id":null,"nat_gateway_id":null,"timeouts":null,"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"sensitive_values":{}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"rust-cobol-toolchain-dev-private-rt"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-private-rt","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"rust-cobol-toolchain-dev-public-rt"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-public-rt","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}},{"address":"aws_route_table_association.private[\"us-east-1a\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.private[\"us-east-1b\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.public[\"us-east-1a\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"aws_route_table_association.public[\"us-east-1b\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"aws_s3_bucket.artifacts","mode":"managed","type":"aws_s3_bucket","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"tags":{"Name":"rust-cobol-toolchain-dev-artifacts"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-artifacts","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket_lifecycle_configuration.artifacts","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"expire-noncurrent","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}},{"address":"aws_s3_bucket_ownership_controls.artifacts","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"rule":[{"object_ownership":"BucketOwnerEnforced"}]},"sensitive_values":{"rule":[{}]}},{"address":"aws_s3_bucket_public_access_block.artifacts","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"aws_s3_bucket_server_side_encryption_configuration.artifacts","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":null}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"aws_s3_bucket_versioning.artifacts","mode":"managed","type":"aws_s3_bucket_versioning","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"aws_security_group.batch","mode":"managed","type":"aws_security_group","name":"batch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for AWS Batch (Fargate)","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"rust-cobol-toolchain-dev-batch-sg","revoke_rules_on_delete":false,"tags":{"Name":"rust-cobol-toolchain-dev-batch-sg"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-batch-sg","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}}},{"address":"aws_security_group.codebuild","mode":"managed","type":"aws_security_group","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for CodeBuild in VPC","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"rust-cobol-toolchain-dev-codebuild-sg","revoke_rules_on_delete":false,"tags":{"Name":"rust-cobol-toolchain-dev-codebuild-sg"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-codebuild-sg","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}}},{"address":"aws_security_group.endpoints","mode":"managed","type":"aws_security_group","name":"endpoints","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for interface VPC endpoints","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.20.0.0/16"],"description":"HTTPS from VPC","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443}],"name":"rust-cobol-toolchain-dev-vpce-sg","revoke_rules_on_delete":false,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-sg"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-sg","Project":"rust-cobol-toolchain"},"timeouts":null},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}},{"address":"aws_sfn_state_machine.this","mode":"managed","type":"aws_sfn_state_machine","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"rust-cobol-toolchain-dev-state-machine","publish":false,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"timeouts":null,"type":"STANDARD"},"sensitive_values":{"encryption_configuration":[],"logging_configuration":[],"tags_all":{},"tracing_configuration":[]}},{"address":"aws_sns_topic.notifications","mode":"managed","type":"aws_sns_topic","name":"notifications","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"rust-cobol-toolchain-dev-notifications","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"sensitive_values":{"tags_all":{}}},{"address":"aws_subnet.private[\"us-east-1a\"]","mode":"managed","type":"aws_subnet","name":"private","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.20.0.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-private-us-east-1a","Tier":"private"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-private-us-east-1a","Project":"rust-cobol-toolchain","Tier":"private"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.private[\"us-east-1b\"]","mode":"managed","type":"aws_subnet","name":"private","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.20.16.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-private-us-east-1b","Tier":"private"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-private-us-east-1b","Project":"rust-cobol-toolchain","Tier":"private"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.public[\"us-east-1a\"]","mode":"managed","type":"aws_subnet","name":"public","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.20.128.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-public-us-east-1a","Tier":"public"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-public-us-east-1a","Project":"rust-cobol-toolchain","Tier":"public"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_subnet.public[\"us-east-1b\"]","mode":"managed","type":"aws_subnet","name":"public","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.20.144.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-public-us-east-1b","Tier":"public"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-public-us-east-1b","Project":"rust-cobol-toolchain","Tier":"public"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.20.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpc"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpc","Project":"rust-cobol-toolchain"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_vpc_endpoint.ecr_api","mode":"managed","type":"aws_vpc_endpoint","name":"ecr_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.ecr.api","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-ecr-api"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-ecr-api","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"aws_vpc_endpoint.ecr_dkr","mode":"managed","type":"aws_vpc_endpoint","name":"ecr_dkr","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.ecr.dkr","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-ecr-dkr"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-ecr-dkr","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"aws_vpc_endpoint.logs","mode":"managed","type":"aws_vpc_endpoint","name":"logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.logs","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-logs"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-logs","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"aws_vpc_endpoint.s3","mode":"managed","type":"aws_vpc_endpoint","name":"s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.s3","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-s3"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-s3","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Gateway"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}]}},"resource_changes":[{"address":"aws_batch_compute_environment.this","mode":"managed","type":"aws_batch_compute_environment","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compute_environment_name":"rust-cobol-toolchain-dev-ce","compute_resources":[{"allocation_strategy":null,"bid_percentage":null,"ec2_key_pair":null,"image_id":null,"instance_role":null,"instance_type":null,"launch_template":[],"max_vcpus":16,"min_vcpus":null,"placement_group":null,"spot_iam_fleet_role":null,"tags":null,"type":"FARGATE"}],"eks_configuration":[],"state":"ENABLED","tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"type":"MANAGED","update_policy":[]},"after_unknown":{"arn":true,"compute_environment_name_prefix":true,"compute_resources":[{"desired_vcpus":true,"ec2_configuration":true,"launch_template":[],"security_group_ids":true,"subnets":true}],"ecs_cluster_arn":true,"eks_configuration":[],"id":true,"service_role":true,"status":true,"status_reason":true,"tags_all":{},"update_policy":[]},"before_sensitive":false,"after_sensitive":{"compute_resources":[{"ec2_configuration":[],"launch_template":[],"security_group_ids":[],"subnets":[]}],"eks_configuration":[],"tags_all":{},"update_policy":[]}}},{"address":"aws_batch_job_definition.this","mode":"managed","type":"aws_batch_job_definition","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregister_on_new_revision":true,"ecs_properties":null,"eks_properties":[],"name":"rust-cobol-toolchain-dev-job","node_properties":null,"parameters":null,"platform_capabilities":["FARGATE"],"propagate_tags":false,"retry_strategy":[{"attempts":1,"evaluate_on_exit":[]}],"scheduling_priority":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"timeout":[{"attempt_duration_seconds":3600}],"type":"container"},"after_unknown":{"arn":true,"arn_prefix":true,"container_properties":true,"eks_properties":[],"id":true,"platform_capabilities":[false],"retry_strategy":[{"evaluate_on_exit":[]}],"revision":true,"tags_all":{},"timeout":[{}]},"before_sensitive":false,"after_sensitive":{"eks_properties":[],"platform_capabilities":[false],"retry_strategy":[{"evaluate_on_exit":[]}],"tags_all":{},"timeout":[{}]}}},{"address":"aws_batch_job_queue.this","mode":"managed","type":"aws_batch_job_queue","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compute_environment_order":[{"order":1}],"compute_environments":null,"job_state_time_limit_action":[],"name":"rust-cobol-toolchain-dev-queue","priority":1,"scheduling_policy_arn":null,"state":"ENABLED","tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"compute_environment_order":[{"compute_environment":true}],"id":true,"job_state_time_limit_action":[],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"compute_environment_order":[{}],"job_state_time_limit_action":[],"tags_all":{}}}},{"address":"aws_cloudwatch_event_rule.schedule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"schedule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Schedule to trigger rust-cobol-toolchain-dev state machine","event_bus_name":"default","event_pattern":null,"force_destroy":false,"is_enabled":null,"name":"rust-cobol-toolchain-dev-schedule","role_arn":null,"schedule_expression":"rate(1 day)","state":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_cloudwatch_event_target.sfn","mode":"managed","type":"aws_cloudwatch_event_target","name":"sfn","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"rule":"rust-cobol-toolchain-dev-schedule","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"sfn"},"after_unknown":{"appsync_target":[],"arn":true,"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"id":true,"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":true,"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]},"before_sensitive":false,"after_sensitive":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]}}},{"address":"aws_cloudwatch_log_group.batch","mode":"managed","type":"aws_cloudwatch_log_group","name":"batch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/batch/rust-cobol-toolchain-dev","retention_in_days":30,"skip_destroy":false,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_cloudwatch_log_group.codebuild","mode":"managed","type":"aws_cloudwatch_log_group","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/codebuild/rust-cobol-toolchain-dev","retention_in_days":30,"skip_destroy":false,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_codebuild_project.docker_build","mode":"managed","type":"aws_codebuild_project","name":"docker_build","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"artifacts":[{"artifact_identifier":null,"bucket_owner_access":null,"encryption_disabled":false,"location":null,"name":null,"namespace_type":null,"override_artifact_name":false,"packaging":null,"path":null,"type":"NO_ARTIFACTS"}],"badge_enabled":false,"build_batch_config":[],"build_timeout":60,"cache":[],"concurrent_build_limit":null,"description":"Build Docker image and push to ECR","environment":[{"certificate":null,"compute_type":"BUILD_GENERAL1_MEDIUM","environment_variable":[{"name":"ECR_REPO_URI","type":"PLAINTEXT"},{"name":"AWS_REGION","type":"PLAINTEXT","value":"us-east-1"}],"fleet":[],"image":"aws/codebuild/standard:7.0","image_pull_credentials_type":"CODEBUILD","privileged_mode":true,"registry_credential":[],"type":"LINUX_CONTAINER"}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{"group_name":"/aws/codebuild/rust-cobol-toolchain-dev","status":"ENABLED","stream_name":"build"}],"s3_logs":[]}],"name":"rust-cobol-toolchain-dev-docker-build","project_visibility":"PRIVATE","queued_timeout":480,"resource_access_role":null,"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[],"buildspec":"version: 0.2\nphases:\n  pre_build:\n    commands:\n      - echo Logging in to Amazon ECR...\n      - aws --version\n      - aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $ECR_REPO_URI\n      - COMMIT_HASH=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\n      - IMAGE_TAG=${COMMIT_HASH:-latest}\n  build:\n    commands:\n      - echo Build started on `date`\n      - echo Building the Docker image...\n      - docker build -t $ECR_REPO_URI:$IMAGE_TAG .\n  post_build:\n    commands:\n      - echo Build completed on `date`\n      - echo Pushing the Docker image...\n      - docker push $ECR_REPO_URI:$IMAGE_TAG\n      - echo Writing image detail...\n      - printf '{\"ImageURI\":\"%s\"}' $ECR_REPO_URI:$IMAGE_TAG \u003e imageDetail.json\nartifacts:\n  files:\n    - imageDetail.json\n","git_clone_depth":1,"git_submodules_config":[],"insecure_ssl":null,"report_build_status":null,"type":"CODECOMMIT"}],"source_version":null,"tags":{"Name":"rust-cobol-toolchain-dev-docker-build"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-docker-build","Project":"rust-cobol-toolchain"},"vpc_config":[{}]},"after_unknown":{"arn":true,"artifacts":[{}],"badge_url":true,"build_batch_config":[],"cache":[],"encryption_key":true,"environment":[{"environment_variable":[{"value":true},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"id":true,"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[]}],"public_project_alias":true,"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"service_role":true,"source":[{"auth":[],"build_status_config":[],"git_submodules_config":[],"location":true}],"tags":{},"tags_all":{},"vpc_config":[{"security_group_ids":true,"subnets":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"artifacts":[{}],"build_batch_config":[],"cache":[],"environment":[{"environment_variable":[{},{}],"fleet":[],"registry_credential":[]}],"file_system_locations":[],"logs_config":[{"cloudwatch_logs":[{}],"s3_logs":[]}],"secondary_artifacts":[],"secondary_source_version":[],"secondary_sources":[],"source":[{"auth":[],"build_status_config":[],"git_submodules_config":[]}],"tags":{},"tags_all":{},"vpc_config":[{"security_group_ids":[],"subnets":[]}]}}},{"address":"aws_codecommit_repository.this","mode":"managed","type":"aws_codecommit_repository","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"default_branch":null,"description":"rust-cobol-toolchain-dev source repository","repository_name":"rust-cobol-toolchain","tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"clone_url_http":true,"clone_url_ssh":true,"id":true,"kms_key_id":true,"repository_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_ecr_lifecycle_policy.toolchain","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"toolchain","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 30 images\",\"rulePriority\":1,\"selection\":{\"countNumber\":30,\"countType\":\"imageCountMoreThan\",\"tagStatus\":\"any\"}}]}","repository":"rust-cobol-toolchain-dev"},"after_unknown":{"id":true,"registry_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_ecr_repository.toolchain","mode":"managed","type":"aws_ecr_repository","name":"toolchain","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"encryption_configuration":[{"encryption_type":"KMS"}],"force_delete":null,"image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"IMMUTABLE","name":"rust-cobol-toolchain-dev","tags":{"Name":"rust-cobol-toolchain-dev"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"encryption_configuration":[{"kms_key":true}],"id":true,"image_scanning_configuration":[{}],"registry_id":true,"repository_url":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_eip.nat[0]","mode":"managed","type":"aws_eip","name":"nat","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"rust-cobol-toolchain-dev-nat-eip"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-nat-eip","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"ipam_pool_id":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.batch_execution","mode":"managed","type":"aws_iam_role","name":"batch_execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-batch-exec-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role.batch_job","mode":"managed","type":"aws_iam_role","name":"batch_job","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-batch-job-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role.batch_service","mode":"managed","type":"aws_iam_role","name":"batch_service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"batch.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-batch-service-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role.codebuild","mode":"managed","type":"aws_iam_role","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-codebuild-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role.eventbridge","mode":"managed","type":"aws_iam_role","name":"eventbridge","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-events-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role.sfn","mode":"managed","type":"aws_iam_role","name":"sfn","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"states.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"rust-cobol-toolchain-dev-sfn-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role_policy.batch_execution_extra","mode":"managed","type":"aws_iam_role_policy","name":"batch_execution_extra","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"rust-cobol-toolchain-dev-batch-exec-extra"},"after_unknown":{"id":true,"name_prefix":true,"policy":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_role_policy.batch_job","mode":"managed","type":"aws_iam_role_policy","name":"batch_job","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"rust-cobol-toolchain-dev-batch-job-policy"},"after_unknown":{"id":true,"name_prefix":true,"policy":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_role_policy.codebuild","mode":"managed","type":"aws_iam_role_policy","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"rust-cobol-toolchain-dev-codebuild-policy"},"after_unknown":{"id":true,"name_prefix":true,"policy":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_role_policy.eventbridge","mode":"managed","type":"aws_iam_role_policy","name":"eventbridge","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"rust-cobol-toolchain-dev-events-policy"},"after_unknown":{"id":true,"name_prefix":true,"policy":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_role_policy.sfn","mode":"managed","type":"aws_iam_role_policy","name":"sfn","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"rust-cobol-toolchain-dev-sfn-policy"},"after_unknown":{"id":true,"name_prefix":true,"policy":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.batch_execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"batch_execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"rust-cobol-toolchain-dev-batch-exec-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.batch_service","mode":"managed","type":"aws_iam_role_policy_attachment","name":"batch_service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSBatchServiceRole","role":"rust-cobol-toolchain-dev-batch-service-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_internet_gateway.this","mode":"managed","type":"aws_internet_gateway","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"rust-cobol-toolchain-dev-igw"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-igw","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_kms_alias.main","mode":"managed","type":"aws_kms_alias","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"alias/rust-cobol-toolchain-dev"},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"target_key_arn":true,"target_key_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_kms_key.main","mode":"managed","type":"aws_kms_key","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":10,"description":"KMS key for rust-cobol-toolchain-dev (S3 artifacts, logs, etc.)","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::000000000000:root\"},\"Resource\":\"*\",\"Sid\":\"EnableRootPermissions\"}],\"Version\":\"2012-10-17\"}","tags":{"Name":"rust-cobol-toolchain-dev-kms"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-kms","Project":"rust-cobol-toolchain"},"timeouts":null,"xks_key_id":null},"after_unknown":{"arn":true,"id":true,"key_id":true,"multi_region":true,"rotation_period_in_days":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_nat_gateway.this[0]","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"Name":"rust-cobol-toolchain-dev-nat"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-nat","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"secondary_private_ip_address_count":true,"secondary_private_ip_addresses":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"aws_route.private_default[0]","mode":"managed","type":"aws_route","name":"private_default","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"gateway_id":null,"local_gateway_id":null,"timeouts":null,"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"after_unknown":{"id":true,"instance_id":true,"instance_owner_id":true,"nat_gateway_id":true,"network_interface_id":true,"origin":true,"route_table_id":true,"state":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route.public_internet","mode":"managed","type":"aws_route","name":"public_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"carrier_gateway_id":null,"core_network_arn":null,"destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":null,"destination_prefix_list_id":null,"egress_only_gateway_id":null,"local_gateway_id":null,"nat_gateway_id":null,"timeouts":null,"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null},"after_unknown":{"gateway_id":true,"id":true,"instance_id":true,"instance_owner_id":true,"network_interface_id":true,"origin":true,"route_table_id":true,"state":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"rust-cobol-toolchain-dev-private-rt"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-private-rt","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"rust-cobol-toolchain-dev-public-rt"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-public-rt","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}}}},{"address":"aws_route_table_association.private[\"us-east-1a\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.private[\"us-east-1b\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public[\"us-east-1a\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route_table_association.public[\"us-east-1b\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3_bucket.artifacts","mode":"managed","type":"aws_s3_bucket","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"tags":{"Name":"rust-cobol-toolchain-dev-artifacts"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-artifacts","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket_lifecycle_configuration.artifacts","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"expire-noncurrent","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}}},{"address":"aws_s3_bucket_ownership_controls.artifacts","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"object_ownership":"BucketOwnerEnforced"}]},"after_unknown":{"bucket":true,"id":true,"rule":[{}]},"before_sensitive":false,"after_sensitive":{"rule":[{}]}}},{"address":"aws_s3_bucket_public_access_block.artifacts","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3_bucket_server_side_encryption_configuration.artifacts","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":null}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"aws_s3_bucket_versioning.artifacts","mode":"managed","type":"aws_s3_bucket_versioning","name":"artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"aws_security_group.batch","mode":"managed","type":"aws_security_group","name":"batch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for AWS Batch (Fargate)","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"rust-cobol-toolchain-dev-batch-sg","revoke_rules_on_delete":false,"tags":{"Name":"rust-cobol-toolchain-dev-batch-sg"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-batch-sg","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"aws_security_group.codebuild","mode":"managed","type":"aws_security_group","name":"codebuild","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for CodeBuild in VPC","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"rust-cobol-toolchain-dev-codebuild-sg","revoke_rules_on_delete":false,"tags":{"Name":"rust-cobol-toolchain-dev-codebuild-sg"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-codebuild-sg","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"aws_security_group.endpoints","mode":"managed","type":"aws_security_group","name":"endpoints","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for interface VPC endpoints","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.20.0.0/16"],"description":"HTTPS from VPC","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443}],"name":"rust-cobol-toolchain-dev-vpce-sg","revoke_rules_on_delete":false,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-sg"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-sg","Project":"rust-cobol-toolchain"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"aws_sfn_state_machine.this","mode":"managed","type":"aws_sfn_state_machine","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"rust-cobol-toolchain-dev-state-machine","publish":false,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"},"timeouts":null,"type":"STANDARD"},"after_unknown":{"arn":true,"creation_date":true,"definition":true,"description":true,"encryption_configuration":true,"id":true,"logging_configuration":true,"name_prefix":true,"revision_id":true,"role_arn":true,"state_machine_version_arn":true,"status":true,"tags_all":{},"tracing_configuration":true,"version_description":true},"before_sensitive":false,"after_sensitive":{"encryption_configuration":[],"logging_configuration":[],"tags_all":{},"tracing_configuration":[]}}},{"address":"aws_sns_topic.notifications","mode":"managed","type":"aws_sns_topic","name":"notifications","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"rust-cobol-toolchain-dev-notifications","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null,"tags_all":{"Environment":"dev","ManagedBy":"terraform","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_subnet.private[\"us-east-1a\"]","mode":"managed","type":"aws_subnet","name":"private","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.20.0.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-private-us-east-1a","Tier":"private"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-private-us-east-1a","Project":"rust-cobol-toolchain","Tier":"private"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.private[\"us-east-1b\"]","mode":"managed","type":"aws_subnet","name":"private","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.20.16.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-private-us-east-1b","Tier":"private"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-private-us-east-1b","Project":"rust-cobol-toolchain","Tier":"private"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.public[\"us-east-1a\"]","mode":"managed","type":"aws_subnet","name":"public","index":"us-east-1a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.20.128.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-public-us-east-1a","Tier":"public"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-public-us-east-1a","Project":"rust-cobol-toolchain","Tier":"public"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.public[\"us-east-1b\"]","mode":"managed","type":"aws_subnet","name":"public","index":"us-east-1b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.20.144.0/20","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-public-us-east-1b","Tier":"public"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-public-us-east-1b","Project":"rust-cobol-toolchain","Tier":"public"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.20.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpc"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpc","Project":"rust-cobol-toolchain"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc_endpoint.ecr_api","mode":"managed","type":"aws_vpc_endpoint","name":"ecr_api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.ecr.api","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-ecr-api"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-ecr-api","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"aws_vpc_endpoint.ecr_dkr","mode":"managed","type":"aws_vpc_endpoint","name":"ecr_dkr","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.ecr.dkr","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-ecr-dkr"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-ecr-dkr","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"aws_vpc_endpoint.logs","mode":"managed","type":"aws_vpc_endpoint","name":"logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.logs","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-logs"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-logs","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"aws_vpc_endpoint.s3","mode":"managed","type":"aws_vpc_endpoint","name":"s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"resource_configuration_arn":null,"service_name":"com.amazonaws.us-east-1.s3","service_network_arn":null,"tags":{"Name":"rust-cobol-toolchain-dev-vpce-s3"},"tags_all":{"Environment":"dev","ManagedBy":"terraform","Name":"rust-cobol-toolchain-dev-vpce-s3","Project":"rust-cobol-toolchain"},"timeouts":null,"vpc_endpoint_type":"Gateway"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"private_dns_enabled":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}}],"output_changes":{"artifact_bucket_name":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"batch_job_definition_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"batch_job_queue_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"codecommit_clone_url_http":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"ecr_repository_url":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"sns_topic_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"state_machine_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.5","values":{"root_module":{"resources":[{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":[""],"id":"us-east-1","names":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e","us-east-1f"],"state":"available","timeouts":null,"zone_ids":["use1-az6","use1-az1","use1-az2","use1-az4","use1-az3","use1-az5"]},"sensitive_values":{"group_names":[false],"names":[false,false,false,false,false,false],"zone_ids":[false,false,false,false,false,false]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"000000000000","arn":"arn:aws:iam::000000000000:root","id":"000000000000","user_id":"AKIAIOSFODNN7EXAMPLE"},"sensitive_values":{}},{"address":"data.aws_iam_policy_document.assume_batch","mode":"data","type":"aws_iam_policy_document","name":"assume_batch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"958374824","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"batch.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"batch.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["batch.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.aws_iam_policy_document.assume_codebuild","mode":"data","type":"aws_iam_policy_document","name":"assume_codebuild","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1229436035","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codebuild.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["codebuild.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.aws_iam_policy_document.assume_ecs_tasks","mode":"data","type":"aws_iam_policy_document","name":"assume_ecs_tasks","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1077804475","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.aws_iam_policy_document.assume_events","mode":"data","type":"aws_iam_policy_document","name":"assume_events","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3959961479","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"events.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"events.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["events.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.aws_iam_policy_document.assume_sfn","mode":"data","type":"aws_iam_policy_document","name":"assume_sfn","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"4022981484","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"states.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"states.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["states.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"default_tags":[{"tags":{"references":["var.project_name","var.environment","var.tags"]}}],"region":{"references":["var.aws_region"]}}}},"root_module":{"outputs":{"artifact_bucket_name":{"expression":{"references":["aws_s3_bucket.artifacts.bucket","aws_s3_bucket.artifacts"]},"description":"S3 bucket for job artifacts."},"batch_job_definition_arn":{"expression":{"references":["aws_batch_job_definition.this.arn","aws_batch_job_definition.this"]}},"batch_job_queue_arn":{"expression":{"references":["aws_batch_job_queue.this.arn","aws_batch_job_queue.this"]}},"codecommit_clone_url_http":{"expression":{"references":["aws_codecommit_repository.this.clone_url_http","aws_codecommit_repository.this"]},"description":"HTTP clone URL for the CodeCommit repository."},"ecr_repository_url":{"expression":{"references":["aws_ecr_repository.toolchain.repository_url","aws_ecr_repository.toolchain"]},"description":"ECR repository URL to push images to."},"sns_topic_arn":{"expression":{"references":["aws_sns_topic.notifications.arn","aws_sns_topic.notifications"]}},"state_machine_arn":{"expression":{"references":["aws_sfn_state_machine.this.arn","aws_sfn_state_machine.this"]}}},"resources":[{"address":"aws_batch_compute_environment.this","mode":"managed","type":"aws_batch_compute_environment","name":"this","provider_config_key":"aws","expressions":{"compute_environment_name":{"references":["local.name_prefix"]},"compute_resources":[{"max_vcpus":{"constant_value":16},"security_group_ids":{"references":["aws_security_group.batch.id","aws_security_group.batch"]},"subnets":{"references":["aws_subnet.private"]},"type":{"constant_value":"FARGATE"}}],"service_role":{"references":["aws_iam_role.batch_service.arn","aws_iam_role.batch_service"]},"type":{"constant_value":"MANAGED"}},"schema_version":0,"depends_on":["aws_iam_role_policy_attachment.batch_service"]},{"address":"aws_batch_job_definition.this","mode":"managed","type":"aws_batch_job_definition","name":"this","provider_config_key":"aws","expressions":{"container_properties":{"references":["aws_ecr_repository.toolchain.repository_url","aws_ecr_repository.toolchain","var.batch_command","var.batch_command","aws_iam_role.batch_execution.arn","aws_iam_role.batch_execution","aws_iam_role.batch_job.arn","aws_iam_role.batch_job","var.batch_vcpu","var.batch_memory","aws_s3_bucket.artifacts.bucket","aws_s3_bucket.artifacts","var.aws_region","aws_cloudwatch_log_group.batch.name","aws_cloudwatch_log_group.batch","var.aws_region"]},"name":{"references":["local.name_prefix"]},"platform_capabilities":{"constant_value":["FARGATE"]},"retry_strategy":[{"attempts":{"constant_value":1}}],"timeout":[{"attempt_duration_seconds":{"constant_value":3600}}],"type":{"constant_value":"container"}},"schema_version":0},{"address":"aws_batch_job_queue.this","mode":"managed","type":"aws_batch_job_queue","name":"this","provider_config_key":"aws","expressions":{"compute_environment_order":[{"compute_environment":{"references":["aws_batch_compute_environment.this.arn","aws_batch_compute_environment.this"]},"order":{"constant_value":1}}],"name":{"references":["local.name_prefix"]},"priority":{"constant_value":1},"state":{"constant_value":"ENABLED"}},"schema_version":1},{"address":"aws_cloudwatch_event_rule.schedule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"schedule","provider_config_key":"aws","expressions":{"description":{"references":["local.name_prefix"]},"name":{"references":["local.name_prefix"]},"schedule_expression":{"references":["var.schedule_expression"]}},"schema_version":1},{"address":"aws_cloudwatch_event_target.sfn","mode":"managed","type":"aws_cloudwatch_event_target","name":"sfn","provider_config_key":"aws","expressions":{"arn":{"references":["aws_sfn_state_machine.this.arn","aws_sfn_state_machine.this"]},"role_arn":{"references":["aws_iam_role.eventbridge.arn","aws_iam_role.eventbridge"]},"rule":{"references":["aws_cloudwatch_event_rule.schedule.name","aws_cloudwatch_event_rule.schedule"]},"target_id":{"constant_value":"sfn"}},"schema_version":1},{"address":"aws_cloudwatch_log_group.batch","mode":"managed","type":"aws_cloudwatch_log_group","name":"batch","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]},"name":{"references":["local.name_prefix"]},"retention_in_days":{"constant_value":30}},"schema_version":0},{"address":"aws_cloudwatch_log_group.codebuild","mode":"managed","type":"aws_cloudwatch_log_group","name":"codebuild","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]},"name":{"references":["local.name_prefix"]},"retention_in_days":{"constant_value":30}},"schema_version":0},{"address":"aws_codebuild_project.docker_build","mode":"managed","type":"aws_codebuild_project","name":"docker_build","provider_config_key":"aws","expressions":{"artifacts":[{"type":{"constant_value":"NO_ARTIFACTS"}}],"build_timeout":{"constant_value":60},"description":{"constant_value":"Build Docker image and push to ECR"},"environment":[{"compute_type":{"constant_value":"BUILD_GENERAL1_MEDIUM"},"environment_variable":[{"name":{"constant_value":"ECR_REPO_URI"},"value":{"references":["aws_ecr_repository.toolchain.repository_url","aws_ecr_repository.toolchain"]}},{"name":{"constant_value":"AWS_REGION"},"value":{"references":["var.aws_region"]}}],"image":{"constant_value":"aws/codebuild/standard:7.0"},"image_pull_credentials_type":{"constant_value":"CODEBUILD"},"privileged_mode":{"constant_value":true},"type":{"constant_value":"LINUX_CONTAINER"}}],"logs_config":[{"cloudwatch_logs":[{"group_name":{"references":["aws_cloudwatch_log_group.codebuild.name","aws_cloudwatch_log_group.codebuild"]},"stream_name":{"constant_value":"build"}}]}],"name":{"references":["local.name_prefix"]},"service_role":{"references":["aws_iam_role.codebuild.arn","aws_iam_role.codebuild"]},"source":[{"buildspec":{"constant_value":"version: 0.2\nphases:\n  pre_build:\n    commands:\n      - echo Logging in to Amazon ECR...\n      - aws --version\n      - aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $ECR_REPO_URI\n      - COMMIT_HASH=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\n      - IMAGE_TAG=${COMMIT_HASH:-latest}\n  build:\n    commands:\n      - echo Build started on `date`\n      - echo Building the Docker image...\n      - docker build -t $ECR_REPO_URI:$IMAGE_TAG .\n  post_build:\n    commands:\n      - echo Build completed on `date`\n      - echo Pushing the Docker image...\n      - docker push $ECR_REPO_URI:$IMAGE_TAG\n      - echo Writing image detail...\n      - printf '{\"ImageURI\":\"%s\"}' $ECR_REPO_URI:$IMAGE_TAG \u003e imageDetail.json\nartifacts:\n  files:\n    - imageDetail.json\n"},"git_clone_depth":{"constant_value":1},"location":{"references":["aws_codecommit_repository.this.clone_url_http","aws_codecommit_repository.this"]},"type":{"references":["var.codebuild_source_type"]}}],"tags":{"references":["local.name_prefix"]},"vpc_config":[{"security_group_ids":{"references":["aws_security_group.codebuild.id","aws_security_group.codebuild"]},"subnets":{"references":["aws_subnet.private"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}}]},"schema_version":0},{"address":"aws_codecommit_repository.this","mode":"managed","type":"aws_codecommit_repository","name":"this","provider_config_key":"aws","expressions":{"description":{"references":["local.name_prefix"]},"repository_name":{"references":["var.codecommit_repository_name"]}},"schema_version":0},{"address":"aws_ecr_lifecycle_policy.toolchain","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"toolchain","provider_config_key":"aws","expressions":{"policy":{},"repository":{"references":["aws_ecr_repository.toolchain.name","aws_ecr_repository.toolchain"]}},"schema_version":0},{"address":"aws_ecr_repository.toolchain","mode":"managed","type":"aws_ecr_repository","name":"toolchain","provider_config_key":"aws","expressions":{"encryption_configuration":[{"encryption_type":{"constant_value":"KMS"},"kms_key":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]}}],"image_scanning_configuration":[{"scan_on_push":{"constant_value":true}}],"image_tag_mutability":{"constant_value":"IMMUTABLE"},"name":{"references":["local.name_prefix"]},"tags":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_config_key":"aws","expressions":{"domain":{"constant_value":"vpc"},"tags":{"references":["local.name_prefix"]}},"schema_version":0,"count_expression":{"references":["var.enable_nat_gateway"]}},{"address":"aws_iam_role.batch_execution","mode":"managed","type":"aws_iam_role","name":"batch_execution","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_ecs_tasks.json","data.aws_iam_policy_document.assume_ecs_tasks"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_iam_role.batch_job","mode":"managed","type":"aws_iam_role","name":"batch_job","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_ecs_tasks.json","data.aws_iam_policy_document.assume_ecs_tasks"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_iam_role.batch_service","mode":"managed","type":"aws_iam_role","name":"batch_service","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_batch.json","data.aws_iam_policy_document.assume_batch"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_iam_role.codebuild","mode":"managed","type":"aws_iam_role","name":"codebuild","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_codebuild.json","data.aws_iam_policy_document.assume_codebuild"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_iam_role.eventbridge","mode":"managed","type":"aws_iam_role","name":"eventbridge","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_events.json","data.aws_iam_policy_document.assume_events"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_iam_role.sfn","mode":"managed","type":"aws_iam_role","name":"sfn","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_sfn.json","data.aws_iam_policy_document.assume_sfn"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_iam_role_policy.batch_execution_extra","mode":"managed","type":"aws_iam_role_policy","name":"batch_execution_extra","provider_config_key":"aws","expressions":{"name":{"references":["local.name_prefix"]},"policy":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]},"role":{"references":["aws_iam_role.batch_execution.id","aws_iam_role.batch_execution"]}},"schema_version":0},{"address":"aws_iam_role_policy.batch_job","mode":"managed","type":"aws_iam_role_policy","name":"batch_job","provider_config_key":"aws","expressions":{"name":{"references":["local.name_prefix"]},"policy":{"references":["aws_s3_bucket.artifacts.arn","aws_s3_bucket.artifacts","aws_s3_bucket.artifacts.arn","aws_s3_bucket.artifacts","aws_kms_key.main.arn","aws_kms_key.main"]},"role":{"references":["aws_iam_role.batch_job.id","aws_iam_role.batch_job"]}},"schema_version":0},{"address":"aws_iam_role_policy.codebuild","mode":"managed","type":"aws_iam_role_policy","name":"codebuild","provider_config_key":"aws","expressions":{"name":{"references":["local.name_prefix"]},"policy":{"references":["aws_ecr_repository.toolchain.arn","aws_ecr_repository.toolchain","aws_s3_bucket.artifacts.arn","aws_s3_bucket.artifacts","aws_s3_bucket.artifacts.arn","aws_s3_bucket.artifacts","aws_kms_key.main.arn","aws_kms_key.main"]},"role":{"references":["aws_iam_role.codebuild.id","aws_iam_role.codebuild"]}},"schema_version":0},{"address":"aws_iam_role_policy.eventbridge","mode":"managed","type":"aws_iam_role_policy","name":"eventbridge","provider_config_key":"aws","expressions":{"name":{"references":["local.name_prefix"]},"policy":{"references":["aws_sfn_state_machine.this.arn","aws_sfn_state_machine.this"]},"role":{"references":["aws_iam_role.eventbridge.id","aws_iam_role.eventbridge"]}},"schema_version":0},{"address":"aws_iam_role_policy.sfn","mode":"managed","type":"aws_iam_role_policy","name":"sfn","provider_config_key":"aws","expressions":{"name":{"references":["local.name_prefix"]},"policy":{"references":["aws_iam_role.batch_execution.arn","aws_iam_role.batch_execution","aws_iam_role.batch_job.arn","aws_iam_role.batch_job"]},"role":{"references":["aws_iam_role.sfn.id","aws_iam_role.sfn"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.batch_execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"batch_execution","provider_config_key":"aws","expressions":{"policy_arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]},"role":{"references":["aws_iam_role.batch_execution.name","aws_iam_role.batch_execution"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.batch_service","mode":"managed","type":"aws_iam_role_policy_attachment","name":"batch_service","provider_config_key":"aws","expressions":{"policy_arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]},"role":{"references":["aws_iam_role.batch_service.name","aws_iam_role.batch_service"]}},"schema_version":0},{"address":"aws_internet_gateway.this","mode":"managed","type":"aws_internet_gateway","name":"this","provider_config_key":"aws","expressions":{"tags":{"references":["local.name_prefix"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_kms_alias.main","mode":"managed","type":"aws_kms_alias","name":"main","provider_config_key":"aws","expressions":{"name":{"references":["local.name_prefix"]},"target_key_id":{"references":["aws_kms_key.main.key_id","aws_kms_key.main"]}},"schema_version":0},{"address":"aws_kms_key.main","mode":"managed","type":"aws_kms_key","name":"main","provider_config_key":"aws","expressions":{"deletion_window_in_days":{"constant_value":10},"description":{"references":["local.name_prefix"]},"enable_key_rotation":{"constant_value":true},"policy":{"references":["data.aws_partition.current.partition","data.aws_partition.current","data.aws_caller_identity.current.account_id","data.aws_caller_identity.current"]},"tags":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_nat_gateway.this","mode":"managed","type":"aws_nat_gateway","name":"this","provider_config_key":"aws","expressions":{"allocation_id":{"references":["aws_eip.nat[0].id","aws_eip.nat[0]","aws_eip.nat"]},"subnet_id":{"references":["aws_subnet.public"]},"tags":{"references":["local.name_prefix"]}},"schema_version":0,"count_expression":{"references":["var.enable_nat_gateway"]},"depends_on":["aws_internet_gateway.this"]},{"address":"aws_route.private_default","mode":"managed","type":"aws_route","name":"private_default","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"nat_gateway_id":{"references":["aws_nat_gateway.this[0].id","aws_nat_gateway.this[0]","aws_nat_gateway.this"]},"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]}},"schema_version":0,"count_expression":{"references":["var.enable_nat_gateway"]}},{"address":"aws_route.public_internet","mode":"managed","type":"aws_route","name":"public_internet","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.this.id","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]}},"schema_version":0},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"tags":{"references":["local.name_prefix"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"tags":{"references":["local.name_prefix"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.private"]}},{"address":"aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.public"]}},{"address":"aws_s3_bucket.artifacts","mode":"managed","type":"aws_s3_bucket","name":"artifacts","provider_config_key":"aws","expressions":{"bucket":{"references":["var.artifact_bucket_name"]},"force_destroy":{"constant_value":false},"tags":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_s3_bucket_lifecycle_configuration.artifacts","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"artifacts","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.artifacts.id","aws_s3_bucket.artifacts"]},"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":{"constant_value":7}}],"filter":[{}],"id":{"constant_value":"expire-noncurrent"},"noncurrent_version_expiration":[{"noncurrent_days":{"constant_value":30}}],"status":{"constant_value":"Enabled"}}]},"schema_version":1},{"address":"aws_s3_bucket_ownership_controls.artifacts","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"artifacts","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.artifacts.id","aws_s3_bucket.artifacts"]},"rule":[{"object_ownership":{"constant_value":"BucketOwnerEnforced"}}]},"schema_version":0},{"address":"aws_s3_bucket_public_access_block.artifacts","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"artifacts","provider_config_key":"aws","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["aws_s3_bucket.artifacts.id","aws_s3_bucket.artifacts"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0},{"address":"aws_s3_bucket_server_side_encryption_configuration.artifacts","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"artifacts","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.artifacts.id","aws_s3_bucket.artifacts"]},"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]},"sse_algorithm":{"constant_value":"aws:kms"}}]}]},"schema_version":0},{"address":"aws_s3_bucket_versioning.artifacts","mode":"managed","type":"aws_s3_bucket_versioning","name":"artifacts","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.artifacts.id","aws_s3_bucket.artifacts"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0},{"address":"aws_security_group.batch","mode":"managed","type":"aws_security_group","name":"batch","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for AWS Batch (Fargate)"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"name":{"references":["local.name_prefix"]},"tags":{"references":["local.name_prefix"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_security_group.codebuild","mode":"managed","type":"aws_security_group","name":"codebuild","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for CodeBuild in VPC"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"name":{"references":["local.name_prefix"]},"tags":{"references":["local.name_prefix"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_security_group.endpoints","mode":"managed","type":"aws_security_group","name":"endpoints","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for interface VPC endpoints"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"references":["aws_vpc.this.cidr_block","aws_vpc.this"]},"name":{"references":["local.name_prefix"]},"tags":{"references":["local.name_prefix"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1},{"address":"aws_sfn_state_machine.this","mode":"managed","type":"aws_sfn_state_machine","name":"this","provider_config_key":"aws","expressions":{"definition":{"references":["local.name_prefix","data.aws_partition.current.partition","data.aws_partition.current","local.name_prefix","aws_batch_job_queue.this.arn","aws_batch_job_queue.this","aws_batch_job_definition.this.arn","aws_batch_job_definition.this","data.aws_partition.current.partition","data.aws_partition.current","aws_sns_topic.notifications.arn","aws_sns_topic.notifications","local.name_prefix","local.name_prefix","data.aws_partition.current.partition","data.aws_partition.current","aws_sns_topic.notifications.arn","aws_sns_topic.notifications","local.name_prefix","local.name_prefix"]},"name":{"references":["local.name_prefix"]},"role_arn":{"references":["aws_iam_role.sfn.arn","aws_iam_role.sfn"]}},"schema_version":0},{"address":"aws_sns_topic.notifications","mode":"managed","type":"aws_sns_topic","name":"notifications","provider_config_key":"aws","expressions":{"kms_master_key_id":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]},"name":{"references":["local.name_prefix"]}},"schema_version":0},{"address":"aws_sns_topic_subscription.email","mode":"managed","type":"aws_sns_topic_subscription","name":"email","provider_config_key":"aws","expressions":{"endpoint":{"references":["var.notification_email"]},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.notifications.arn","aws_sns_topic.notifications"]}},"schema_version":0,"count_expression":{"references":["var.notification_email"]}},{"address":"aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_config_key":"aws","expressions":{"availability_zone":{"references":["each.key"]},"cidr_block":{"references":["local.private_subnet_cidrs","each.value"]},"map_public_ip_on_launch":{"constant_value":false},"tags":{"references":["local.name_prefix","each.key"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1,"for_each_expression":{"references":["local.azs"]}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"aws","expressions":{"availability_zone":{"references":["each.key"]},"cidr_block":{"references":["local.public_subnet_cidrs","each.value"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["local.name_prefix","each.key"]},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":1,"for_each_expression":{"references":["local.azs"]}},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"references":["local.name_prefix"]}},"schema_version":1},{"address":"aws_vpc_endpoint.ecr_api","mode":"managed","type":"aws_vpc_endpoint","name":"ecr_api","provider_config_key":"aws","expressions":{"private_dns_enabled":{"constant_value":true},"security_group_ids":{"references":["aws_security_group.endpoints.id","aws_security_group.endpoints"]},"service_name":{"references":["var.aws_region"]},"subnet_ids":{"references":["aws_subnet.private"]},"tags":{"references":["local.name_prefix"]},"vpc_endpoint_type":{"constant_value":"Interface"},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_vpc_endpoint.ecr_dkr","mode":"managed","type":"aws_vpc_endpoint","name":"ecr_dkr","provider_config_key":"aws","expressions":{"private_dns_enabled":{"constant_value":true},"security_group_ids":{"references":["aws_security_group.endpoints.id","aws_security_group.endpoints"]},"service_name":{"references":["var.aws_region"]},"subnet_ids":{"references":["aws_subnet.private"]},"tags":{"references":["local.name_prefix"]},"vpc_endpoint_type":{"constant_value":"Interface"},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_vpc_endpoint.logs","mode":"managed","type":"aws_vpc_endpoint","name":"logs","provider_config_key":"aws","expressions":{"private_dns_enabled":{"constant_value":true},"security_group_ids":{"references":["aws_security_group.endpoints.id","aws_security_group.endpoints"]},"service_name":{"references":["var.aws_region"]},"subnet_ids":{"references":["aws_subnet.private"]},"tags":{"references":["local.name_prefix"]},"vpc_endpoint_type":{"constant_value":"Interface"},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"aws_vpc_endpoint.s3","mode":"managed","type":"aws_vpc_endpoint","name":"s3","provider_config_key":"aws","expressions":{"route_table_ids":{"references":["aws_route_table.private.id","aws_route_table.private"]},"service_name":{"references":["var.aws_region"]},"tags":{"references":["local.name_prefix"]},"vpc_endpoint_type":{"constant_value":"Gateway"},"vpc_id":{"references":["aws_vpc.this.id","aws_vpc.this"]}},"schema_version":0},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","expressions":{"state":{"constant_value":"available"}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_batch","mode":"data","type":"aws_iam_policy_document","name":"assume_batch","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["batch.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.assume_codebuild","mode":"data","type":"aws_iam_policy_document","name":"assume_codebuild","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["codebuild.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.assume_ecs_tasks","mode":"data","type":"aws_iam_policy_document","name":"assume_ecs_tasks","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["ecs-tasks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.assume_events","mode":"data","type":"aws_iam_policy_document","name":"assume_events","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["events.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.assume_sfn","mode":"data","type":"aws_iam_policy_document","name":"assume_sfn","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["states.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"artifact_bucket_name":{"default":null,"description":"Optional explicit S3 bucket name for artifacts. Leave null to auto-generate."},"aws_region":{"default":"us-east-1","description":"AWS region to deploy into."},"az_count":{"default":2,"description":"Number of AZs to use (2 recommended)."},"batch_command":{"default":[],"description":"Command to run in the container for the Batch job. Leave empty to use image default CMD/ENTRYPOINT."},"batch_memory":{"default":2048,"description":"Memory (MiB) for the AWS Batch job (Fargate)."},"batch_vcpu":{"default":1,"description":"vCPU for the AWS Batch job (Fargate)."},"codebuild_source_type":{"default":"CODECOMMIT","description":"CodeBuild source type. Use CODECOMMIT if you create a CodeCommit repo, or GITHUB if using GitHub (requires additional setup not included)."},"codecommit_repository_name":{"default":"rust-cobol-toolchain","description":"Name of the CodeCommit repository to create."},"enable_nat_gateway":{"default":true,"description":"Whether to create a NAT Gateway for private subnets outbound internet access (needed for CodeBuild to download packages if not using VPC endpoints only)."},"environment":{"default":"dev","description":"Environment name (e.g., dev, staging, prod)."},"notification_email":{"default":null,"description":"Optional email address to subscribe to SNS notifications. Leave null to skip subscription."},"project_name":{"default":"rust-cobol-toolchain","description":"Project/name prefix used for resource naming."},"schedule_expression":{"default":"rate(1 day)","description":"EventBridge schedule expression to trigger the Step Functions state machine."},"tags":{"default":{},"description":"Additional tags to apply to all resources."},"vpc_cidr":{"default":"10.20.0.0/16","description":"CIDR block for the VPC."}}}},"relevant_attributes":[{"resource":"aws_batch_compute_environment.this","attribute":["arn"]},{"resource":"aws_cloudwatch_log_group.batch","attribute":["name"]},{"resource":"aws_iam_role.batch_service","attribute":["arn"]},{"resource":"aws_iam_role.batch_execution","attribute":["id"]},{"resource":"aws_s3_bucket.artifacts","attribute":["arn"]},{"resource":"aws_ecr_repository.toolchain","attribute":["repository_url"]},{"resource":"aws_kms_key.main","attribute":["key_id"]},{"resource":"aws_codecommit_repository.this","attribute":["clone_url_http"]},{"resource":"aws_s3_bucket.artifacts","attribute":["bucket"]},{"resource":"aws_iam_role.codebuild","attribute":["arn"]},{"resource":"data.aws_partition.current","attribute":["partition"]},{"resource":"data.aws_caller_identity.current","attribute":["account_id"]},{"resource":"aws_security_group.codebuild","attribute":["id"]},{"resource":"aws_route_table.public","attribute":["id"]},{"resource":"aws_vpc.this","attribute":["cidr_block"]},{"resource":"data.aws_iam_policy_document.assume_events","attribute":["json"]},{"resource":"aws_ecr_repository.toolchain","attribute":["arn"]},{"resource":"aws_iam_role.batch_job","attribute":["arn"]},{"resource":"aws_iam_role.batch_execution","attribute":["arn"]},{"resource":"aws_iam_role.eventbridge","attribute":["id"]},{"resource":"aws_security_group.endpoints","attribute":["id"]},{"resource":"aws_sfn_state_machine.this","attribute":["arn"]},{"resource":"aws_batch_job_queue.this","attribute":["arn"]},{"resource":"aws_iam_role.sfn","attribute":["arn"]},{"resource":"aws_eip.nat[0]","attribute":["id"]},{"resource":"data.aws_iam_policy_document.assume_ecs_tasks","attribute":["json"]},{"resource":"aws_cloudwatch_event_rule.schedule","attribute":["name"]},{"resource":"aws_internet_gateway.this","attribute":["id"]},{"resource":"aws_ecr_repository.toolchain","attribute":["name"]},{"resource":"aws_kms_key.main","attribute":["arn"]},{"resource":"aws_nat_gateway.this[0]","attribute":["id"]},{"resource":"data.aws_availability_zones.available","attribute":["names"]},{"resource":"aws_sns_topic.notifications","attribute":["arn"]},{"resource":"aws_route_table.private","attribute":["id"]},{"resource":"aws_iam_role.codebuild","attribute":["id"]},{"resource":"data.aws_iam_policy_document.assume_batch","attribute":["json"]},{"resource":"data.aws_iam_policy_document.assume_sfn","attribute":["json"]},{"resource":"aws_vpc.this","attribute":["id"]},{"resource":"data.aws_iam_policy_document.assume_codebuild","attribute":["json"]},{"resource":"aws_iam_role.batch_service","attribute":["name"]},{"resource":"aws_subnet.private","attribute":[]},{"resource":"aws_iam_role.sfn","attribute":["id"]},{"resource":"aws_s3_bucket.artifacts","attribute":["id"]},{"resource":"aws_batch_job_definition.this","attribute":["arn"]},{"resource":"aws_subnet.public","attribute":[]},{"resource":"aws_iam_role.batch_execution","attribute":["name"]},{"resource":"aws_iam_role.eventbridge","attribute":["arn"]},{"resource":"aws_iam_role.batch_job","attribute":["id"]},{"resource":"aws_cloudwatch_log_group.codebuild","attribute":["name"]},{"resource":"aws_security_group.batch","attribute":["id"]}],"checks":[{"address":{"kind":"var","name":"codebuild_source_type","to_display":"var.codebuild_source_type"},"status":"pass","instances":[{"address":{"to_display":"var.codebuild_source_type"},"status":"pass"}]}],"timestamp":"2026-01-27T13:54:50Z","applyable":true,"complete":true,"errored":false}
