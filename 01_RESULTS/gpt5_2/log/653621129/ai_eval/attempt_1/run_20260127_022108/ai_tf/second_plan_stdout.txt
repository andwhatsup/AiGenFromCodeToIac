data.aws_availability_zones.available: Reading...
aws_ecs_cluster.this: Refreshing state... [id=arn:aws:ecs:us-east-1:000000000000:cluster/hello-world]
aws_cloudwatch_log_group.app: Refreshing state... [id=/ecs/hello-world]
module.vpc.aws_vpc.this[0]: Refreshing state... [id=vpc-2d14e17928b71d240]
aws_iam_role.ecs_task_execution: Refreshing state... [id=hello-world-ecs-task-exec]
aws_iam_role.ecs_task: Refreshing state... [id=hello-world-ecs-task]
data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
aws_iam_role_policy_attachment.ecs_task_execution: Refreshing state... [id=hello-world-ecs-task-exec-20260127012134527900000002]
aws_iam_role_policy_attachment.ecs_exec[0]: Refreshing state... [id=hello-world-ecs-task-exec-20260127012134527800000001]
aws_ecs_task_definition.this: Refreshing state... [id=hello-world]
module.vpc.aws_default_security_group.this[0]: Refreshing state... [id=sg-ed0320db44b0c47b5]
aws_security_group.alb: Refreshing state... [id=sg-74e653a6cc332280d]
module.vpc.aws_default_route_table.default[0]: Refreshing state... [id=rtb-fca1b6a5c59a736fe]
aws_lb_target_group.this: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:000000000000:targetgroup/hello-world-tg/905e032d74472eed]
module.vpc.aws_default_network_acl.this[0]: Refreshing state... [id=acl-90ad31815b9cd5925]
module.vpc.aws_route_table.private[0]: Refreshing state... [id=rtb-3845f741302988390]
module.vpc.aws_route_table.private[1]: Refreshing state... [id=rtb-505e98dd4aee40422]
module.vpc.aws_route_table.public[0]: Refreshing state... [id=rtb-c72196a55936a9803]
module.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-b26d47cce9cf8df1d]
module.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-71066f63d74467198]
module.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-d8c11e5859510b246]
module.vpc.aws_internet_gateway.this[0]: Refreshing state... [id=igw-98487ac5817d25be4]
module.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-c946a7294ed490149]
aws_security_group.ecs_tasks: Refreshing state... [id=sg-3c0b1e0b351484b19]
module.vpc.aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-ae91e200d95d212a6]
module.vpc.aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-3376cba4307728730]
aws_lb.this: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:000000000000:loadbalancer/app/hello-world-alb/12362db961727047]
module.vpc.aws_route_table_association.private[0]: Refreshing state... [id=rtbassoc-bea83cf853c6f2add]
module.vpc.aws_route_table_association.private[1]: Refreshing state... [id=rtbassoc-a853524979aec8afe]
module.vpc.aws_route.public_internet_gateway[0]: Refreshing state... [id=r-rtb-c72196a55936a98031080289494]
module.vpc.aws_eip.nat[0]: Refreshing state... [id=eipalloc-f68d6d423be76c7dd]
module.vpc.aws_eip.nat[1]: Refreshing state... [id=eipalloc-ebe7a3e29697ebc9d]
module.vpc.aws_nat_gateway.this[0]: Refreshing state... [id=nat-efa9813d0d3325e89]
module.vpc.aws_nat_gateway.this[1]: Refreshing state... [id=nat-f28e996612ada248e]
module.vpc.aws_route.private_nat_gateway[0]: Refreshing state... [id=r-rtb-3845f7413029883901080289494]
module.vpc.aws_route.private_nat_gateway[1]: Refreshing state... [id=r-rtb-505e98dd4aee404221080289494]
aws_lb_listener.http: Refreshing state... [id=arn:aws:elasticloadbalancing:us-east-1:000000000000:listener/app/hello-world-alb/12362db961727047/9944b8172d3c8dfe]
aws_ecs_service.this: Refreshing state... [id=arn:aws:ecs:us-east-1:000000000000:service/hello-world/hello-world]
aws_appautoscaling_target.ecs: Refreshing state... [id=service/hello-world/hello-world]
aws_appautoscaling_policy.cpu: Refreshing state... [id=hello-world-cpu-target]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  ~ update in-place
-/+ destroy and then create replacement

Terraform will perform the following actions:

  # aws_ecs_service.this will be updated in-place
  ~ resource "aws_ecs_service" "this" {
      + availability_zone_rebalancing      = "DISABLED"
        id                                 = "arn:aws:ecs:us-east-1:000000000000:service/hello-world/hello-world"
        name                               = "hello-world"
        tags                               = {}
      ~ task_definition                    = "arn:aws:ecs:us-east-1:000000000000:task-definition/hello-world:1" -> (known after apply)
        # (14 unchanged attributes hidden)

        # (4 unchanged blocks hidden)
    }

  # aws_ecs_task_definition.this must be replaced
-/+ resource "aws_ecs_task_definition" "this" {
      ~ arn                      = "arn:aws:ecs:us-east-1:000000000000:task-definition/hello-world:1" -> (known after apply)
      ~ arn_without_revision     = "arn:aws:ecs:us-east-1:000000000000:task-definition/hello-world" -> (known after apply)
      ~ container_definitions    = jsonencode(
          ~ [
              ~ {
                  - environment      = []
                  - mountPoints      = []
                    name             = "app"
                  ~ portMappings     = [
                      ~ {
                          - hostPort      = 20770
                            # (2 unchanged attributes hidden)
                        },
                    ]
                  - volumesFrom      = []
                    # (4 unchanged attributes hidden)
                },
            ] # forces replacement
        )
      ~ enable_fault_injection   = false -> (known after apply)
      ~ id                       = "hello-world" -> (known after apply)
      ~ revision                 = 1 -> (known after apply)
      - tags                     = {} -> null
        # (12 unchanged attributes hidden)
    }

  # aws_lb_listener.http will be updated in-place
  ~ resource "aws_lb_listener" "http" {
        id                                                                  = "arn:aws:elasticloadbalancing:us-east-1:000000000000:listener/app/hello-world-alb/12362db961727047/9944b8172d3c8dfe"
      ~ port                                                                = 4566 -> 80
        tags                                                                = {}
        # (16 unchanged attributes hidden)

        # (1 unchanged block hidden)
    }

Plan: 1 to add, 2 to change, 1 to destroy.
