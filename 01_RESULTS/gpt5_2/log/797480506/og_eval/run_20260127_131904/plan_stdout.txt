data.aws_region.main: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_text: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_protective_equipment: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition: Reading...
data.aws_caller_identity.main: Reading...
data.aws_canonical_user_id.main: Reading...
data.aws_iam_policy_document.assume_role_pipes_pipe_s3_object_created_image: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_labels: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_moderation_labels: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_faces: Reading...
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_text: Read complete after 0s [id=4022981484]
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition: Read complete after 0s [id=4022981484]
data.aws_region.main: Read complete after 0s [id=us-east-1]
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_labels: Read complete after 0s [id=4022981484]
data.aws_iam_policy_document.assume_role_pipes_pipe_s3_object_created_image: Read complete after 0s [id=1269366293]
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_faces: Read complete after 0s [id=4022981484]
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_protective_equipment: Read complete after 0s [id=4022981484]
data.aws_iam_policy_document.assume_role_sfn_state_machine_rekognition_detect_moderation_labels: Read complete after 0s [id=4022981484]
data.aws_caller_identity.main: Read complete after 0s [id=000000000000]
data.aws_canonical_user_id.main: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create
 <= read (data resources)

Terraform will perform the following actions:

  # data.aws_iam_policy_document.pipes_pipe_s3_object_created_image will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "pipes_pipe_s3_object_created_image" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "sqs:DeleteMessage",
              + "sqs:GetQueueAttributes",
              + "sqs:ReceiveMessage",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
    }

  # data.aws_iam_policy_document.sfn_state_machine_rekognition will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sfn_state_machine_rekognition" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:PutObject",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
              + (known after apply),
              + (known after apply),
              + (known after apply),
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "states:StartExecution",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
              + (known after apply),
              + (known after apply),
              + (known after apply),
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "states:DescribeExecution",
              + "states:StopExecution",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:states:us-east-1:000000000000:execution:rekognition-detect-faces:*",
              + "arn:aws:states:us-east-1:000000000000:execution:rekognition-detect-labels:*",
              + "arn:aws:states:us-east-1:000000000000:execution:rekognition-detect-moderation-labels:*",
              + "arn:aws:states:us-east-1:000000000000:execution:rekognition-detect-protective-equipment:*",
              + "arn:aws:states:us-east-1:000000000000:execution:rekognition-detect-text:*",
            ]
        }
      + statement {
          + actions   = [
              + "events:DescribeRule",
              + "events:PutRule",
              + "events:PutTargets",
            ]
          + effect    = "Allow"
          + resources = [
              + "arn:aws:events:us-east-1:000000000000:rule/StepFunctionsGetEventsForStepFunctionsExecutionRule",
            ]
        }
    }

  # data.aws_iam_policy_document.sfn_state_machine_rekognition_detect_faces will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sfn_state_machine_rekognition_detect_faces" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:GetObject",
              + "s3:GetObjectAttributes",
              + "s3:GetObjectVersion",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "s3:GetBucketVersioning",
              + "s3:ListBucket",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "rekognition:DetectFaces",
            ]
          + effect    = "Allow"
          + resources = [
              + "*",
            ]
        }
    }

  # data.aws_iam_policy_document.sfn_state_machine_rekognition_detect_labels will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sfn_state_machine_rekognition_detect_labels" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:GetObject",
              + "s3:GetObjectAttributes",
              + "s3:GetObjectVersion",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "s3:GetBucketVersioning",
              + "s3:ListBucket",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "rekognition:DetectLabels",
            ]
          + effect    = "Allow"
          + resources = [
              + "*",
            ]
        }
    }

  # data.aws_iam_policy_document.sfn_state_machine_rekognition_detect_moderation_labels will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sfn_state_machine_rekognition_detect_moderation_labels" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:GetObject",
              + "s3:GetObjectAttributes",
              + "s3:GetObjectVersion",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "s3:GetBucketVersioning",
              + "s3:ListBucket",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "rekognition:DetectModerationLabels",
            ]
          + effect    = "Allow"
          + resources = [
              + "*",
            ]
        }
    }

  # data.aws_iam_policy_document.sfn_state_machine_rekognition_detect_protective_equipment will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sfn_state_machine_rekognition_detect_protective_equipment" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:GetObject",
              + "s3:GetObjectAttributes",
              + "s3:GetObjectVersion",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "s3:GetBucketVersioning",
              + "s3:ListBucket",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "rekognition:DetectProtectiveEquipment",
            ]
          + effect    = "Allow"
          + resources = [
              + "*",
            ]
        }
    }

  # data.aws_iam_policy_document.sfn_state_machine_rekognition_detect_text will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sfn_state_machine_rekognition_detect_text" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "s3:GetObject",
              + "s3:GetObjectAttributes",
              + "s3:GetObjectVersion",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "s3:GetBucketVersioning",
              + "s3:ListBucket",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]
        }
      + statement {
          + actions   = [
              + "rekognition:DetectText",
            ]
          + effect    = "Allow"
          + resources = [
              + "*",
            ]
        }
    }

  # data.aws_iam_policy_document.sqs_queue_s3_bucket_notification_created_image will be read during apply
  # (config refers to values not yet known)
 <= data "aws_iam_policy_document" "sqs_queue_s3_bucket_notification_created_image" {
      + id            = (known after apply)
      + json          = (known after apply)
      + minified_json = (known after apply)

      + statement {
          + actions   = [
              + "SQS:SendMessage",
            ]
          + effect    = "Allow"
          + resources = [
              + (known after apply),
            ]

          + condition {
              + test     = "ArnLike"
              + values   = [
                  + (known after apply),
                ]
              + variable = "aws:SourceArn"
            }

          + principals {
              + identifiers = [
                  + "s3.amazonaws.com",
                ]
              + type        = "Service"
            }
        }
    }

  # aws_iam_role.pipes_pipe_s3_object_created_image will be created
  + resource "aws_iam_role" "pipes_pipe_s3_object_created_image" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "pipes.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = (known after apply)
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role.sfn_state_machine_rekognition will be created
  + resource "aws_iam_role" "sfn_state_machine_rekognition" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "states.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = "sfn-state-machine-rekognition"
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role.sfn_state_machine_rekognition_detect_faces will be created
  + resource "aws_iam_role" "sfn_state_machine_rekognition_detect_faces" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "states.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = "sfn-state-machine-rekognition-detect-faces"
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role.sfn_state_machine_rekognition_detect_labels will be created
  + resource "aws_iam_role" "sfn_state_machine_rekognition_detect_labels" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "states.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = "sfn-state-machine-rekognition-detect-labels"
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role.sfn_state_machine_rekognition_detect_moderation_labels will be created
  + resource "aws_iam_role" "sfn_state_machine_rekognition_detect_moderation_labels" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "states.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = "sfn-state-machine-rekognition-detect-moderation-labels"
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role.sfn_state_machine_rekognition_detect_protective_equipment will be created
  + resource "aws_iam_role" "sfn_state_machine_rekognition_detect_protective_equipment" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "states.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = "sfn-state-machine-rekognition-detect-protective-equipment"
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role.sfn_state_machine_rekognition_detect_text will be created
  + resource "aws_iam_role" "sfn_state_machine_rekognition_detect_text" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "states.amazonaws.com"
                        }
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + managed_policy_arns   = (known after apply)
      + max_session_duration  = 3600
      + name                  = "sfn-state-machine-rekognition-detect-text"
      + name_prefix           = (known after apply)
      + path                  = (known after apply)
      + tags                  = (known after apply)
      + tags_all              = (known after apply)
      + unique_id             = (known after apply)

      + inline_policy (known after apply)
    }

  # aws_iam_role_policy.pipes_pipe_s3_object_created_image will be created
  + resource "aws_iam_role_policy" "pipes_pipe_s3_object_created_image" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_iam_role_policy.sfn_state_machine_rekognition will be created
  + resource "aws_iam_role_policy" "sfn_state_machine_rekognition" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_iam_role_policy.sfn_state_machine_rekognition_detect_faces will be created
  + resource "aws_iam_role_policy" "sfn_state_machine_rekognition_detect_faces" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_iam_role_policy.sfn_state_machine_rekognition_detect_labels will be created
  + resource "aws_iam_role_policy" "sfn_state_machine_rekognition_detect_labels" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_iam_role_policy.sfn_state_machine_rekognition_detect_moderation_labels will be created
  + resource "aws_iam_role_policy" "sfn_state_machine_rekognition_detect_moderation_labels" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_iam_role_policy.sfn_state_machine_rekognition_detect_protective_equipment will be created
  + resource "aws_iam_role_policy" "sfn_state_machine_rekognition_detect_protective_equipment" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_iam_role_policy.sfn_state_machine_rekognition_detect_text will be created
  + resource "aws_iam_role_policy" "sfn_state_machine_rekognition_detect_text" {
      + id          = (known after apply)
      + name        = (known after apply)
      + name_prefix = (known after apply)
      + policy      = (known after apply)
      + role        = (known after apply)
    }

  # aws_pipes_pipe.sfn_state_machine_rekognition will be created
  + resource "aws_pipes_pipe" "sfn_state_machine_rekognition" {
      + arn           = (known after apply)
      + description   = "Managed by Terraform"
      + desired_state = "RUNNING"
      + id            = (known after apply)
      + name          = "rekognition"
      + name_prefix   = (known after apply)
      + region        = "us-east-1"
      + role_arn      = (known after apply)
      + source        = (known after apply)
      + tags_all      = (known after apply)
      + target        = (known after apply)

      + source_parameters (known after apply)

      + target_parameters {
          + step_function_state_machine_parameters {
              + invocation_type = "FIRE_AND_FORGET"
            }
        }
    }

  # aws_s3_bucket.main will be created
  + resource "aws_s3_bucket" "main" {
      + acceleration_status         = (known after apply)
      + acl                         = (known after apply)
      + arn                         = (known after apply)
      + bucket                      = (known after apply)
      + bucket_domain_name          = (known after apply)
      + bucket_prefix               = (known after apply)
      + bucket_region               = (known after apply)
      + bucket_regional_domain_name = (known after apply)
      + force_destroy               = true
      + hosted_zone_id              = (known after apply)
      + id                          = (known after apply)
      + object_lock_enabled         = (known after apply)
      + policy                      = (known after apply)
      + region                      = "us-east-1"
      + request_payer               = (known after apply)
      + tags                        = (known after apply)
      + tags_all                    = (known after apply)
      + website_domain              = (known after apply)
      + website_endpoint            = (known after apply)

      + cors_rule (known after apply)

      + grant (known after apply)

      + lifecycle_rule (known after apply)

      + logging (known after apply)

      + object_lock_configuration (known after apply)

      + replication_configuration (known after apply)

      + server_side_encryption_configuration (known after apply)

      + versioning (known after apply)

      + website (known after apply)
    }

  # aws_s3_bucket_acl.main will be created
  + resource "aws_s3_bucket_acl" "main" {
      + acl    = "private"
      + bucket = (known after apply)
      + id     = (known after apply)
      + region = "us-east-1"

      + access_control_policy (known after apply)
    }

  # aws_s3_bucket_intelligent_tiering_configuration.images will be created
  + resource "aws_s3_bucket_intelligent_tiering_configuration" "images" {
      + bucket = (known after apply)
      + id     = (known after apply)
      + name   = "images"
      + region = "us-east-1"
      + status = "Enabled"

      + filter {
          + prefix = "images/"
        }

      + tiering {
          + access_tier = "ARCHIVE_ACCESS"
          + days        = 180
        }
    }

  # aws_s3_bucket_intelligent_tiering_configuration.logs will be created
  + resource "aws_s3_bucket_intelligent_tiering_configuration" "logs" {
      + bucket = (known after apply)
      + id     = (known after apply)
      + name   = "logs"
      + region = "us-east-1"
      + status = "Enabled"

      + filter {
          + prefix = "logs/"
        }

      + tiering {
          + access_tier = "ARCHIVE_ACCESS"
          + days        = 180
        }
    }

  # aws_s3_bucket_logging.main will be created
  + resource "aws_s3_bucket_logging" "main" {
      + bucket                = (known after apply)
      + expected_bucket_owner = "000000000000"
      + id                    = (known after apply)
      + region                = "us-east-1"
      + target_bucket         = (known after apply)
      + target_prefix         = "logs/"

      + target_object_key_format {
          + partitioned_prefix {
              + partition_date_source = "EventTime"
            }
        }
    }

  # aws_s3_bucket_metric.images will be created
  + resource "aws_s3_bucket_metric" "images" {
      + bucket = (known after apply)
      + id     = (known after apply)
      + name   = "images"
      + region = "us-east-1"

      + filter {
          + prefix = "images/"
        }
    }

  # aws_s3_bucket_metric.logs will be created
  + resource "aws_s3_bucket_metric" "logs" {
      + bucket = (known after apply)
      + id     = (known after apply)
      + name   = "logs"
      + region = "us-east-1"

      + filter {
          + prefix = "logs/"
        }
    }

  # aws_s3_bucket_notification.main will be created
  + resource "aws_s3_bucket_notification" "main" {
      + bucket      = (known after apply)
      + eventbridge = false
      + id          = (known after apply)
      + region      = "us-east-1"

      + queue {
          + events        = [
              + "s3:ObjectCreated:*",
            ]
          + filter_prefix = "images/"
          + id            = (known after apply)
          + queue_arn     = (known after apply)
        }
    }

  # aws_s3_bucket_ownership_controls.main will be created
  + resource "aws_s3_bucket_ownership_controls" "main" {
      + bucket = (known after apply)
      + id     = (known after apply)
      + region = "us-east-1"

      + rule {
          + object_ownership = "BucketOwnerPreferred"
        }
    }

  # aws_s3_bucket_public_access_block.main will be created
  + resource "aws_s3_bucket_public_access_block" "main" {
      + block_public_acls       = false
      + block_public_policy     = true
      + bucket                  = (known after apply)
      + id                      = (known after apply)
      + ignore_public_acls      = true
      + region                  = "us-east-1"
      + restrict_public_buckets = true
    }

  # aws_s3_bucket_versioning.main will be created
  + resource "aws_s3_bucket_versioning" "main" {
      + bucket                = (known after apply)
      + expected_bucket_owner = "000000000000"
      + id                    = (known after apply)
      + region                = "us-east-1"

      + versioning_configuration {
          + mfa_delete = (known after apply)
          + status     = "Disabled"
        }
    }

  # aws_s3_object.images will be created
  + resource "aws_s3_object" "images" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "images/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.logs will be created
  + resource "aws_s3_object" "logs" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "logs/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.rekognition will be created
  + resource "aws_s3_object" "rekognition" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "rekognition/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.rekognition_detect_faces will be created
  + resource "aws_s3_object" "rekognition_detect_faces" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "rekognition/detect_faces/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.rekognition_detect_labels will be created
  + resource "aws_s3_object" "rekognition_detect_labels" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "rekognition/detect_labels/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.rekognition_detect_moderation_labels will be created
  + resource "aws_s3_object" "rekognition_detect_moderation_labels" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "rekognition/detect_moderation_labels/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.rekognition_detect_protective_equipment will be created
  + resource "aws_s3_object" "rekognition_detect_protective_equipment" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "rekognition/detect_protective_equipment/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_s3_object.rekognition_detect_text will be created
  + resource "aws_s3_object" "rekognition_detect_text" {
      + acl                    = "private"
      + arn                    = (known after apply)
      + bucket                 = (known after apply)
      + bucket_key_enabled     = (known after apply)
      + checksum_crc32         = (known after apply)
      + checksum_crc32c        = (known after apply)
      + checksum_crc64nvme     = (known after apply)
      + checksum_sha1          = (known after apply)
      + checksum_sha256        = (known after apply)
      + content_language       = "en-US"
      + content_type           = "application/x-directory"
      + etag                   = (known after apply)
      + force_destroy          = true
      + id                     = (known after apply)
      + key                    = "rekognition/detect_text/"
      + kms_key_id             = (known after apply)
      + region                 = "us-east-1"
      + server_side_encryption = (known after apply)
      + storage_class          = (known after apply)
      + tags_all               = (known after apply)
      + version_id             = (known after apply)
    }

  # aws_sfn_state_machine.rekognition will be created
  + resource "aws_sfn_state_machine" "rekognition" {
      + arn                       = (known after apply)
      + creation_date             = (known after apply)
      + definition                = (known after apply)
      + description               = (known after apply)
      + id                        = (known after apply)
      + name                      = "rekognition"
      + name_prefix               = (known after apply)
      + publish                   = false
      + region                    = "us-east-1"
      + revision_id               = (known after apply)
      + role_arn                  = (known after apply)
      + state_machine_version_arn = (known after apply)
      + status                    = (known after apply)
      + tags                      = (known after apply)
      + tags_all                  = (known after apply)
      + type                      = "STANDARD"
      + version_description       = (known after apply)

      + encryption_configuration (known after apply)

      + logging_configuration (known after apply)

      + tracing_configuration (known after apply)
    }

  # aws_sfn_state_machine.rekognition_detect_faces will be created
  + resource "aws_sfn_state_machine" "rekognition_detect_faces" {
      + arn                       = (known after apply)
      + creation_date             = (known after apply)
      + definition                = jsonencode(
            {
              + StartAt = "CheckInvoker"
              + States  = {
                  + CheckInvoker                   = {
                      + Choices = [
                          + {
                              + IsPresent = true
                              + Next      = "InvokerStateMachine"
                              + Variable  = "$.StatePayload"
                            },
                        ]
                      + Default = "Fail"
                      + Type    = "Choice"
                    }
                  + DetectFaces                    = {
                      + Catch      = [
                          + {
                              + ErrorEquals = [
                                  + "States.TaskFailed",
                                ]
                              + Next        = "FailDetectFaces"
                            },
                        ]
                      + Next       = "ParallelCheckOutputDetectFaces"
                      + Parameters = {
                          + "Attributes.$" = "$.Rekognition.DetectFaces.Attributes"
                          + Image          = {
                              + S3Object = {
                                  + "Bucket.$" = "$.S3.Bucket.Name"
                                  + "Name.$"   = "$.S3.Object.Key"
                                }
                            }
                        }
                      + Resource   = "arn:aws:states:::aws-sdk:rekognition:detectFaces"
                      + ResultPath = "$.Output"
                      + Type       = "Task"
                    }
                  + Fail                           = {
                      + Type = "Fail"
                    }
                  + FailDetectFaces                = {
                      + Type = "Fail"
                    }
                  + InvokerStateMachine            = {
                      + InputPath = "$.StatePayload"
                      + Next      = "ParallelCheckInput"
                      + Type      = "Pass"
                    }
                  + ParallelCheckInput             = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckInputRekognition"
                              + States  = {
                                  + CheckInputDetectFaces         = {
                                      + Choices   = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.DetectFaces"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.DetectFaces"
                                                        }
                                                    },
                                                ]
                                              + Next = "ParallelCheckInputDetectFaces"
                                            },
                                        ]
                                      + Default   = "DefaultInputDetectFaces"
                                      + InputPath = "$.Rekognition"
                                      + Type      = "Choice"
                                    }
                                  + CheckInputRekognition         = {
                                      + Choices = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.Rekognition"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.Rekognition"
                                                        }
                                                    },
                                                ]
                                              + Next = "CheckInputDetectFaces"
                                            },
                                        ]
                                      + Default = "DefaultInputRekognition"
                                      + Type    = "Choice"
                                    }
                                  + DefaultInputDetectFaces       = {
                                      + Next       = "ParallelCheckInputDetectFaces"
                                      + Parameters = {
                                          + DetectFaces = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + DefaultInputRekognition       = {
                                      + Next       = "CheckInputDetectFaces"
                                      + Parameters = {
                                          + Rekognition = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckInputDetectFaces = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputAttributes"
                                              + States  = {
                                                  + CheckInputAttributes   = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Attributes"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.Attributes"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "MapInputAttributes"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputAttributes"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputAttributes = {
                                                      + Next       = "MapInputAttributes"
                                                      + Parameters = {
                                                          + Attributes = [
                                                              + "ALL",
                                                            ]
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + MapInputAttributes     = {
                                                      + End           = true
                                                      + ItemProcessor = {
                                                          + ProcessorConfig = {
                                                              + Mode = "INLINE"
                                                            }
                                                          + StartAt         = "CheckValueAttribute"
                                                          + States          = {
                                                              + CheckValueAttribute     = {
                                                                  + Choices = [
                                                                      + {
                                                                          + And  = [
                                                                              + {
                                                                                  + IsString = true
                                                                                  + Variable = "$"
                                                                                },
                                                                              + {
                                                                                  + Or = [
                                                                                      + {
                                                                                          + StringEquals = "AGE_RANGE"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "ALL"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "BEARD"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "DEFAULT"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "EMOTIONS"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "EYEGLASSES"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "EYES_OPEN"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "EYE_DIRECTION"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "FACE_OCCLUDED"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "GENDER"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "MOUTH_OPEN"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "MUSTACHE"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "SMILE"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "SUNGLASSES"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                    ]
                                                                                },
                                                                            ]
                                                                          + Next = "PassValueAttribute"
                                                                        },
                                                                    ]
                                                                  + Default = "FailCheckValueAttribute"
                                                                  + Type    = "Choice"
                                                                }
                                                              + FailCheckValueAttribute = {
                                                                  + Type = "Fail"
                                                                }
                                                              + PassValueAttribute      = {
                                                                  + End  = true
                                                                  + Type = "Pass"
                                                                }
                                                            }
                                                        }
                                                      + ItemsPath     = "$.Attributes"
                                                      + Type          = "Map"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + InputPath      = "$.DetectFaces"
                                      + ResultSelector = {
                                          + DetectFaces = {
                                              + "Attributes.$" = "$[0]"
                                            }
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckInputS3"
                              + States  = {
                                  + CheckInputS3            = {
                                      + Choices = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckInputS3"
                                              + Variable  = "$.S3"
                                            },
                                        ]
                                      + Default = "FailCheckS3Input"
                                      + Type    = "Choice"
                                    }
                                  + FailCheckS3Input        = {
                                      + Type = "Fail"
                                    }
                                  + FailGetObjectAttributes = {
                                      + Type = "Fail"
                                    }
                                  + FailHeadObject          = {
                                      + Type = "Fail"
                                    }
                                  + GetObjectAttributes     = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailGetObjectAttributes"
                                            },
                                        ]
                                      + Next       = "PassGetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$"       = "$.Bucket.Name"
                                          + "Key.$"          = "$.Object.Key"
                                          + ObjectAttributes = [
                                              + "Checksum",
                                              + "ETag",
                                              + "ObjectParts",
                                              + "ObjectSize",
                                              + "StorageClass",
                                            ]
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:getObjectAttributes"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + HeadObject              = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailHeadObject"
                                            },
                                        ]
                                      + Next       = "PassHeadObject"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket.Name"
                                          + "Key.$"    = "$.Object.Key"
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headObject"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + ParallelCheckInputS3    = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputBucket"
                                              + States  = {
                                                  + CheckInputBucket         = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputBucketName"
                                                              + Variable  = "$.Bucket"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputBucket"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckInputBucketName     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Name"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Name"
                                                                    },
                                                                ]
                                                              + Next = "HeadBucket"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputBucketName"
                                                      + InputPath = "$.Bucket"
                                                      + Type      = "Choice"
                                                    }
                                                  + FailCheckInputBucket     = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputBucketName = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailHeadBucket           = {
                                                      + Type = "Fail"
                                                    }
                                                  + HeadBucket               = {
                                                      + Catch      = [
                                                          + {
                                                              + ErrorEquals = [
                                                                  + "States.TaskFailed",
                                                                ]
                                                              + Next        = "FailHeadBucket"
                                                            },
                                                        ]
                                                      + Next       = "PassHeadBucket"
                                                      + Parameters = {
                                                          + "Bucket.$" = "$.Name"
                                                        }
                                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headBucket"
                                                      + ResultPath = "$.Output"
                                                      + Type       = "Task"
                                                    }
                                                  + PassHeadBucket           = {
                                                      + End        = true
                                                      + Parameters = {
                                                          + "AccessPointAlias.$" = "$.Output.AccessPointAlias"
                                                          + "Name.$"             = "$.Name"
                                                          + "Region.$"           = "$.Output.BucketRegion"
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputObject"
                                              + States  = {
                                                  + CheckInputKey        = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Key"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Key"
                                                                    },
                                                                ]
                                                              + Next = "PassInputKey"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputKey"
                                                      + InputPath = "$.Object"
                                                      + Type      = "Choice"
                                                    }
                                                  + CheckInputObject     = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputKey"
                                                              + Variable  = "$.Object"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputObject"
                                                      + Type    = "Choice"
                                                    }
                                                  + FailCheckInputKey    = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputObject = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassInputKey         = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + InputPath      = "$.S3"
                                      + Next           = "HeadObject"
                                      + ResultSelector = {
                                          + "Bucket.$" = "$[0]"
                                          + "Object.$" = "$[1]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                  + PassGetObjectAttributes = {
                                      + End        = true
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassHeadObject          = {
                                      + Next       = "GetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "DetectFaces"
                      + ResultSelector = {
                          + "Rekognition.$" = "$[0]"
                          + "S3.$"          = "$[1]"
                        }
                      + Type           = "Parallel"
                    }
                  + ParallelCheckOutputDetectFaces = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckOutputFaceDetails"
                              + States  = {
                                  + CheckOutputFaceDetails   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "MapOutputFaceDetails"
                                              + Variable  = "$.FaceDetails"
                                            },
                                        ]
                                      + Default   = "DefaultOutputFaceDetails"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputFaceDetails = {
                                      + Next       = "MapOutputFaceDetails"
                                      + Parameters = {
                                          + FaceDetails = []
                                        }
                                      + Type       = "Pass"
                                    }
                                  + MapOutputFaceDetails     = {
                                      + End           = true
                                      + ItemProcessor = {
                                          + ProcessorConfig = {
                                              + Mode = "INLINE"
                                            }
                                          + StartAt         = "CheckOutputFaceDetail"
                                          + States          = {
                                              + CheckOutputFaceDetail = {
                                                  + Branches       = [
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailAgeRange"
                                                          + States  = {
                                                              + CheckOutputFaceDetailAgeRange   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailAgeRange"
                                                                          + Variable  = "$.AgeRange"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailAgeRange"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailAgeRange = {
                                                                  + End        = true
                                                                  + OutputPath = "$.AgeRange"
                                                                  + Parameters = {
                                                                      + AgeRange = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailAgeRange    = {
                                                                  + End       = true
                                                                  + InputPath = "$.AgeRange"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailBeard"
                                                          + States  = {
                                                              + CheckOutputFaceDetailBeard   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailBeard"
                                                                          + Variable  = "$.Beard"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailBeard"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailBeard = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Beard"
                                                                  + Parameters = {
                                                                      + Beard = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailBeard    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Beard"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailBoundingBox"
                                                          + States  = {
                                                              + CheckOutputFaceDetailBoundingBox   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailBoundingBox"
                                                                          + Variable  = "$.BoundingBox"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailBoundingBox"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailBoundingBox = {
                                                                  + End        = true
                                                                  + OutputPath = "$.BoundingBox"
                                                                  + Parameters = {
                                                                      + BoundingBox = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailBoundingBox    = {
                                                                  + End       = true
                                                                  + InputPath = "$.BoundingBox"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "PassOutputFaceDetailConfidence"
                                                          + States  = {
                                                              + PassOutputFaceDetailConfidence = {
                                                                  + End       = true
                                                                  + InputPath = "$.Confidence"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailEmotions"
                                                          + States  = {
                                                              + CheckOutputFaceDetailEmotions   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailEmotions"
                                                                          + Variable  = "$.Emotions"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailEmotions"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailEmotions = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Emotions"
                                                                  + Parameters = {
                                                                      + Emotions = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailEmotions    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Emotions"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailEyeDirection"
                                                          + States  = {
                                                              + CheckOutputFaceDetailEyeDirection   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailEyeDirection"
                                                                          + Variable  = "$.EyeDirection"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailEyeDirection"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailEyeDirection = {
                                                                  + End        = true
                                                                  + OutputPath = "$.EyeDirection"
                                                                  + Parameters = {
                                                                      + EyeDirection = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailEyeDirection    = {
                                                                  + End       = true
                                                                  + InputPath = "$.EyeDirection"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailEyeglasses"
                                                          + States  = {
                                                              + CheckOutputFaceDetailEyeglasses   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailEyeglasses"
                                                                          + Variable  = "$.Eyeglasses"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailEyeglasses"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailEyeglasses = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Eyeglasses"
                                                                  + Parameters = {
                                                                      + Eyeglasses = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailEyeglasses    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Eyeglasses"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailEyesOpen"
                                                          + States  = {
                                                              + CheckOutputFaceDetailEyesOpen   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailEyesOpen"
                                                                          + Variable  = "$.EyesOpen"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailEyesOpen"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailEyesOpen = {
                                                                  + End        = true
                                                                  + OutputPath = "$.EyesOpen"
                                                                  + Parameters = {
                                                                      + EyesOpen = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailEyesOpen    = {
                                                                  + End       = true
                                                                  + InputPath = "$.EyesOpen"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailFaceOccluded"
                                                          + States  = {
                                                              + CheckOutputFaceDetailFaceOccluded   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailFaceOccluded"
                                                                          + Variable  = "$.FaceOccluded"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailFaceOccluded"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailFaceOccluded = {
                                                                  + End        = true
                                                                  + OutputPath = "$.FaceOccluded"
                                                                  + Parameters = {
                                                                      + FaceOccluded = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailFaceOccluded    = {
                                                                  + End       = true
                                                                  + InputPath = "$.FaceOccluded"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailGender"
                                                          + States  = {
                                                              + CheckOutputFaceDetailGender   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailGender"
                                                                          + Variable  = "$.Gender"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailGender"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailGender = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Gender"
                                                                  + Parameters = {
                                                                      + Gender = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailGender    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Gender"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "PassOutputFaceDetailIdParameters"
                                                          + States  = {
                                                              + DefaultOutputFaceDetailId        = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Id"
                                                                  + Parameters = {
                                                                      + "Id.$" = "States.Hash($, 'MD5')"
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailIdParameters = {
                                                                  + Next       = "DefaultOutputFaceDetailId"
                                                                  + Parameters = {
                                                                      + "BoundingBox.$" = "$.BoundingBox"
                                                                      + "Confidence.$"  = "$.Confidence"
                                                                      + "Landmarks.$"   = "$.Landmarks"
                                                                      + "Pose.$"        = "$.Pose"
                                                                      + "Quality.$"     = "$.Quality"
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailLandmarks"
                                                          + States  = {
                                                              + CheckOutputFaceDetailLandmarks   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailLandmarks"
                                                                          + Variable  = "$.Landmarks"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailLandmarks"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailLandmarks = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Landmarks"
                                                                  + Parameters = {
                                                                      + Landmarks = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailLandmarks    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Landmarks"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailMouthOpen"
                                                          + States  = {
                                                              + CheckOutputFaceDetailMouthOpen   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailMouthOpen"
                                                                          + Variable  = "$.MouthOpen"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailMouthOpen"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailMouthOpen = {
                                                                  + End        = true
                                                                  + OutputPath = "$.MouthOpen"
                                                                  + Parameters = {
                                                                      + MouthOpen = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailMouthOpen    = {
                                                                  + End       = true
                                                                  + InputPath = "$.MouthOpen"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailMustache"
                                                          + States  = {
                                                              + CheckOutputFaceDetailMustache   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailMustache"
                                                                          + Variable  = "$.Mustache"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailMustache"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailMustache = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Mustache"
                                                                  + Parameters = {
                                                                      + Mustache = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailMustache    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Mustache"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailPose"
                                                          + States  = {
                                                              + CheckOutputFaceDetailPose   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailPose"
                                                                          + Variable  = "$.Pose"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailPose"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailPose = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Pose"
                                                                  + Parameters = {
                                                                      + Pose = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailPose    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Pose"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailQuality"
                                                          + States  = {
                                                              + CheckOutputFaceDetailQuality   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailQuality"
                                                                          + Variable  = "$.Quality"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailQuality"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailQuality = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Quality"
                                                                  + Parameters = {
                                                                      + Quality = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailQuality    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Quality"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailSmile"
                                                          + States  = {
                                                              + CheckOutputFaceDetailSmile   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailSmile"
                                                                          + Variable  = "$.Smile"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailSmile"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailSmile = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Smile"
                                                                  + Parameters = {
                                                                      + Smile = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailSmile    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Smile"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputFaceDetailSunglasses"
                                                          + States  = {
                                                              + CheckOutputFaceDetailSunglasses   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputFaceDetailSunglasses"
                                                                          + Variable  = "$.Sunglasses"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputFaceDetailSunglasses"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputFaceDetailSunglasses = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Sunglasses"
                                                                  + Parameters = {
                                                                      + Sunglasses = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputFaceDetailSunglasses    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Sunglasses"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                    ]
                                                  + End            = true
                                                  + ResultSelector = {
                                                      + "AgeRange.$"     = "$[0]"
                                                      + "Beard.$"        = "$[1]"
                                                      + "BoundingBox.$"  = "$[2]"
                                                      + "Confidence.$"   = "$[3]"
                                                      + "Emotions.$"     = "$[4]"
                                                      + "EyeDirection.$" = "$[5]"
                                                      + "Eyeglasses.$"   = "$[6]"
                                                      + "EyesOpen.$"     = "$[7]"
                                                      + "FaceOccluded.$" = "$[8]"
                                                      + "Gender.$"       = "$[9]"
                                                      + "Id.$"           = "$[10]"
                                                      + "Landmarks.$"    = "$[11]"
                                                      + "MouthOpen.$"    = "$[12]"
                                                      + "Mustache.$"     = "$[13]"
                                                      + "Pose.$"         = "$[14]"
                                                      + "Quality.$"      = "$[15]"
                                                      + "Smile.$"        = "$[16]"
                                                      + "Sunglasses.$"   = "$[17]"
                                                    }
                                                  + Type           = "Parallel"
                                                }
                                            }
                                        }
                                      + ItemsPath     = "$.FaceDetails"
                                      + Type          = "Map"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputOrientationCorrection"
                              + States  = {
                                  + CheckOutputOrientationCorrection   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOrientationCorrection"
                                              + Variable  = "$.OrientationCorrection"
                                            },
                                        ]
                                      + Default   = "DefaultOutputOrientationCorrection"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputOrientationCorrection = {
                                      + Next       = "PassOrientationCorrection"
                                      + Parameters = {
                                          + OrientationCorrection = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOrientationCorrection          = {
                                      + End       = true
                                      + InputPath = "$.OrientationCorrection"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "StateMachineOutput"
                      + ResultPath     = "$.Output"
                      + ResultSelector = {
                          + "FaceDetails.$"           = "$[0]"
                          + "OrientationCorrection.$" = "$[1]"
                        }
                      + Type           = "Parallel"
                    }
                  + StateMachineOutput             = {
                      + Next       = "Success"
                      + Parameters = {
                          + DetectFaces      = {
                              + "CreatedAt.$"             = "$$.Execution.StartTime"
                              + "FaceDetails.$"           = "$.Output.FaceDetails"
                              + "Id.$"                    = "$.S3.Object.ETag"
                              + "OrientationCorrection.$" = "$.Output.OrientationCorrection"
                            }
                          + Execution        = {
                              + "Id.$"        = "$$.Execution.Id"
                              + "Name.$"      = "$$.Execution.Name"
                              + "StartTime.$" = "$$.Execution.StartTime"
                            }
                          + "S3.$"           = "$.S3"
                          + "StateMachine.$" = "$$.StateMachine"
                        }
                      + Type       = "Pass"
                    }
                  + Success                        = {
                      + Type = "Succeed"
                    }
                }
            }
        )
      + description               = (known after apply)
      + id                        = (known after apply)
      + name                      = "rekognition-detect-faces"
      + name_prefix               = (known after apply)
      + publish                   = false
      + region                    = "us-east-1"
      + revision_id               = (known after apply)
      + role_arn                  = (known after apply)
      + state_machine_version_arn = (known after apply)
      + status                    = (known after apply)
      + tags                      = (known after apply)
      + tags_all                  = (known after apply)
      + type                      = "STANDARD"
      + version_description       = (known after apply)

      + encryption_configuration (known after apply)

      + logging_configuration (known after apply)

      + tracing_configuration (known after apply)
    }

  # aws_sfn_state_machine.rekognition_detect_labels will be created
  + resource "aws_sfn_state_machine" "rekognition_detect_labels" {
      + arn                       = (known after apply)
      + creation_date             = (known after apply)
      + definition                = jsonencode(
            {
              + StartAt = "CheckInvoker"
              + States  = {
                  + CheckInvoker                    = {
                      + Choices = [
                          + {
                              + IsPresent = true
                              + Next      = "InvokerStateMachine"
                              + Variable  = "$.StatePayload"
                            },
                        ]
                      + Default = "Fail"
                      + Type    = "Choice"
                    }
                  + DetectLabels                    = {
                      + Catch      = [
                          + {
                              + ErrorEquals = [
                                  + "States.TaskFailed",
                                ]
                              + Next        = "FailDetectLabels"
                            },
                        ]
                      + Next       = "ParallelCheckOutputDetectLabels"
                      + Parameters = {
                          + "Features.$"  = "$.Rekognition.DetectLabels.Features"
                          + Image         = {
                              + S3Object = {
                                  + "Bucket.$" = "$.S3.Bucket.Name"
                                  + "Name.$"   = "$.S3.Object.Key"
                                }
                            }
                          + "MaxLabels.$" = "$.Rekognition.DetectLabels.MinConfidence"
                          + "Settings.$"  = "$.Rekognition.DetectLabels.Settings"
                        }
                      + Resource   = "arn:aws:states:::aws-sdk:rekognition:detectLabels"
                      + ResultPath = "$.Output"
                      + Type       = "Task"
                    }
                  + Fail                            = {
                      + Type = "Fail"
                    }
                  + FailDetectLabels                = {
                      + Type = "Fail"
                    }
                  + InvokerStateMachine             = {
                      + InputPath = "$.StatePayload"
                      + Next      = "ParallelCheckInput"
                      + Type      = "Pass"
                    }
                  + ParallelCheckInput              = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckInputRekognition"
                              + States  = {
                                  + CheckInputDetectLabels         = {
                                      + Choices   = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.DetectLabels"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.DetectLabels"
                                                        }
                                                    },
                                                ]
                                              + Next = "ParallelCheckInputDetectLabels"
                                            },
                                        ]
                                      + Default   = "DefaultInputDetectLabels"
                                      + InputPath = "$.Rekognition"
                                      + Type      = "Choice"
                                    }
                                  + CheckInputRekognition          = {
                                      + Choices = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.Rekognition"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.Rekognition"
                                                        }
                                                    },
                                                ]
                                              + Next = "CheckInputDetectLabels"
                                            },
                                        ]
                                      + Default = "DefaultInputRekognition"
                                      + Type    = "Choice"
                                    }
                                  + DefaultInputDetectLabels       = {
                                      + Next       = "ParallelCheckInputDetectLabels"
                                      + Parameters = {
                                          + DetectFaces = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + DefaultInputRekognition        = {
                                      + Next       = "CheckInputDetectLabels"
                                      + Parameters = {
                                          + Rekognition = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckInputDetectLabels = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputFeatures"
                                              + States  = {
                                                  + CheckInputFeatures   = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Features"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.Features"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "MapInputFeatures"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputFeatures"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputFeatures = {
                                                      + Next       = "MapInputFeatures"
                                                      + Parameters = {
                                                          + Features = [
                                                              + "GENERAL_LABELS",
                                                              + "IMAGE_PROPERTIES",
                                                            ]
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + MapInputFeatures     = {
                                                      + End           = true
                                                      + ItemProcessor = {
                                                          + ProcessorConfig = {
                                                              + Mode = "INLINE"
                                                            }
                                                          + StartAt         = "CheckValueFeature"
                                                          + States          = {
                                                              + CheckValueFeature     = {
                                                                  + Choices = [
                                                                      + {
                                                                          + And  = [
                                                                              + {
                                                                                  + IsString = true
                                                                                  + Variable = "$"
                                                                                },
                                                                              + {
                                                                                  + Or = [
                                                                                      + {
                                                                                          + StringEquals = "GENERAL_LABELS"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                      + {
                                                                                          + StringEquals = "IMAGE_PROPERTIES"
                                                                                          + Variable     = "$"
                                                                                        },
                                                                                    ]
                                                                                },
                                                                            ]
                                                                          + Next = "PassValueFeature"
                                                                        },
                                                                    ]
                                                                  + Default = "FailCheckValueFeature"
                                                                  + Type    = "Choice"
                                                                }
                                                              + FailCheckValueFeature = {
                                                                  + Type = "Fail"
                                                                }
                                                              + PassValueFeature      = {
                                                                  + End  = true
                                                                  + Type = "Pass"
                                                                }
                                                            }
                                                        }
                                                      + ItemsPath     = "$.Features"
                                                      + Type          = "Map"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputMaxLabels"
                                              + States  = {
                                                  + CheckInputMaxLabels     = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.MaxLabels"
                                                                    },
                                                                  + {
                                                                      + IsNumeric = true
                                                                      + Variable  = "$.MaxLabels"
                                                                    },
                                                                ]
                                                              + Next = "CheckValueMaxLabels"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputMaxLabels"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckValueMaxLabels     = {
                                                      + Choices   = [
                                                          + {
                                                              + Next                     = "PassValueMaxLabels"
                                                              + NumericGreaterThanEquals = 0
                                                              + Variable                 = "$"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckValueMaxLabels"
                                                      + InputPath = "$.MaxLabels"
                                                      + Type      = "Choice"
                                                    }
                                                  + DefaultInputMaxLabels   = {
                                                      + Next       = "CheckValueMaxLabels"
                                                      + Parameters = {
                                                          + MaxLabels = 0
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + FailCheckValueMaxLabels = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassValueMaxLabels      = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputMinConfidence"
                                              + States  = {
                                                  + CheckInputMinConfidence     = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.MinConfidence"
                                                                    },
                                                                  + {
                                                                      + IsNumeric = true
                                                                      + Variable  = "$.MinConfidence"
                                                                    },
                                                                ]
                                                              + Next = "CheckValueMinConfidence"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputMinConfidence"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckValueMinConfidence     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + NumericGreaterThanEquals = 0
                                                                      + Variable                 = "$"
                                                                    },
                                                                  + {
                                                                      + NumericLessThanEquals = 100
                                                                      + Variable              = "$"
                                                                    },
                                                                ]
                                                              + Next = "PassValueMinConfidence"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckValueMinConfidence"
                                                      + InputPath = "$.MinConfidence"
                                                      + Type      = "Choice"
                                                    }
                                                  + DefaultInputMinConfidence   = {
                                                      + Next       = "CheckValueMinConfidence"
                                                      + Parameters = {
                                                          + MinConfidence = 50
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + FailCheckValueMinConfidence = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassValueMinConfidence      = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputSettings"
                                              + States  = {
                                                  + CheckInputSettings         = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Settings"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.Settings"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "ParallelCheckInputSettings"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputSettings"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputSettings       = {
                                                      + Next       = "ParallelCheckInputSettings"
                                                      + Parameters = {
                                                          + Settings = {}
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + ParallelCheckInputSettings = {
                                                      + Branches       = [
                                                          + {
                                                              + StartAt = "CheckInputSettingsGeneralLabels"
                                                              + States  = {
                                                                  + CheckInputSettingsGeneralLabels         = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.GeneralLabels"
                                                                                    },
                                                                                  + {
                                                                                      + Not = {
                                                                                          + IsNull   = true
                                                                                          + Variable = "$.GeneralLabels"
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + Next = "ParallelCheckInputSettingsGeneralLabels"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultInputSettingsGeneralLabels"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultInputSettingsGeneralLabels       = {
                                                                      + Next       = "ParallelCheckInputSettingsGeneralLabels"
                                                                      + Parameters = {
                                                                          + GeneralLabels = {}
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + ParallelCheckInputSettingsGeneralLabels = {
                                                                      + Branches       = [
                                                                          + {
                                                                              + StartAt = "CheckInputSettingsGeneralLabelsLabelCategoryExclusionFilters"
                                                                              + States  = {
                                                                                  + CheckInputSettingsGeneralLabelsLabelCategoryExclusionFilters   = {
                                                                                      + Choices = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Variable  = "$.LabelCategoryExclusionFilters"
                                                                                                    },
                                                                                                  + {
                                                                                                      + Not = {
                                                                                                          + IsNull   = true
                                                                                                          + Variable = "$.LabelCategoryExclusionFilters"
                                                                                                        }
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "MapInputSettingsGeneralLabelsLabelCategoryExclusionFilters"
                                                                                            },
                                                                                        ]
                                                                                      + Default = "DefaultInputSettingsGeneralLabelsLabelCategoryExclusionFilters"
                                                                                      + Type    = "Choice"
                                                                                    }
                                                                                  + DefaultInputSettingsGeneralLabelsLabelCategoryExclusionFilters = {
                                                                                      + Next       = "MapInputSettingsGeneralLabelsLabelCategoryExclusionFilters"
                                                                                      + Parameters = {
                                                                                          + LabelCategoryExclusionFilters = []
                                                                                        }
                                                                                      + Type       = "Pass"
                                                                                    }
                                                                                  + MapInputSettingsGeneralLabelsLabelCategoryExclusionFilters     = {
                                                                                      + End           = true
                                                                                      + ItemProcessor = {
                                                                                          + ProcessorConfig = {
                                                                                              + Mode = "INLINE"
                                                                                            }
                                                                                          + StartAt         = "CheckValueSettingsGeneralLabelsLabelCategoryExclusionFilter"
                                                                                          + States          = {
                                                                                              + CheckValueSettingsGeneralLabelsLabelCategoryExclusionFilter      = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + And  = [
                                                                                                              + {
                                                                                                                  + IsString = true
                                                                                                                  + Variable = "$"
                                                                                                                },
                                                                                                            ]
                                                                                                          + Next = "PassValueSettingsGeneralLabelsLabelCategoryExclusionFilter"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckValueSettingsGeneralLabelsLabelCategoryExclusionFilters"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckValueSettingsGeneralLabelsLabelCategoryExclusionFilters = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassValueSettingsGeneralLabelsLabelCategoryExclusionFilter       = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                      + ItemsPath     = "$.LabelCategoryExclusionFilters"
                                                                                      + Type          = "Map"
                                                                                    }
                                                                                }
                                                                            },
                                                                          + {
                                                                              + StartAt = "CheckInputSettingsGeneralLabelsLabelCategoryInclusionFilters"
                                                                              + States  = {
                                                                                  + CheckInputSettingsGeneralLabelsLabelCategoryInclusionFilters = {
                                                                                      + Choices = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Variable  = "$.LabelCategoryInclusionFilters"
                                                                                                    },
                                                                                                  + {
                                                                                                      + Not = {
                                                                                                          + IsNull   = true
                                                                                                          + Variable = "$.LabelCategoryInclusionFilters"
                                                                                                        }
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "MapInputSettingsGeneralLabelsLabelCategoryInclusionFilters"
                                                                                            },
                                                                                        ]
                                                                                      + Default = "DefaultSettingsGeneralLabelsLabelCategoryInclusionFilters"
                                                                                      + Type    = "Choice"
                                                                                    }
                                                                                  + DefaultSettingsGeneralLabelsLabelCategoryInclusionFilters    = {
                                                                                      + Next       = "MapInputSettingsGeneralLabelsLabelCategoryInclusionFilters"
                                                                                      + Parameters = {
                                                                                          + LabelCategoryInclusionFilters = []
                                                                                        }
                                                                                      + Type       = "Pass"
                                                                                    }
                                                                                  + MapInputSettingsGeneralLabelsLabelCategoryInclusionFilters   = {
                                                                                      + End           = true
                                                                                      + ItemProcessor = {
                                                                                          + ProcessorConfig = {
                                                                                              + Mode = "INLINE"
                                                                                            }
                                                                                          + StartAt         = "CheckValueSettingsGeneralLabelsLabelCategoryInclusionFilter"
                                                                                          + States          = {
                                                                                              + CheckValueSettingsGeneralLabelsLabelCategoryInclusionFilter     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + IsString = true
                                                                                                          + Next     = "PassValueSettingsGeneralLabelsLabelCategoryInclusionFilter"
                                                                                                          + Variable = "$"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckValueSettingsGeneralLabelsLabelCategoryInclusionFilter"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckValueSettingsGeneralLabelsLabelCategoryInclusionFilter = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassValueSettingsGeneralLabelsLabelCategoryInclusionFilter      = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                      + ItemsPath     = "$.LabelCategoryInclusionFilters"
                                                                                      + Type          = "Map"
                                                                                    }
                                                                                }
                                                                            },
                                                                          + {
                                                                              + StartAt = "CheckInputSettingsGeneralLabelsLabelExclusionFilters"
                                                                              + States  = {
                                                                                  + CheckInputSettingsGeneralLabelsLabelExclusionFilters   = {
                                                                                      + Choices = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Variable  = "$.LabelExclusionFilters"
                                                                                                    },
                                                                                                  + {
                                                                                                      + Not = {
                                                                                                          + IsNull   = true
                                                                                                          + Variable = "$.LabelExclusionFilters"
                                                                                                        }
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "MapInputSettingsGeneralLabelsLabelExclusionFilters"
                                                                                            },
                                                                                        ]
                                                                                      + Default = "DefaultInputSettingsGeneralLabelsLabelExclusionFilters"
                                                                                      + Type    = "Choice"
                                                                                    }
                                                                                  + DefaultInputSettingsGeneralLabelsLabelExclusionFilters = {
                                                                                      + Next       = "MapInputSettingsGeneralLabelsLabelExclusionFilters"
                                                                                      + Parameters = {
                                                                                          + LabelExclusionFilters = []
                                                                                        }
                                                                                      + Type       = "Pass"
                                                                                    }
                                                                                  + MapInputSettingsGeneralLabelsLabelExclusionFilters     = {
                                                                                      + End           = true
                                                                                      + ItemProcessor = {
                                                                                          + ProcessorConfig = {
                                                                                              + Mode = "INLINE"
                                                                                            }
                                                                                          + StartAt         = "CheckValueSettingsGeneralLabelsLabelExclusionFilter"
                                                                                          + States          = {
                                                                                              + CheckValueSettingsGeneralLabelsLabelExclusionFilter     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + IsString = true
                                                                                                          + Next     = "PassValueSettingsGeneralLabelsLabelExclusionFilter"
                                                                                                          + Variable = "$"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckValueSettingsGeneralLabelsLabelExclusionFilter"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckValueSettingsGeneralLabelsLabelExclusionFilter = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassValueSettingsGeneralLabelsLabelExclusionFilter      = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                      + ItemsPath     = "$.LabelExclusionFilters"
                                                                                      + Type          = "Map"
                                                                                    }
                                                                                }
                                                                            },
                                                                          + {
                                                                              + StartAt = "CheckInputSettingsGeneralLabelsLabelInclusionFilters"
                                                                              + States  = {
                                                                                  + CheckInputSettingsGeneralLabelsLabelInclusionFilters   = {
                                                                                      + Choices = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Variable  = "$.LabelInclusionFilters"
                                                                                                    },
                                                                                                  + {
                                                                                                      + Not = {
                                                                                                          + IsNull   = true
                                                                                                          + Variable = "$.LabelInclusionFilters"
                                                                                                        }
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "MapInputSettingsGeneralLabelsLabelInclusionFilters"
                                                                                            },
                                                                                        ]
                                                                                      + Default = "DefaultInputSettingsGeneralLabelsLabelInclusionFilters"
                                                                                      + Type    = "Choice"
                                                                                    }
                                                                                  + DefaultInputSettingsGeneralLabelsLabelInclusionFilters = {
                                                                                      + Next       = "MapInputSettingsGeneralLabelsLabelInclusionFilters"
                                                                                      + Parameters = {
                                                                                          + LabelInclusionFilters = []
                                                                                        }
                                                                                      + Type       = "Pass"
                                                                                    }
                                                                                  + MapInputSettingsGeneralLabelsLabelInclusionFilters     = {
                                                                                      + End           = true
                                                                                      + ItemProcessor = {
                                                                                          + ProcessorConfig = {
                                                                                              + Mode = "INLINE"
                                                                                            }
                                                                                          + StartAt         = "CheckValueSettingsGeneralLabelsLabelInclusionFilter"
                                                                                          + States          = {
                                                                                              + CheckValueSettingsGeneralLabelsLabelInclusionFilter     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + IsString = true
                                                                                                          + Next     = "PassValueSettingsGeneralLabelsLabelInclusionFilter"
                                                                                                          + Variable = "$"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckValueSettingsGeneralLabelsLabelInclusionFilter"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckValueSettingsGeneralLabelsLabelInclusionFilter = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassValueSettingsGeneralLabelsLabelInclusionFilter      = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                      + ItemsPath     = "$.LabelInclusionFilters"
                                                                                      + Type          = "Map"
                                                                                    }
                                                                                }
                                                                            },
                                                                        ]
                                                                      + End            = true
                                                                      + InputPath      = "$.GeneralLabels"
                                                                      + ResultSelector = {
                                                                          + "LabelCategoryExclusionFilters.$" = "$[0]"
                                                                          + "LabelCategoryInclusionFilters.$" = "$[1]"
                                                                          + "LabelExclusionFilters.$"         = "$[2]"
                                                                          + "LabelInclusionFilters.$"         = "$[3]"
                                                                        }
                                                                      + Type           = "Parallel"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckInputSettingsImageProperties"
                                                              + States  = {
                                                                  + CheckInputSettingsImageProperties         = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.ImageProperties"
                                                                                    },
                                                                                  + {
                                                                                      + Not = {
                                                                                          + IsNull   = true
                                                                                          + Variable = "$.ImageProperties"
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + Next = "ParallelCheckInputSettingsImageProperties"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultInputSettingsImageProperties"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultInputSettingsImageProperties       = {
                                                                      + Next       = "ParallelCheckInputSettingsImageProperties"
                                                                      + Parameters = {
                                                                          + ImageProperties = {}
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + ParallelCheckInputSettingsImageProperties = {
                                                                      + Branches       = [
                                                                          + {
                                                                              + StartAt = "CheckInputSettingsImagePropertiesMaxDominantColors"
                                                                              + States  = {
                                                                                  + CheckInputSettingsImagePropertiesMaxDominantColors    = {
                                                                                      + Choices = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Variable  = "$.MaxDominantColors"
                                                                                                    },
                                                                                                  + {
                                                                                                      + IsNumeric = true
                                                                                                      + Variable  = "$.MaxDominantColors"
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "CheckValueSettingsImagePropertiesMaxDominantColor"
                                                                                            },
                                                                                        ]
                                                                                      + Default = "DefaultInputSettingsImagePropertiesMaxDominantColors"
                                                                                      + Type    = "Choice"
                                                                                    }
                                                                                  + CheckValueSettingsImagePropertiesMaxDominantColor     = {
                                                                                      + Choices   = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + NumericGreaterThanEquals = 0
                                                                                                      + Variable                 = "$"
                                                                                                    },
                                                                                                  + {
                                                                                                      + NumericLessThanEquals = 100
                                                                                                      + Variable              = "$"
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "PassValueSettingsImagePropertiesMaxDominantColor"
                                                                                            },
                                                                                        ]
                                                                                      + Default   = "FailCheckValueSettingsImagePropertiesMaxDominantColor"
                                                                                      + InputPath = "$.MaxDominantColors"
                                                                                      + Type      = "Choice"
                                                                                    }
                                                                                  + DefaultInputSettingsImagePropertiesMaxDominantColors  = {
                                                                                      + Next       = "CheckValueSettingsImagePropertiesMaxDominantColor"
                                                                                      + Parameters = {
                                                                                          + MaxDominantColors = 20
                                                                                        }
                                                                                      + Type       = "Pass"
                                                                                    }
                                                                                  + FailCheckValueSettingsImagePropertiesMaxDominantColor = {
                                                                                      + Type = "Fail"
                                                                                    }
                                                                                  + PassValueSettingsImagePropertiesMaxDominantColor      = {
                                                                                      + End  = true
                                                                                      + Type = "Pass"
                                                                                    }
                                                                                }
                                                                            },
                                                                        ]
                                                                      + End            = true
                                                                      + InputPath      = "$.ImageProperties"
                                                                      + ResultSelector = {
                                                                          + "MaxDominantColors.$" = "$[0]"
                                                                        }
                                                                      + Type           = "Parallel"
                                                                    }
                                                                }
                                                            },
                                                        ]
                                                      + End            = true
                                                      + InputPath      = "$.Settings"
                                                      + ResultSelector = {
                                                          + "GeneralLabels.$"   = "$[0]"
                                                          + "ImageProperties.$" = "$[1]"
                                                        }
                                                      + Type           = "Parallel"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + InputPath      = "$.DetectFaces"
                                      + ResultSelector = {
                                          + DetectLabels = {
                                              + "Features.$"      = "$[0]"
                                              + "MaxLabels.$"     = "$[1]"
                                              + "MinConfidence.$" = "$[2]"
                                              + "Settings.$"      = "$[3]"
                                            }
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckInputS3"
                              + States  = {
                                  + CheckInputS3            = {
                                      + Choices = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckInputS3"
                                              + Variable  = "$.S3"
                                            },
                                        ]
                                      + Default = "FailCheckS3Input"
                                      + Type    = "Choice"
                                    }
                                  + FailCheckS3Input        = {
                                      + Type = "Fail"
                                    }
                                  + FailGetObjectAttributes = {
                                      + Type = "Fail"
                                    }
                                  + FailHeadObject          = {
                                      + Type = "Fail"
                                    }
                                  + GetObjectAttributes     = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailGetObjectAttributes"
                                            },
                                        ]
                                      + Next       = "PassGetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$"       = "$.Bucket.Name"
                                          + "Key.$"          = "$.Object.Key"
                                          + ObjectAttributes = [
                                              + "Checksum",
                                              + "ETag",
                                              + "ObjectParts",
                                              + "ObjectSize",
                                              + "StorageClass",
                                            ]
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:getObjectAttributes"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + HeadObject              = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailHeadObject"
                                            },
                                        ]
                                      + Next       = "PassHeadObject"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket.Name"
                                          + "Key.$"    = "$.Object.Key"
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headObject"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + ParallelCheckInputS3    = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputBucket"
                                              + States  = {
                                                  + CheckInputBucket         = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputBucketName"
                                                              + Variable  = "$.Bucket"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputBucket"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckInputBucketName     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Name"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Name"
                                                                    },
                                                                ]
                                                              + Next = "HeadBucket"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputBucketName"
                                                      + InputPath = "$.Bucket"
                                                      + Type      = "Choice"
                                                    }
                                                  + FailCheckInputBucket     = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputBucketName = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailHeadBucket           = {
                                                      + Type = "Fail"
                                                    }
                                                  + HeadBucket               = {
                                                      + Catch      = [
                                                          + {
                                                              + ErrorEquals = [
                                                                  + "States.TaskFailed",
                                                                ]
                                                              + Next        = "FailHeadBucket"
                                                            },
                                                        ]
                                                      + Next       = "PassHeadBucket"
                                                      + Parameters = {
                                                          + "Bucket.$" = "$.Name"
                                                        }
                                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headBucket"
                                                      + ResultPath = "$.Output"
                                                      + Type       = "Task"
                                                    }
                                                  + PassHeadBucket           = {
                                                      + End        = true
                                                      + Parameters = {
                                                          + "AccessPointAlias.$" = "$.Output.AccessPointAlias"
                                                          + "Name.$"             = "$.Name"
                                                          + "Region.$"           = "$.Output.BucketRegion"
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputObject"
                                              + States  = {
                                                  + CheckInputKey        = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Key"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Key"
                                                                    },
                                                                ]
                                                              + Next = "PassInputKey"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputKey"
                                                      + InputPath = "$.Object"
                                                      + Type      = "Choice"
                                                    }
                                                  + CheckInputObject     = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputKey"
                                                              + Variable  = "$.Object"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputObject"
                                                      + Type    = "Choice"
                                                    }
                                                  + FailCheckInputKey    = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputObject = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassInputKey         = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + InputPath      = "$.S3"
                                      + Next           = "HeadObject"
                                      + ResultSelector = {
                                          + "Bucket.$" = "$[0]"
                                          + "Object.$" = "$[1]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                  + PassGetObjectAttributes = {
                                      + End        = true
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassHeadObject          = {
                                      + Next       = "GetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "DetectLabels"
                      + ResultSelector = {
                          + "Rekognition.$" = "$[0]"
                          + "S3.$"          = "$[1]"
                        }
                      + Type           = "Parallel"
                    }
                  + ParallelCheckOutputDetectLabels = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckOutputImageProperties"
                              + States  = {
                                  + CheckOutputImageProperties         = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckOutputImageProperties"
                                              + Variable  = "$.ImageProperties"
                                            },
                                        ]
                                      + Default   = "DefaultOutputImageProperties"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputImageProperties       = {
                                      + End        = true
                                      + Parameters = {
                                          + ImageProperties = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckOutputImageProperties = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckOutputImagePropertiesBackground"
                                              + States  = {
                                                  + CheckOutputImagePropertiesBackground    = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "ParallelOutputImagePropertiesBackground"
                                                              + Variable  = "$.Background"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputImagePropertiesBackground"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputImagePropertiesBackground  = {
                                                      + End        = true
                                                      + OutputPath = "$.Background"
                                                      + Parameters = {
                                                          + Background = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + ParallelOutputImagePropertiesBackground = {
                                                      + Branches       = [
                                                          + {
                                                              + StartAt = "CheckOutputImagePropertiesBackgroundDominantColors"
                                                              + States  = {
                                                                  + CheckOutputImagePropertiesBackgroundDominantColors   = {
                                                                      + Choices = [
                                                                          + {
                                                                              + IsPresent = true
                                                                              + Next      = "PassOutputImagePropertiesBackgroundDominantColors"
                                                                              + Variable  = "$.DominantColors"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultOutputImagePropertiesBackgroundDominantColors"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultOutputImagePropertiesBackgroundDominantColors = {
                                                                      + End        = true
                                                                      + OutputPath = "$.DominantColors"
                                                                      + Parameters = {
                                                                          + DominantColors = null
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + PassOutputImagePropertiesBackgroundDominantColors    = {
                                                                      + End       = true
                                                                      + InputPath = "$.DominantColors"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckOutputImagePropertiesBackgroundQuality"
                                                              + States  = {
                                                                  + CheckOutputImagePropertiesBackgroundQuality   = {
                                                                      + Choices = [
                                                                          + {
                                                                              + IsPresent = true
                                                                              + Next      = "PassOutputImagePropertiesBackgroundQuality"
                                                                              + Variable  = "$.Quality"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultOutputImagePropertiesBackgroundQuality"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultOutputImagePropertiesBackgroundQuality = {
                                                                      + End        = true
                                                                      + OutputPath = "$.Quality"
                                                                      + Parameters = {
                                                                          + Quality = null
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + PassOutputImagePropertiesBackgroundQuality    = {
                                                                      + End       = true
                                                                      + InputPath = "$.Quality"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                        ]
                                                      + End            = true
                                                      + InputPath      = "$.Background"
                                                      + ResultSelector = {
                                                          + "DominantColors.$" = "$[0]"
                                                          + "Quality.$"        = "$[1]"
                                                        }
                                                      + Type           = "Parallel"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckOutputImagePropertiesDominantColors"
                                              + States  = {
                                                  + CheckOutputImagePropertiesDominantColors   = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "PassOutputImagePropertiesDominantColors"
                                                              + Variable  = "$.DominantColors"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputImagePropertiesDominantColors"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputImagePropertiesDominantColors = {
                                                      + End        = true
                                                      + OutputPath = "$.DominantColors"
                                                      + Parameters = {
                                                          + DominantColors = []
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + PassOutputImagePropertiesDominantColors    = {
                                                      + End       = true
                                                      + InputPath = "$.DominantColors"
                                                      + Type      = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckOutputImagePropertiesForeground"
                                              + States  = {
                                                  + CheckOutputImagePropertiesForeground         = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "ParallelCheckOutputImagePropertiesForeground"
                                                              + Variable  = "$.Foreground"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputImagePropertiesForeground"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputImagePropertiesForeground       = {
                                                      + End        = true
                                                      + OutputPath = "$.Foreground"
                                                      + Parameters = {
                                                          + Foreground = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + ParallelCheckOutputImagePropertiesForeground = {
                                                      + Branches       = [
                                                          + {
                                                              + StartAt = "CheckOutputImagePropertiesForegroundDominantColors"
                                                              + States  = {
                                                                  + CheckOutputImagePropertiesForegroundDominantColors   = {
                                                                      + Choices = [
                                                                          + {
                                                                              + IsPresent = true
                                                                              + Next      = "PassOutputImagePropertiesForegroundDominantColors"
                                                                              + Variable  = "$.DominatColors"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultOutputImagePropertiesForegroundDominantColors"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultOutputImagePropertiesForegroundDominantColors = {
                                                                      + End        = true
                                                                      + OutputPath = "$.DominantColors"
                                                                      + Parameters = {
                                                                          + DominantColors = null
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + PassOutputImagePropertiesForegroundDominantColors    = {
                                                                      + End       = true
                                                                      + InputPath = "$.DominantColors"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckOutputImagePropertiesForegroundQuality"
                                                              + States  = {
                                                                  + CheckOutputImagePropertiesForegroundQuality        = {
                                                                      + Choices = [
                                                                          + {
                                                                              + IsPresent = true
                                                                              + Next      = "PassCheckOutputImagePropertiesForegroundQuality"
                                                                              + Variable  = "$.Quality"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultCheckOutputImagePropertiesForegroundQuality"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultCheckOutputImagePropertiesForegroundQuality = {
                                                                      + End        = true
                                                                      + OutputPath = "$.Quality"
                                                                      + Parameters = {
                                                                          + Quality = null
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + PassCheckOutputImagePropertiesForegroundQuality    = {
                                                                      + End       = true
                                                                      + InputPath = "$.Quality"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                        ]
                                                      + End            = true
                                                      + InputPath      = "$.Foreground"
                                                      + ResultSelector = {
                                                          + "DominantColors.$" = "$[0]"
                                                          + "Quality.$"        = "$[1]"
                                                        }
                                                      + Type           = "Parallel"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckOutputImagePropertiesQuality"
                                              + States  = {
                                                  + CheckOutputImagePropertiesQuality   = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "PassOutputImagePropertiesQuality"
                                                              + Variable  = "$.Quality"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputImagePropertiesQuality"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputImagePropertiesQuality = {
                                                      + End        = true
                                                      + OutputPath = "$.Quality"
                                                      + Parameters = {
                                                          + Quality = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + PassOutputImagePropertiesQuality    = {
                                                      + End       = true
                                                      + InputPath = "$.Quality"
                                                      + Type      = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + InputPath      = "$.ImageProperties"
                                      + ResultSelector = {
                                          + "Background.$"     = "$[0]"
                                          + "DominantColors.$" = "$[1]"
                                          + "Foreground.$"     = "$[2]"
                                          + "Quality.$"        = "$[3]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputLabelModelVersion"
                              + States  = {
                                  + CheckOutputLabelModelVersion   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputLabelModelVersion"
                                              + Variable  = "$.LabelModelVersion"
                                            },
                                        ]
                                      + Default   = "DefaultOutputLabelModelVersion"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputLabelModelVersion = {
                                      + End        = true
                                      + OutputPath = "$.LabelModelVersion"
                                      + Parameters = {
                                          + LabelModelVersion = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputLabelModelVersion    = {
                                      + End       = true
                                      + InputPath = "$.LabelModelVersion"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputLabels"
                              + States  = {
                                  + CheckOutputLabels   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "MapOutputLabels"
                                              + Variable  = "$.Labels"
                                            },
                                        ]
                                      + Default   = "DefaultOutputLabels"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputLabels = {
                                      + End        = true
                                      + OutputPath = "$.Labels"
                                      + Parameters = {
                                          + Labels = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + MapOutputLabels     = {
                                      + End           = true
                                      + ItemProcessor = {
                                          + ProcessorConfig = {
                                              + Mode = "INLINE"
                                            }
                                          + StartAt         = "ParallelCheckOutputLabel"
                                          + States          = {
                                              + ParallelCheckOutputLabel = {
                                                  + Branches       = [
                                                      + {
                                                          + StartAt = "CheckOutputLabelAliases"
                                                          + States  = {
                                                              + CheckOutputLabelAliases   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputLabelAliases"
                                                                          + Variable  = "$.Aliases"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputLabelAliases"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputLabelAliases = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Aliases"
                                                                  + Parameters = {
                                                                      + Aliases = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputLabelAliases    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Aliases"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputLabelCategories"
                                                          + States  = {
                                                              + CheckOutputLabelCategories   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputLabelCategories"
                                                                          + Variable  = "$.Categories"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputLabelCategories"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputLabelCategories = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Categories"
                                                                  + Parameters = {
                                                                      + Categories = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputLabelCategories    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Categories"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputLabelConfidence"
                                                          + States  = {
                                                              + CheckOutputLabelConfidence   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputLabelConfidence"
                                                                          + Variable  = "$.Confidence"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputLabelConfidence"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputLabelConfidence = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Confidence"
                                                                  + Parameters = {
                                                                      + Confidence = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputLabelConfidence    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Confidence"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputLabelInstances"
                                                          + States  = {
                                                              + CheckOutputLabelInstances   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "MapOutputLabelInstances"
                                                                          + Variable  = "$.Instances"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputLabelInstances"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputLabelInstances = {
                                                                  + End        = true
                                                                  + Parameters = {
                                                                      + Instances = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + MapOutputLabelInstances     = {
                                                                  + End           = true
                                                                  + ItemProcessor = {
                                                                      + ProcessorConfig = {
                                                                          + Mode = "INLINE"
                                                                        }
                                                                      + StartAt         = "ParallelCheckOutputLabelInstance"
                                                                      + States          = {
                                                                          + ParallelCheckOutputLabelInstance = {
                                                                              + Branches       = [
                                                                                  + {
                                                                                      + StartAt = "CheckOutputLabelInstanceBoundingBox"
                                                                                      + States  = {
                                                                                          + CheckOutputLabelInstanceBoundingBox   = {
                                                                                              + Choices = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Next      = "PassOutputLabelInstanceBoundingBox"
                                                                                                      + Variable  = "$.BoundingBox"
                                                                                                    },
                                                                                                ]
                                                                                              + Default = "DefaultOutputLabelInstanceBoundingBox"
                                                                                              + Type    = "Choice"
                                                                                            }
                                                                                          + DefaultOutputLabelInstanceBoundingBox = {
                                                                                              + End        = true
                                                                                              + OutputPath = "$.BoundingBox"
                                                                                              + Parameters = {
                                                                                                  + BoundingBox = null
                                                                                                }
                                                                                              + Type       = "Pass"
                                                                                            }
                                                                                          + PassOutputLabelInstanceBoundingBox    = {
                                                                                              + End       = true
                                                                                              + InputPath = "$.BoundingBox"
                                                                                              + Type      = "Pass"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                  + {
                                                                                      + StartAt = "CheckOutputLabelInstanceConfidence"
                                                                                      + States  = {
                                                                                          + CheckOutputLabelInstanceConfidence   = {
                                                                                              + Choices = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Next      = "PassOutputLabelInstanceConfidence"
                                                                                                      + Variable  = "$.Confidence"
                                                                                                    },
                                                                                                ]
                                                                                              + Default = "DefaultOutputLabelInstanceConfidence"
                                                                                              + Type    = "Choice"
                                                                                            }
                                                                                          + DefaultOutputLabelInstanceConfidence = {
                                                                                              + End        = true
                                                                                              + OutputPath = "$.Confidence"
                                                                                              + Parameters = {
                                                                                                  + Confidence = null
                                                                                                }
                                                                                              + Type       = "Pass"
                                                                                            }
                                                                                          + PassOutputLabelInstanceConfidence    = {
                                                                                              + End       = true
                                                                                              + InputPath = "$.Confidence"
                                                                                              + Type      = "Pass"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                  + {
                                                                                      + StartAt = "CheckOutputLabelInstanceDominantColors"
                                                                                      + States  = {
                                                                                          + CheckOutputLabelInstanceDominantColors   = {
                                                                                              + Choices = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Next      = "PassOutputLabelInstanceDominantColors"
                                                                                                      + Variable  = "$.DominantColors"
                                                                                                    },
                                                                                                ]
                                                                                              + Default = "DefaultOutputLabelInstanceDominantColors"
                                                                                              + Type    = "Choice"
                                                                                            }
                                                                                          + DefaultOutputLabelInstanceDominantColors = {
                                                                                              + End        = true
                                                                                              + OutputPath = "$.DominantColors"
                                                                                              + Parameters = {
                                                                                                  + DominantColors = null
                                                                                                }
                                                                                              + Type       = "Pass"
                                                                                            }
                                                                                          + PassOutputLabelInstanceDominantColors    = {
                                                                                              + End       = true
                                                                                              + InputPath = "$.DominantColors"
                                                                                              + Type      = "Pass"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + End            = true
                                                                              + ResultSelector = {
                                                                                  + "BoundingBox.$"    = "$[0]"
                                                                                  + "Confidence.$"     = "$[1]"
                                                                                  + "DominantColors.$" = "$[2]"
                                                                                }
                                                                              + Type           = "Parallel"
                                                                            }
                                                                        }
                                                                    }
                                                                  + ItemsPath     = "$.Instances"
                                                                  + Type          = "Map"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputLabelName"
                                                          + States  = {
                                                              + CheckOutputLabelName   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputLabelName"
                                                                          + Variable  = "$.Name"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputLabelName"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputLabelName = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Name"
                                                                  + Parameters = {
                                                                      + Name = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputLabelName    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Name"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputLabelParents"
                                                          + States  = {
                                                              + CheckOutputLabelParents   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputLabelParents"
                                                                          + Variable  = "$.Parents"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputLabelParents"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputLabelParents = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Parents"
                                                                  + Parameters = {
                                                                      + Parents = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputLabelParents    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Parents"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                    ]
                                                  + End            = true
                                                  + ResultSelector = {
                                                      + "Aliases.$"    = "$[0]"
                                                      + "Categories.$" = "$[1]"
                                                      + "Confidence.$" = "$[2]"
                                                      + "Name.$"       = "$[3]"
                                                      + "Parents.$"    = "$[4]"
                                                    }
                                                  + Type           = "Parallel"
                                                }
                                            }
                                        }
                                      + ItemsPath     = "$.Labels"
                                      + Type          = "Map"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputOrientationCorrection"
                              + States  = {
                                  + CheckOutputOrientationCorrection   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOrientationCorrection"
                                              + Variable  = "$.OrientationCorrection"
                                            },
                                        ]
                                      + Default   = "DefaultOutputOrientationCorrection"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputOrientationCorrection = {
                                      + Next       = "PassOrientationCorrection"
                                      + Parameters = {
                                          + OrientationCorrection = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOrientationCorrection          = {
                                      + End       = true
                                      + InputPath = "$.OrientationCorrection"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "StateMachineOutput"
                      + ResultPath     = "$.Output"
                      + ResultSelector = {
                          + "ImageProperties.$"       = "$[0]"
                          + "LabelModelVersion.$"     = "$[1]"
                          + "Labels.$"                = "$[2]"
                          + "OrientationCorrection.$" = "$[3]"
                        }
                      + Type           = "Parallel"
                    }
                  + StateMachineOutput              = {
                      + Next       = "Success"
                      + Parameters = {
                          + DetectLabels     = {
                              + "CreatedAt.$"             = "$$.Execution.StartTime"
                              + "Id.$"                    = "$.S3.Object.ETag"
                              + "ImageProperties.$"       = "$.Output.ImageProperties"
                              + "LabelModelVersion.$"     = "$.Output.LabelModelVersion"
                              + "Labels.$"                = "$.Output.Labels"
                              + "OrientationCorrection.$" = "$.Output.OrientationCorrection"
                            }
                          + Execution        = {
                              + "Id.$"        = "$$.Execution.Id"
                              + "Name.$"      = "$$.Execution.Name"
                              + "StartTime.$" = "$$.Execution.StartTime"
                            }
                          + "S3.$"           = "$.S3"
                          + "StateMachine.$" = "$$.StateMachine"
                        }
                      + Type       = "Pass"
                    }
                  + Success                         = {
                      + Type = "Succeed"
                    }
                }
            }
        )
      + description               = (known after apply)
      + id                        = (known after apply)
      + name                      = "rekognition-detect-labels"
      + name_prefix               = (known after apply)
      + publish                   = false
      + region                    = "us-east-1"
      + revision_id               = (known after apply)
      + role_arn                  = (known after apply)
      + state_machine_version_arn = (known after apply)
      + status                    = (known after apply)
      + tags                      = (known after apply)
      + tags_all                  = (known after apply)
      + type                      = "STANDARD"
      + version_description       = (known after apply)

      + encryption_configuration (known after apply)

      + logging_configuration (known after apply)

      + tracing_configuration (known after apply)
    }

  # aws_sfn_state_machine.rekognition_detect_moderation_labels will be created
  + resource "aws_sfn_state_machine" "rekognition_detect_moderation_labels" {
      + arn                       = (known after apply)
      + creation_date             = (known after apply)
      + definition                = jsonencode(
            {
              + StartAt = "CheckInvoker"
              + States  = {
                  + CheckInvoker                              = {
                      + Choices = [
                          + {
                              + IsPresent = true
                              + Next      = "InvokerStateMachine"
                              + Variable  = "$.StatePayload"
                            },
                        ]
                      + Default = "Fail"
                      + Type    = "Choice"
                    }
                  + DetectModerationLabels                    = {
                      + Catch      = [
                          + {
                              + ErrorEquals = [
                                  + "States.TaskFailed",
                                ]
                              + Next        = "FailDetectModerationLabels"
                            },
                        ]
                      + Next       = "ParallelCheckOutputDetectModerationLabels"
                      + Parameters = {
                          + Image = {
                              + S3Object = {
                                  + "Bucket.$" = "$.S3.Bucket.Name"
                                  + "Name.$"   = "$.S3.Object.Key"
                                }
                            }
                        }
                      + Resource   = "arn:aws:states:::aws-sdk:rekognition:detectModerationLabels"
                      + ResultPath = "$.Output"
                      + Type       = "Task"
                    }
                  + Fail                                      = {
                      + Type = "Fail"
                    }
                  + FailDetectModerationLabels                = {
                      + Type = "Fail"
                    }
                  + InvokerStateMachine                       = {
                      + InputPath = "$.StatePayload"
                      + Next      = "ParallelCheckInput"
                      + Type      = "Pass"
                    }
                  + ParallelCheckInput                        = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckInputRekognition"
                              + States  = {
                                  + CheckInputDetectModerationLabels         = {
                                      + Choices   = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.DetectModerationLabels"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.DetectModerationLabels"
                                                        }
                                                    },
                                                ]
                                              + Next = "ParallelCheckInputDetectModerationLabels"
                                            },
                                        ]
                                      + Default   = "DefaultInputDetectModerationLabels"
                                      + InputPath = "$.Rekognition"
                                      + Type      = "Choice"
                                    }
                                  + CheckInputRekognition                    = {
                                      + Choices = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.Rekognition"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.Rekognition"
                                                        }
                                                    },
                                                ]
                                              + Next = "CheckInputDetectModerationLabels"
                                            },
                                        ]
                                      + Default = "DefaultInputRekognition"
                                      + Type    = "Choice"
                                    }
                                  + DefaultInputDetectModerationLabels       = {
                                      + Next       = "ParallelCheckInputDetectModerationLabels"
                                      + Parameters = {
                                          + DetectModerationLabels = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + DefaultInputRekognition                  = {
                                      + Next       = "CheckInputDetectModerationLabels"
                                      + Parameters = {
                                          + Rekognition = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckInputDetectModerationLabels = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputHumanLoopConfig"
                                              + States  = {
                                                  + CheckInputHumanLoopConfig    = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.HumanLoopConfig"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.HumanLoopConfig"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "ParallelCheckHumanLoopConfig"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputHumanLoopConfig"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputHumanLoopConfig  = {
                                                      + End        = true
                                                      + Parameters = {
                                                          + HumanLoopConfig = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + ParallelCheckHumanLoopConfig = {
                                                      + Branches       = [
                                                          + {
                                                              + StartAt = "CheckInputHumanLoopConfigDataAttributes"
                                                              + States  = {
                                                                  + CheckInputHumanLoopConfigDataAttributes         = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.DataAttributes"
                                                                                    },
                                                                                  + {
                                                                                      + Not = {
                                                                                          + IsNull   = true
                                                                                          + Variable = "$.DataAttributes"
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + Next = "ParallelCheckInputHumanLoopConfigDataAttributes"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultInputHumanLoopConfigDataAttributes"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultInputHumanLoopConfigDataAttributes       = {
                                                                      + Next       = "ParallelCheckInputHumanLoopConfigDataAttributes"
                                                                      + Parameters = {
                                                                          + DataAttributes = {}
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + ParallelCheckInputHumanLoopConfigDataAttributes = {
                                                                      + Branches       = [
                                                                          + {
                                                                              + StartAt = "CheckInputHumanLoopConfigDataAttributesContentClassifiers"
                                                                              + States  = {
                                                                                  + CheckInputHumanLoopConfigDataAttributesContentClassifiers   = {
                                                                                      + Choices = [
                                                                                          + {
                                                                                              + And  = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Variable  = "$.ContentClassifiers"
                                                                                                    },
                                                                                                  + {
                                                                                                      + Not = {
                                                                                                          + IsNull   = true
                                                                                                          + Variable = "$.ContentClassifiers"
                                                                                                        }
                                                                                                    },
                                                                                                ]
                                                                                              + Next = "MapInputHumanLoopConfigDataAttributesContentClassifiers"
                                                                                            },
                                                                                        ]
                                                                                      + Default = "DefaultInputHumanLoopConfigDataAttributesContentClassifiers"
                                                                                      + Type    = "Choice"
                                                                                    }
                                                                                  + DefaultInputHumanLoopConfigDataAttributesContentClassifiers = {
                                                                                      + Next       = "MapInputHumanLoopConfigDataAttributesContentClassifiers"
                                                                                      + Parameters = {
                                                                                          + ContentClassifiers = []
                                                                                        }
                                                                                      + Type       = "Pass"
                                                                                    }
                                                                                  + MapInputHumanLoopConfigDataAttributesContentClassifiers     = {
                                                                                      + End           = true
                                                                                      + ItemProcessor = {
                                                                                          + ProcessorConfig = {
                                                                                              + Mode = "INLINE"
                                                                                            }
                                                                                          + StartAt         = "CheckValueHumanLoopConfigDataAttributesContentClassifier"
                                                                                          + States          = {
                                                                                              + CheckValueHumanLoopConfigDataAttributesContentClassifier     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + IsString = true
                                                                                                          + Next     = "PassValueHumanLoopConfigDataAttributesContentClassifier"
                                                                                                          + Variable = "$"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckValueHumanLoopConfigDataAttributesContentClassifier"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckValueHumanLoopConfigDataAttributesContentClassifier = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassValueHumanLoopConfigDataAttributesContentClassifier      = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                      + ItemsPath     = "$.ContentClassifiers"
                                                                                      + Type          = "Map"
                                                                                    }
                                                                                }
                                                                            },
                                                                        ]
                                                                      + End            = true
                                                                      + InputPath      = "$.DataAttributes"
                                                                      + ResultSelector = {
                                                                          + "ContentClassifiers.$" = "$[0]"
                                                                        }
                                                                      + Type           = "Parallel"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckInputHumanLoopConfigFlowDefinitionArn"
                                                              + States  = {
                                                                  + CheckInputHumanLoopConfigFlowDefinitionArn     = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.FlowDefinitionArn"
                                                                                    },
                                                                                  + {
                                                                                      + IsString = true
                                                                                      + Variable = "$.FlowDefinitionArn"
                                                                                    },
                                                                                ]
                                                                              + Next = "PassInputHumanLoopConfigFlowDefinitionArn"
                                                                            },
                                                                        ]
                                                                      + Default = "FailCheckInputHumanLoopConfigFlowDefinitionArn"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + FailCheckInputHumanLoopConfigFlowDefinitionArn = {
                                                                      + Type = "Fail"
                                                                    }
                                                                  + PassInputHumanLoopConfigFlowDefinitionArn      = {
                                                                      + End       = true
                                                                      + InputPath = "$.DefinitionArn"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckInputHumanLoopConfigHumanLoopName"
                                                              + States  = {
                                                                  + CheckInputHumanLoopConfigHumanLoopName     = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.HumanLoopName"
                                                                                    },
                                                                                  + {
                                                                                      + IsString = true
                                                                                      + Variable = "$.HumanLoopName"
                                                                                    },
                                                                                ]
                                                                              + Next = "PassInputHumanLoopConfigHumanLoopName"
                                                                            },
                                                                        ]
                                                                      + Default = "FailCheckInputHumanLoopConfigHumanLoopName"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + FailCheckInputHumanLoopConfigHumanLoopName = {
                                                                      + Type = "Fail"
                                                                    }
                                                                  + PassInputHumanLoopConfigHumanLoopName      = {
                                                                      + End       = true
                                                                      + InputPath = "$.HumanLoopName"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                        ]
                                                      + End            = true
                                                      + InputPath      = "$.HumanLoopConfig"
                                                      + ResultSelector = {
                                                          + "DataAttributes.$"    = "$[0]"
                                                          + "FlowDefinitionArn.$" = "$[1]"
                                                          + "HumanLoopName.$"     = "$[2]"
                                                        }
                                                      + Type           = "Parallel"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputMinConfidence"
                                              + States  = {
                                                  + CheckInputMinConfidence     = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.MinConfidence"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.MinConfidence"
                                                                    },
                                                                ]
                                                              + Next = "CheckValueMinConfidence"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputMinConfidence"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckValueMinConfidence     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + NumericGreaterThanEquals = 0
                                                                      + Variable                 = "$"
                                                                    },
                                                                  + {
                                                                      + NumericLessThanEquals = 100
                                                                      + Variable              = "$"
                                                                    },
                                                                ]
                                                              + Next = "PassValueMinConfidence"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckValueMinConfidence"
                                                      + InputPath = "$.MinConfidence"
                                                      + Type      = "Choice"
                                                    }
                                                  + DefaultInputMinConfidence   = {
                                                      + Next       = "CheckValueMinConfidence"
                                                      + Parameters = {
                                                          + MinConfidence = 50
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + FailCheckValueMinConfidence = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassValueMinConfidence      = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputProjectVersion"
                                              + States  = {
                                                  + CheckInputProjectVersion   = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "PassInputProjectVersion"
                                                              + Variable  = "$.ProjectVersion"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputProjectVersion"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputProjectVersion = {
                                                      + Next       = "PassInputProjectVersion"
                                                      + Parameters = {
                                                          + ProjectVersion = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + PassInputProjectVersion    = {
                                                      + End       = true
                                                      + InputPath = "$.ProjectVersion"
                                                      + Type      = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + InputPath      = "$.DetectModerationLabels"
                                      + ResultSelector = {
                                          + DetectModerationLabels = {
                                              + "HumanLoopConfig.$" = "$[0]"
                                              + "MinConfidence.$"   = "$[1]"
                                              + "ProjectVersion.$"  = "$[2]"
                                            }
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckInputS3"
                              + States  = {
                                  + CheckInputS3            = {
                                      + Choices = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckInputS3"
                                              + Variable  = "$.S3"
                                            },
                                        ]
                                      + Default = "FailCheckS3Input"
                                      + Type    = "Choice"
                                    }
                                  + FailCheckS3Input        = {
                                      + Type = "Fail"
                                    }
                                  + FailGetObjectAttributes = {
                                      + Type = "Fail"
                                    }
                                  + FailHeadObject          = {
                                      + Type = "Fail"
                                    }
                                  + GetObjectAttributes     = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailGetObjectAttributes"
                                            },
                                        ]
                                      + Next       = "PassGetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$"       = "$.Bucket.Name"
                                          + "Key.$"          = "$.Object.Key"
                                          + ObjectAttributes = [
                                              + "Checksum",
                                              + "ETag",
                                              + "ObjectParts",
                                              + "ObjectSize",
                                              + "StorageClass",
                                            ]
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:getObjectAttributes"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + HeadObject              = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailHeadObject"
                                            },
                                        ]
                                      + Next       = "PassHeadObject"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket.Name"
                                          + "Key.$"    = "$.Object.Key"
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headObject"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + ParallelCheckInputS3    = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputBucket"
                                              + States  = {
                                                  + CheckInputBucket         = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputBucketName"
                                                              + Variable  = "$.Bucket"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputBucket"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckInputBucketName     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Name"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Name"
                                                                    },
                                                                ]
                                                              + Next = "HeadBucket"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputBucketName"
                                                      + InputPath = "$.Bucket"
                                                      + Type      = "Choice"
                                                    }
                                                  + FailCheckInputBucket     = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputBucketName = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailHeadBucket           = {
                                                      + Type = "Fail"
                                                    }
                                                  + HeadBucket               = {
                                                      + Catch      = [
                                                          + {
                                                              + ErrorEquals = [
                                                                  + "States.TaskFailed",
                                                                ]
                                                              + Next        = "FailHeadBucket"
                                                            },
                                                        ]
                                                      + Next       = "PassHeadBucket"
                                                      + Parameters = {
                                                          + "Bucket.$" = "$.Name"
                                                        }
                                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headBucket"
                                                      + ResultPath = "$.Output"
                                                      + Type       = "Task"
                                                    }
                                                  + PassHeadBucket           = {
                                                      + End        = true
                                                      + Parameters = {
                                                          + "AccessPointAlias.$" = "$.Output.AccessPointAlias"
                                                          + "Name.$"             = "$.Name"
                                                          + "Region.$"           = "$.Output.BucketRegion"
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputObject"
                                              + States  = {
                                                  + CheckInputKey        = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Key"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Key"
                                                                    },
                                                                ]
                                                              + Next = "PassInputKey"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputKey"
                                                      + InputPath = "$.Object"
                                                      + Type      = "Choice"
                                                    }
                                                  + CheckInputObject     = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputKey"
                                                              + Variable  = "$.Object"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputObject"
                                                      + Type    = "Choice"
                                                    }
                                                  + FailCheckInputKey    = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputObject = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassInputKey         = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + InputPath      = "$.S3"
                                      + Next           = "HeadObject"
                                      + ResultSelector = {
                                          + "Bucket.$" = "$[0]"
                                          + "Object.$" = "$[1]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                  + PassGetObjectAttributes = {
                                      + End        = true
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassHeadObject          = {
                                      + Next       = "GetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "DetectModerationLabels"
                      + ResultSelector = {
                          + "Rekognition.$" = "$[0]"
                          + "S3.$"          = "$[1]"
                        }
                      + Type           = "Parallel"
                    }
                  + ParallelCheckOutputDetectModerationLabels = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckOutputContentTypes"
                              + States  = {
                                  + CheckOutputContentTypes   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputContentTypes"
                                              + Variable  = "$.ContentTypes"
                                            },
                                        ]
                                      + Default   = "DefaultOutputContentTypes"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputContentTypes = {
                                      + End        = true
                                      + Parameters = {
                                          + ContentTypes = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputContentTypes    = {
                                      + End  = true
                                      + Type = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputHumanLoopActivationOutput"
                              + States  = {
                                  + CheckOutputHumanLoopActivationOutput   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputHumanLoopActivationOutput"
                                              + Variable  = "$.HumanLoopActivationOutput"
                                            },
                                        ]
                                      + Default   = "DefaultOutputHumanLoopActivationOutput"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputHumanLoopActivationOutput = {
                                      + End        = true
                                      + OutputPath = "$.HumanLoopActivationOutput"
                                      + Parameters = {
                                          + HumanLoopActivationOutput = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputHumanLoopActivationOutput    = {
                                      + End  = true
                                      + Type = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputModerationLabels"
                              + States  = {
                                  + CheckOutputModerationLabels   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputModerationLabels"
                                              + Variable  = "$.ModerationLabels"
                                            },
                                        ]
                                      + Default   = "DefaultOutputModerationLabels"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputModerationLabels = {
                                      + End        = true
                                      + OutputPath = "$.ModerationLabels"
                                      + Parameters = {
                                          + ModerationLabels = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputModerationLabels    = {
                                      + End       = true
                                      + InputPath = "$.ModerationLabels"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputModerationModelVersion"
                              + States  = {
                                  + CheckOutputModerationModelVersion   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputModerationModelVersion"
                                              + Variable  = "$.ModerationModelVersion"
                                            },
                                        ]
                                      + Default   = "DefaultOutputModerationModelVersion"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputModerationModelVersion = {
                                      + End        = true
                                      + OutputPath = "$.ModerationModelVersion"
                                      + Parameters = {
                                          + ModerationModelVersion = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputModerationModelVersion    = {
                                      + End       = true
                                      + InputPath = "$.ModerationModelVersion"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputOrientationCorrection"
                              + States  = {
                                  + CheckOutputOrientationCorrection   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOrientationCorrection"
                                              + Variable  = "$.OrientationCorrection"
                                            },
                                        ]
                                      + Default   = "DefaultOutputOrientationCorrection"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputOrientationCorrection = {
                                      + Next       = "PassOrientationCorrection"
                                      + Parameters = {
                                          + OrientationCorrection = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOrientationCorrection          = {
                                      + End       = true
                                      + InputPath = "$.OrientationCorrection"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputProjectVersion"
                              + States  = {
                                  + CheckOutputProjectVersion   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputProjectVersion"
                                              + Variable  = "$.ProjectVersion"
                                            },
                                        ]
                                      + Default   = "DefaultOutputProjectVersion"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputProjectVersion = {
                                      + End        = true
                                      + OutputPath = "$.ProjectVersion"
                                      + Parameters = {
                                          + ProjectVersion = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputProjectVersion    = {
                                      + End       = true
                                      + InputPath = "$.ProjectVersion"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "StateMachineOutput"
                      + ResultPath     = "$.Output"
                      + ResultSelector = {
                          + "ContentTypes.$"              = "$[0]"
                          + "HumanLoopActivationOutput.$" = "$[1]"
                          + "ModerationLabels.$"          = "$[2]"
                          + "ModerationModelVersion.$"    = "$[3]"
                          + "OrientationCorrection.$"     = "$[4]"
                          + "ProjectVersion.$"            = "$[5]"
                        }
                      + Type           = "Parallel"
                    }
                  + StateMachineOutput                        = {
                      + Next       = "Success"
                      + Parameters = {
                          + DetectModerationLabels = {
                              + "ContentTypes.$"              = "$.Output.ContentTypes"
                              + "CreatedAt.$"                 = "$$.Execution.StartTime"
                              + "HumanLoopActivationOutput.$" = "$.Output.HumanLoopActivationOutput"
                              + "Id.$"                        = "$.S3.Object.ETag"
                              + "ModerationLabels.$"          = "$.Output.ModerationLabels"
                              + "ModerationModelVersion.$"    = "$.Output.ModerationModelVersion"
                              + "OrientationCorrection.$"     = "$.Output.OrientationCorrection"
                              + "ProjectVersion.$"            = "$.Output.ProjectVersion"
                            }
                          + Execution              = {
                              + "Id.$"        = "$$.Execution.Id"
                              + "Name.$"      = "$$.Execution.Name"
                              + "StartTime.$" = "$$.Execution.StartTime"
                            }
                          + "S3.$"                 = "$.S3"
                          + "StateMachine.$"       = "$$.StateMachine"
                        }
                      + Type       = "Pass"
                    }
                  + Success                                   = {
                      + Type = "Succeed"
                    }
                }
            }
        )
      + description               = (known after apply)
      + id                        = (known after apply)
      + name                      = "rekognition-detect-moderation-labels"
      + name_prefix               = (known after apply)
      + publish                   = false
      + region                    = "us-east-1"
      + revision_id               = (known after apply)
      + role_arn                  = (known after apply)
      + state_machine_version_arn = (known after apply)
      + status                    = (known after apply)
      + tags                      = (known after apply)
      + tags_all                  = (known after apply)
      + type                      = "STANDARD"
      + version_description       = (known after apply)

      + encryption_configuration (known after apply)

      + logging_configuration (known after apply)

      + tracing_configuration (known after apply)
    }

  # aws_sfn_state_machine.rekognition_detect_protective_equipment will be created
  + resource "aws_sfn_state_machine" "rekognition_detect_protective_equipment" {
      + arn                       = (known after apply)
      + creation_date             = (known after apply)
      + definition                = jsonencode(
            {
              + StartAt = "CheckInvoker"
              + States  = {
                  + CheckInvoker                                 = {
                      + Choices = [
                          + {
                              + IsPresent = true
                              + Next      = "InvokerStateMachine"
                              + Variable  = "$.StatePayload"
                            },
                        ]
                      + Default = "Fail"
                      + Type    = "Choice"
                    }
                  + DetectProtectiveEquipment                    = {
                      + Catch      = [
                          + {
                              + ErrorEquals = [
                                  + "States.TaskFailed",
                                ]
                              + Next        = "FailDetectProtectiveEquipment"
                            },
                        ]
                      + Next       = "ParallelCheckOutputDetectProtectiveEquipment"
                      + Parameters = {
                          + Image = {
                              + S3Object = {
                                  + "Bucket.$" = "$.S3.Bucket.Name"
                                  + "Name.$"   = "$.S3.Object.Key"
                                }
                            }
                        }
                      + Resource   = "arn:aws:states:::aws-sdk:rekognition:detectProtectiveEquipment"
                      + ResultPath = "$.Output"
                      + Type       = "Task"
                    }
                  + Fail                                         = {
                      + Type = "Fail"
                    }
                  + FailDetectProtectiveEquipment                = {
                      + Type = "Fail"
                    }
                  + InvokerStateMachine                          = {
                      + InputPath = "$.StatePayload"
                      + Next      = "ParallelCheckInput"
                      + Type      = "Pass"
                    }
                  + ParallelCheckInput                           = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckInputRekognition"
                              + States  = {
                                  + CheckInputDetectProtectiveEquipment         = {
                                      + Choices   = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.DetectProtectiveEquipment"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.DetectProtectiveEquipment"
                                                        }
                                                    },
                                                ]
                                              + Next = "ParallelCheckInputDetectProtectiveEquipment"
                                            },
                                        ]
                                      + Default   = "DefaultInputDetectProtectiveEquipment"
                                      + InputPath = "$.Rekognition"
                                      + Type      = "Choice"
                                    }
                                  + CheckInputRekognition                       = {
                                      + Choices = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.Rekognition"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.Rekognition"
                                                        }
                                                    },
                                                ]
                                              + Next = "CheckInputDetectProtectiveEquipment"
                                            },
                                        ]
                                      + Default = "DefaultInputRekognition"
                                      + Type    = "Choice"
                                    }
                                  + DefaultInputDetectProtectiveEquipment       = {
                                      + Next       = "ParallelCheckInputDetectProtectiveEquipment"
                                      + Parameters = {
                                          + DetectProtectiveEquipment = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + DefaultInputRekognition                     = {
                                      + Next       = "CheckInputDetectProtectiveEquipment"
                                      + Parameters = {
                                          + Rekognition = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckInputDetectProtectiveEquipment = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputSummarizationAttributes"
                                              + States  = {
                                                  + CheckInputSummarizationAttributes         = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.SummarizationAttributes"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.SummarizationAttributes"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "ParallelCheckInputSummarizationAttributes"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputSummarizationAttributes"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputSummarizationAttributes       = {
                                                      + Next       = "ParallelCheckInputSummarizationAttributes"
                                                      + Parameters = {
                                                          + SummarizationAttributes = {}
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + ParallelCheckInputSummarizationAttributes = {
                                                      + Branches       = [
                                                          + {
                                                              + StartAt = "CheckInputSummarizationAttributesMinConfidence"
                                                              + States  = {
                                                                  + CheckInputSummarizationAttributesMinConfidence     = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.MinConfidence"
                                                                                    },
                                                                                  + {
                                                                                      + IsNumeric = true
                                                                                      + Variable  = "$.MinConfidence"
                                                                                    },
                                                                                ]
                                                                              + Next = "CheckValueSummarizationAttributesMinConfidence"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultInputSummarizationAttributesMinConfidence"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + CheckValueSummarizationAttributesMinConfidence     = {
                                                                      + Choices   = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + NumericGreaterThanEquals = 0
                                                                                      + Variable                 = "$"
                                                                                    },
                                                                                  + {
                                                                                      + NumericLessThanEquals = 100
                                                                                      + Variable              = "$"
                                                                                    },
                                                                                ]
                                                                              + Next = "PassValueSummarizationAttributesMinConfidence"
                                                                            },
                                                                        ]
                                                                      + Default   = "FailCheckValueSummarizationAttributesMinConfidence"
                                                                      + InputPath = "$.MinConfidence"
                                                                      + Type      = "Choice"
                                                                    }
                                                                  + DefaultInputSummarizationAttributesMinConfidence   = {
                                                                      + Next       = "CheckValueSummarizationAttributesMinConfidence"
                                                                      + Parameters = {
                                                                          + MinConfidence = 50
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + FailCheckValueSummarizationAttributesMinConfidence = {
                                                                      + Type = "Fail"
                                                                    }
                                                                  + PassValueSummarizationAttributesMinConfidence      = {
                                                                      + End  = true
                                                                      + Type = "Pass"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckInputSummarizationAttributesRequiredEquipmentTypes"
                                                              + States  = {
                                                                  + CheckInputSummarizationAttributesRequiredEquipmentTypes   = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.RequiredEquipmentTypes"
                                                                                    },
                                                                                  + {
                                                                                      + Not = {
                                                                                          + IsString = true
                                                                                          + Variable = "$.RequiredEquipmentTypes"
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + Next = "MapInputSummarizationAttributesRequiredEquipmentTypes"
                                                                            },
                                                                        ]
                                                                      + Default = "DefaultInputSummarizationAttributesRequiredEquipmentTypes"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + DefaultInputSummarizationAttributesRequiredEquipmentTypes = {
                                                                      + Next       = "MapInputSummarizationAttributesRequiredEquipmentTypes"
                                                                      + Parameters = {
                                                                          + RequiredEquipmentTypes = []
                                                                        }
                                                                      + Type       = "Pass"
                                                                    }
                                                                  + MapInputSummarizationAttributesRequiredEquipmentTypes     = {
                                                                      + End           = true
                                                                      + ItemProcessor = {
                                                                          + ProcessorConfig = {
                                                                              + Mode = "INLINE"
                                                                            }
                                                                          + StartAt         = "CheckInputSummarizationAttributesRequiredEquipmentType"
                                                                          + States          = {
                                                                              + CheckInputSummarizationAttributesRequiredEquipmentType     = {
                                                                                  + Choices = [
                                                                                      + {
                                                                                          + IsString = true
                                                                                          + Next     = "PassInputSummarizationAttributesRequiredEquipmentType"
                                                                                          + Variable = "$"
                                                                                        },
                                                                                    ]
                                                                                  + Default = "FailCheckInputSummarizationAttributesRequiredEquipmentType"
                                                                                  + Type    = "Choice"
                                                                                }
                                                                              + FailCheckInputSummarizationAttributesRequiredEquipmentType = {
                                                                                  + Type = "Fail"
                                                                                }
                                                                              + PassInputSummarizationAttributesRequiredEquipmentType      = {
                                                                                  + End  = true
                                                                                  + Type = "Pass"
                                                                                }
                                                                            }
                                                                        }
                                                                      + ItemsPath     = "$.RequiredEquipmentTypes"
                                                                      + Type          = "Map"
                                                                    }
                                                                }
                                                            },
                                                        ]
                                                      + End            = true
                                                      + InputPath      = "$.SummarizationAttributes"
                                                      + ResultSelector = {
                                                          + "MinConfidence.$"          = "$[0]"
                                                          + "RequiredEquipmentTypes.$" = "$[1]"
                                                        }
                                                      + Type           = "Parallel"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + InputPath      = "$.DetectProtectiveEquipment"
                                      + ResultSelector = {
                                          + DetectProtectiveEquipment = {
                                              + "SummarizationAttributes.$" = "$[0]"
                                            }
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckInputS3"
                              + States  = {
                                  + CheckInputS3            = {
                                      + Choices = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckInputS3"
                                              + Variable  = "$.S3"
                                            },
                                        ]
                                      + Default = "FailCheckS3Input"
                                      + Type    = "Choice"
                                    }
                                  + FailCheckS3Input        = {
                                      + Type = "Fail"
                                    }
                                  + FailGetObjectAttributes = {
                                      + Type = "Fail"
                                    }
                                  + FailHeadObject          = {
                                      + Type = "Fail"
                                    }
                                  + GetObjectAttributes     = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailGetObjectAttributes"
                                            },
                                        ]
                                      + Next       = "PassGetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$"       = "$.Bucket.Name"
                                          + "Key.$"          = "$.Object.Key"
                                          + ObjectAttributes = [
                                              + "Checksum",
                                              + "ETag",
                                              + "ObjectParts",
                                              + "ObjectSize",
                                              + "StorageClass",
                                            ]
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:getObjectAttributes"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + HeadObject              = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailHeadObject"
                                            },
                                        ]
                                      + Next       = "PassHeadObject"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket.Name"
                                          + "Key.$"    = "$.Object.Key"
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headObject"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + ParallelCheckInputS3    = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputBucket"
                                              + States  = {
                                                  + CheckInputBucket         = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputBucketName"
                                                              + Variable  = "$.Bucket"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputBucket"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckInputBucketName     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Name"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Name"
                                                                    },
                                                                ]
                                                              + Next = "HeadBucket"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputBucketName"
                                                      + InputPath = "$.Bucket"
                                                      + Type      = "Choice"
                                                    }
                                                  + FailCheckInputBucket     = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputBucketName = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailHeadBucket           = {
                                                      + Type = "Fail"
                                                    }
                                                  + HeadBucket               = {
                                                      + Catch      = [
                                                          + {
                                                              + ErrorEquals = [
                                                                  + "States.TaskFailed",
                                                                ]
                                                              + Next        = "FailHeadBucket"
                                                            },
                                                        ]
                                                      + Next       = "PassHeadBucket"
                                                      + Parameters = {
                                                          + "Bucket.$" = "$.Name"
                                                        }
                                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headBucket"
                                                      + ResultPath = "$.Output"
                                                      + Type       = "Task"
                                                    }
                                                  + PassHeadBucket           = {
                                                      + End        = true
                                                      + Parameters = {
                                                          + "AccessPointAlias.$" = "$.Output.AccessPointAlias"
                                                          + "Name.$"             = "$.Name"
                                                          + "Region.$"           = "$.Output.BucketRegion"
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputObject"
                                              + States  = {
                                                  + CheckInputKey        = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Key"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Key"
                                                                    },
                                                                ]
                                                              + Next = "PassInputKey"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputKey"
                                                      + InputPath = "$.Object"
                                                      + Type      = "Choice"
                                                    }
                                                  + CheckInputObject     = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputKey"
                                                              + Variable  = "$.Object"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputObject"
                                                      + Type    = "Choice"
                                                    }
                                                  + FailCheckInputKey    = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputObject = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassInputKey         = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + InputPath      = "$.S3"
                                      + Next           = "HeadObject"
                                      + ResultSelector = {
                                          + "Bucket.$" = "$[0]"
                                          + "Object.$" = "$[1]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                  + PassGetObjectAttributes = {
                                      + End        = true
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassHeadObject          = {
                                      + Next       = "GetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "DetectProtectiveEquipment"
                      + ResultSelector = {
                          + "Rekognition.$" = "$[0]"
                          + "S3.$"          = "$[1]"
                        }
                      + Type           = "Parallel"
                    }
                  + ParallelCheckOutputDetectProtectiveEquipment = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckOutputPersons"
                              + States  = {
                                  + CheckOutputPersons   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "MapOutputPersons"
                                              + Variable  = "$.Persons"
                                            },
                                        ]
                                      + Default   = "DefaultOutputPersons"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputPersons = {
                                      + End        = true
                                      + OutputPath = "$.Persons"
                                      + Parameters = {
                                          + Persons = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + MapOutputPersons     = {
                                      + End           = true
                                      + ItemProcessor = {
                                          + ProcessorConfig = {
                                              + Mode = "INLINE"
                                            }
                                          + StartAt         = "ParallelCheckOutputPerson"
                                          + States          = {
                                              + ParallelCheckOutputPerson = {
                                                  + Branches       = [
                                                      + {
                                                          + StartAt = "CheckOutputPersonBodyParts"
                                                          + States  = {
                                                              + CheckOutputPersonBodyParts   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "MapOutputPersonBodyParts"
                                                                          + Variable  = "$.BodyParts"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputPersonBodyParts"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputPersonBodyParts = {
                                                                  + End        = true
                                                                  + OutputPath = "$.BodyParts"
                                                                  + Parameters = {
                                                                      + BodyParts = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + MapOutputPersonBodyParts     = {
                                                                  + End           = true
                                                                  + ItemProcessor = {
                                                                      + ProcessorConfig = {
                                                                          + Mode = "INLINE"
                                                                        }
                                                                      + StartAt         = "ParallelCheckOutputPersonBodyPart"
                                                                      + States          = {
                                                                          + ParallelCheckOutputPersonBodyPart = {
                                                                              + Branches       = [
                                                                                  + {
                                                                                      + StartAt = "CheckOutputPersonBodyPartConfidence"
                                                                                      + States  = {
                                                                                          + CheckOutputPersonBodyPartConfidence   = {
                                                                                              + Choices = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Next      = "PassOutputPersonBodyPartConfidence"
                                                                                                      + Variable  = "$.Confidence"
                                                                                                    },
                                                                                                ]
                                                                                              + Default = "DefaultOutputPersonBodyPartConfidence"
                                                                                              + Type    = "Choice"
                                                                                            }
                                                                                          + DefaultOutputPersonBodyPartConfidence = {
                                                                                              + End        = true
                                                                                              + OutputPath = "$.Confidence"
                                                                                              + Parameters = {
                                                                                                  + Confidence = null
                                                                                                }
                                                                                              + Type       = "Pass"
                                                                                            }
                                                                                          + PassOutputPersonBodyPartConfidence    = {
                                                                                              + End       = true
                                                                                              + InputPath = "$.Confidence"
                                                                                              + Type      = "Pass"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                  + {
                                                                                      + StartAt = "CheckOutputPersonBodyPartEquipmentDetections"
                                                                                      + States  = {
                                                                                          + CheckOutputPersonBodyPartEquipmentDetections   = {
                                                                                              + Choices = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Next      = "MapOutputPersonBodyPartEquipmentDetections"
                                                                                                      + Variable  = "$.EquipmentDetections"
                                                                                                    },
                                                                                                ]
                                                                                              + Default = "DefaultOutputPersonBodyPartEquipmentDetections"
                                                                                              + Type    = "Choice"
                                                                                            }
                                                                                          + DefaultOutputPersonBodyPartEquipmentDetections = {
                                                                                              + End        = true
                                                                                              + OutputPath = "$.EquipmentDetections"
                                                                                              + Parameters = {
                                                                                                  + EquipmentDetections = null
                                                                                                }
                                                                                              + Type       = "Pass"
                                                                                            }
                                                                                          + MapOutputPersonBodyPartEquipmentDetections     = {
                                                                                              + End           = true
                                                                                              + ItemProcessor = {
                                                                                                  + ProcessorConfig = {
                                                                                                      + Mode = "INLINE"
                                                                                                    }
                                                                                                  + StartAt         = "ParallelCheckOutputPersonBodyPartEquipmentDetection"
                                                                                                  + States          = {
                                                                                                      + ParallelCheckOutputPersonBodyPartEquipmentDetection = {
                                                                                                          + Branches       = [
                                                                                                              + {
                                                                                                                  + StartAt = "CheckOutputPersonBodyPartEquipmentDetectionBoundingBox"
                                                                                                                  + States  = {
                                                                                                                      + CheckOutputPersonBodyPartEquipmentDetectionBoundingBox   = {
                                                                                                                          + Choices = [
                                                                                                                              + {
                                                                                                                                  + IsPresent = true
                                                                                                                                  + Next      = "PassOutputPersonBodyPartEquipmentDetectionBoundingBox"
                                                                                                                                  + Variable  = "$.BoundingBox"
                                                                                                                                },
                                                                                                                            ]
                                                                                                                          + Default = "DefaultOutputPersonBodyPartEquipmentDetectionBoundingBox"
                                                                                                                          + Type    = "Choice"
                                                                                                                        }
                                                                                                                      + DefaultOutputPersonBodyPartEquipmentDetectionBoundingBox = {
                                                                                                                          + End        = true
                                                                                                                          + OutputPath = "$.BoundingBox"
                                                                                                                          + Parameters = {
                                                                                                                              + BoundingBox = null
                                                                                                                            }
                                                                                                                          + Type       = "Pass"
                                                                                                                        }
                                                                                                                      + PassOutputPersonBodyPartEquipmentDetectionBoundingBox    = {
                                                                                                                          + End       = true
                                                                                                                          + InputPath = "$.BoundingBox"
                                                                                                                          + Type      = "Pass"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                              + {
                                                                                                                  + StartAt = "CheckOutputPersonBodyPartEquipmentDetectionConfidence"
                                                                                                                  + States  = {
                                                                                                                      + CheckOutputPersonBodyPartEquipmentDetectionConfidence   = {
                                                                                                                          + Choices = [
                                                                                                                              + {
                                                                                                                                  + IsPresent = true
                                                                                                                                  + Next      = "PassOutputPersonBodyPartEquipmentDetectionConfidence"
                                                                                                                                  + Variable  = "$.Confidence"
                                                                                                                                },
                                                                                                                            ]
                                                                                                                          + Default = "DefaultOutputPersonBodyPartEquipmentDetectionConfidence"
                                                                                                                          + Type    = "Choice"
                                                                                                                        }
                                                                                                                      + DefaultOutputPersonBodyPartEquipmentDetectionConfidence = {
                                                                                                                          + End        = true
                                                                                                                          + OutputPath = "$.Confidence"
                                                                                                                          + Parameters = {
                                                                                                                              + Confidence = null
                                                                                                                            }
                                                                                                                          + Type       = "Pass"
                                                                                                                        }
                                                                                                                      + PassOutputPersonBodyPartEquipmentDetectionConfidence    = {
                                                                                                                          + End       = true
                                                                                                                          + InputPath = "$.Confidence"
                                                                                                                          + Type      = "Pass"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                              + {
                                                                                                                  + StartAt = "CheckOutputPersonBodyPartEquipmentDetectionCoversBodyPart"
                                                                                                                  + States  = {
                                                                                                                      + CheckOutputPersonBodyPartEquipmentDetectionCoversBodyPart   = {
                                                                                                                          + Choices = [
                                                                                                                              + {
                                                                                                                                  + IsPresent = true
                                                                                                                                  + Next      = "PassOutputPersonBodyPartEquipmentDetectionCoversBodyPart"
                                                                                                                                  + Variable  = "$.CoversBodyPart"
                                                                                                                                },
                                                                                                                            ]
                                                                                                                          + Default = "DefaultOutputPersonBodyPartEquipmentDetectionCoversBodyPart"
                                                                                                                          + Type    = "Choice"
                                                                                                                        }
                                                                                                                      + DefaultOutputPersonBodyPartEquipmentDetectionCoversBodyPart = {
                                                                                                                          + End        = true
                                                                                                                          + OutputPath = "$.CoversBodyPart"
                                                                                                                          + Parameters = {
                                                                                                                              + CoversBodyPart = null
                                                                                                                            }
                                                                                                                          + Type       = "Pass"
                                                                                                                        }
                                                                                                                      + PassOutputPersonBodyPartEquipmentDetectionCoversBodyPart    = {
                                                                                                                          + End       = true
                                                                                                                          + InputPath = "$.CoversBodyPart"
                                                                                                                          + Type      = "Pass"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                              + {
                                                                                                                  + StartAt = "CheckOutputPersonBodyPartEquipmentDetectionType"
                                                                                                                  + States  = {
                                                                                                                      + CheckOutputPersonBodyPartEquipmentDetectionType   = {
                                                                                                                          + Choices = [
                                                                                                                              + {
                                                                                                                                  + IsPresent = true
                                                                                                                                  + Next      = "PassOutputPersonBodyPartEquipmentDetectionType"
                                                                                                                                  + Variable  = "$.Type"
                                                                                                                                },
                                                                                                                            ]
                                                                                                                          + Default = "DefaultOutputPersonBodyPartEquipmentDetectionType"
                                                                                                                          + Type    = "Choice"
                                                                                                                        }
                                                                                                                      + DefaultOutputPersonBodyPartEquipmentDetectionType = {
                                                                                                                          + End        = true
                                                                                                                          + OutputPath = "$.Type"
                                                                                                                          + Parameters = {
                                                                                                                              + Type = null
                                                                                                                            }
                                                                                                                          + Type       = "Pass"
                                                                                                                        }
                                                                                                                      + PassOutputPersonBodyPartEquipmentDetectionType    = {
                                                                                                                          + End       = true
                                                                                                                          + InputPath = "$.Type"
                                                                                                                          + Type      = "Pass"
                                                                                                                        }
                                                                                                                    }
                                                                                                                },
                                                                                                            ]
                                                                                                          + End            = true
                                                                                                          + ResultSelector = {
                                                                                                              + "BoundingBox.$"    = "$[0]"
                                                                                                              + "Confidence.$"     = "$[1]"
                                                                                                              + "CoversBodyPart.$" = "$[2]"
                                                                                                              + "Type.$"           = "$[3]"
                                                                                                            }
                                                                                                          + Type           = "Parallel"
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                              + ItemsPath     = "$.EquipmentDetections"
                                                                                              + Type          = "Map"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                  + {
                                                                                      + StartAt = "CheckOutputPersonBodyPartName"
                                                                                      + States  = {
                                                                                          + CheckOutputPersonBodyPartName   = {
                                                                                              + Choices = [
                                                                                                  + {
                                                                                                      + IsPresent = true
                                                                                                      + Next      = "PassOutputPersonBodyPartName"
                                                                                                      + Variable  = "$.Name"
                                                                                                    },
                                                                                                ]
                                                                                              + Default = "DefaultOutputPersonBodyPartName"
                                                                                              + Type    = "Choice"
                                                                                            }
                                                                                          + DefaultOutputPersonBodyPartName = {
                                                                                              + End        = true
                                                                                              + OutputPath = "$.Name"
                                                                                              + Parameters = {
                                                                                                  + Name = null
                                                                                                }
                                                                                              + Type       = "Pass"
                                                                                            }
                                                                                          + PassOutputPersonBodyPartName    = {
                                                                                              + End       = true
                                                                                              + InputPath = "$.Name"
                                                                                              + Type      = "Pass"
                                                                                            }
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + End            = true
                                                                              + ResultSelector = {
                                                                                  + "Confidence.$"          = "$[0]"
                                                                                  + "EquipmentDetections.$" = "$[1]"
                                                                                  + "Name.$"                = "$[2]"
                                                                                }
                                                                              + Type           = "Parallel"
                                                                            }
                                                                        }
                                                                    }
                                                                  + ItemsPath     = "$.BodyParts"
                                                                  + Type          = "Map"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputPersonBoundingBox"
                                                          + States  = {
                                                              + CheckOutputPersonBoundingBox   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputPersonBoundingBox"
                                                                          + Variable  = "$.BoundingBox"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputPersonBoundingBox"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputPersonBoundingBox = {
                                                                  + End        = true
                                                                  + OutputPath = "$.BoundingBox"
                                                                  + Parameters = {
                                                                      + BoundingBox = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputPersonBoundingBox    = {
                                                                  + End       = true
                                                                  + InputPath = "$.BoundingBox"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputPersonConfidence"
                                                          + States  = {
                                                              + CheckOutputPersonConfidence   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputPersonConfidence"
                                                                          + Variable  = "$.Confidence"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputPersonConfidence"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputPersonConfidence = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Confidence"
                                                                  + Parameters = {
                                                                      + Confidence = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputPersonConfidence    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Confidence"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputPersonId"
                                                          + States  = {
                                                              + CheckOutputPersonId   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputPersonId"
                                                                          + Variable  = "$.Id"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputPersonId"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputPersonId = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Id"
                                                                  + Parameters = {
                                                                      + Id = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputPersonId    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Id"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                    ]
                                                  + End            = true
                                                  + ResultSelector = {
                                                      + "BodyParts.$"   = "$[0]"
                                                      + "BoundingBox.$" = "$[1]"
                                                      + "Confidence.$"  = "$[2]"
                                                      + "Id.$"          = "$[3]"
                                                    }
                                                  + Type           = "Parallel"
                                                }
                                            }
                                        }
                                      + ItemsPath     = "$.Persons"
                                      + Type          = "Map"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputOrientationCorrection"
                              + States  = {
                                  + CheckOutputOrientationCorrection   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputOrientationCorrection"
                                              + Variable  = "$.OrientationCorrection"
                                            },
                                        ]
                                      + Default   = "DefaultOutputOrientationCorrection"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputOrientationCorrection = {
                                      + Next       = "PassOutputOrientationCorrection"
                                      + Parameters = {
                                          + OrientationCorrection = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputOrientationCorrection    = {
                                      + End       = true
                                      + InputPath = "$.OrientationCorrection"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputProtectiveEquipmentModelVersion"
                              + States  = {
                                  + CheckOutputProtectiveEquipmentModelVersion   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputProtectiveEquipmentModelVersion"
                                              + Variable  = "$.ProtectiveEquipmentModelVersion"
                                            },
                                        ]
                                      + Default   = "DefaultOutputProtectiveEquipmentModelVersion"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputProtectiveEquipmentModelVersion = {
                                      + End        = true
                                      + OutputPath = "$.ProtectiveEquipmentModelVersion"
                                      + Parameters = {
                                          + ProtectiveEquipmentModelVersion = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputProtectiveEquipmentModelVersion    = {
                                      + End       = true
                                      + InputPath = "$.ProtectiveEquipmentModelVersion"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputSummary"
                              + States  = {
                                  + CheckOutputSummary         = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckOutputSummary"
                                              + Variable  = "$.Summary"
                                            },
                                        ]
                                      + Default   = "DefaultOutputSummary"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputSummary       = {
                                      + End        = true
                                      + OutputPath = "$.Summary"
                                      + Parameters = {
                                          + Summary = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckOutputSummary = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckOutputSummaryPersonsIndeterminate"
                                              + States  = {
                                                  + CheckOutputSummaryPersonsIndeterminate   = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "PassOutputSummaryPersonsIndeterminate"
                                                              + Variable  = "$.PersonsIndeterminate"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputSummaryPersonsIndeterminate"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputSummaryPersonsIndeterminate = {
                                                      + End        = true
                                                      + OutputPath = "$.PersonsIndeterminate"
                                                      + Parameters = {
                                                          + PersonsIndeterminate = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + PassOutputSummaryPersonsIndeterminate    = {
                                                      + End       = true
                                                      + InputPath = "$.PersonsIndeterminate"
                                                      + Type      = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckOutputSummaryPersonsWithoutRequiredEquipment"
                                              + States  = {
                                                  + CheckOutputSummaryPersonsWithoutRequiredEquipment   = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "PassOutputSummaryPersonsWithoutRequiredEquipment"
                                                              + Variable  = "$.PersonsWithoutRequiredEquipment"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputSummaryPersonsWithoutRequiredEquipment"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputSummaryPersonsWithoutRequiredEquipment = {
                                                      + End        = true
                                                      + OutputPath = "$.PersonsWithoutRequiredEquipment"
                                                      + Parameters = {
                                                          + PersonsWithoutRequiredEquipment = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + PassOutputSummaryPersonsWithoutRequiredEquipment    = {
                                                      + End       = true
                                                      + InputPath = "$.PersonsWithoutRequiredEquipment"
                                                      + Type      = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckOutputSummaryPersonsWithRequiredEquipment"
                                              + States  = {
                                                  + CheckOutputSummaryPersonsWithRequiredEquipment   = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "PassOutputSummaryPersonsWithRequiredEquipment"
                                                              + Variable  = "$.PersonsWithRequiredEquipment"
                                                            },
                                                        ]
                                                      + Default = "DefaultOutputSummaryPersonsWithRequiredEquipment"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultOutputSummaryPersonsWithRequiredEquipment = {
                                                      + End        = true
                                                      + OutputPath = "$.PersonsWithRequiredEquipment"
                                                      + Parameters = {
                                                          + PersonsWithRequiredEquipment = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + PassOutputSummaryPersonsWithRequiredEquipment    = {
                                                      + End       = true
                                                      + InputPath = "$.PersonsWithRequiredEquipment"
                                                      + Type      = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + ResultSelector = {
                                          + "PersonsIndeterminate.$"            = "$[0]"
                                          + "PersonsWithRequiredEquipment.$"    = "$[2]"
                                          + "PersonsWithoutRequiredEquipment.$" = "$[1]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                        ]
                      + Next           = "StateMachineOutput"
                      + ResultPath     = "$.Output"
                      + ResultSelector = {
                          + "OrientationCorrection.$"           = "$[1]"
                          + "Persons.$"                         = "$[0]"
                          + "ProtectiveEquipmentModelVersion.$" = "$[2]"
                          + "Summary.$"                         = "$[3]"
                        }
                      + Type           = "Parallel"
                    }
                  + StateMachineOutput                           = {
                      + Next       = "Success"
                      + Parameters = {
                          + DetectProtectiveEquipment = {
                              + "CreatedAt.$"                       = "$$.Execution.StartTime"
                              + "Id.$"                              = "$.S3.Object.ETag"
                              + "OrientationCorrection.$"           = "$.Output.OrientationCorrection"
                              + "Persons.$"                         = "$.Output.Persons"
                              + "ProtectiveEquipmentModelVersion.$" = "$.Output.ProtectiveEquipmentModelVersion"
                              + "Summary.$"                         = "$.Output.Summary"
                            }
                          + Execution                 = {
                              + "Id.$"        = "$$.Execution.Id"
                              + "Name.$"      = "$$.Execution.Name"
                              + "StartTime.$" = "$$.Execution.StartTime"
                            }
                          + "S3.$"                    = "$.S3"
                          + "StateMachine.$"          = "$$.StateMachine"
                        }
                      + Type       = "Pass"
                    }
                  + Success                                      = {
                      + Type = "Succeed"
                    }
                }
            }
        )
      + description               = (known after apply)
      + id                        = (known after apply)
      + name                      = "rekognition-detect-protective-equipment"
      + name_prefix               = (known after apply)
      + publish                   = false
      + region                    = "us-east-1"
      + revision_id               = (known after apply)
      + role_arn                  = (known after apply)
      + state_machine_version_arn = (known after apply)
      + status                    = (known after apply)
      + tags                      = (known after apply)
      + tags_all                  = (known after apply)
      + type                      = "STANDARD"
      + version_description       = (known after apply)

      + encryption_configuration (known after apply)

      + logging_configuration (known after apply)

      + tracing_configuration (known after apply)
    }

  # aws_sfn_state_machine.rekognition_detect_text will be created
  + resource "aws_sfn_state_machine" "rekognition_detect_text" {
      + arn                       = (known after apply)
      + creation_date             = (known after apply)
      + definition                = jsonencode(
            {
              + StartAt = "CheckInvoker"
              + States  = {
                  + CheckInvoker                  = {
                      + Choices = [
                          + {
                              + IsPresent = true
                              + Next      = "InvokerStateMachine"
                              + Variable  = "$.StatePayload"
                            },
                        ]
                      + Default = "Fail"
                      + Type    = "Choice"
                    }
                  + DetectText                    = {
                      + Catch      = [
                          + {
                              + ErrorEquals = [
                                  + "States.TaskFailed",
                                ]
                              + Next        = "FailDetectText"
                            },
                        ]
                      + Next       = "ParallelCheckOutputDetectText"
                      + Parameters = {
                          + Image = {
                              + S3Object = {
                                  + "Bucket.$" = "$.S3.Bucket.Name"
                                  + "Name.$"   = "$.S3.Object.Key"
                                }
                            }
                        }
                      + Resource   = "arn:aws:states:::aws-sdk:rekognition:detectText"
                      + ResultPath = "$.Output"
                      + Type       = "Task"
                    }
                  + Fail                          = {
                      + Type = "Fail"
                    }
                  + FailDetectText                = {
                      + Type = "Fail"
                    }
                  + InvokerStateMachine           = {
                      + InputPath = "$.StatePayload"
                      + Next      = "ParallelCheckInput"
                      + Type      = "Pass"
                    }
                  + ParallelCheckInput            = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckInputRekognition"
                              + States  = {
                                  + CheckInputDetectText         = {
                                      + Choices   = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.DetectText"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.DetectText"
                                                        }
                                                    },
                                                ]
                                              + Next = "ParallelCheckInputDetectText"
                                            },
                                        ]
                                      + Default   = "DefaultInputDetectText"
                                      + InputPath = "$.Rekognition"
                                      + Type      = "Choice"
                                    }
                                  + CheckInputRekognition        = {
                                      + Choices = [
                                          + {
                                              + And  = [
                                                  + {
                                                      + IsPresent = true
                                                      + Variable  = "$.Rekognition"
                                                    },
                                                  + {
                                                      + Not = {
                                                          + IsNull   = true
                                                          + Variable = "$.Rekognition"
                                                        }
                                                    },
                                                ]
                                              + Next = "CheckInputDetectText"
                                            },
                                        ]
                                      + Default = "DefaultInputRekognition"
                                      + Type    = "Choice"
                                    }
                                  + DefaultInputDetectText       = {
                                      + Next       = "ParallelCheckInputDetectText"
                                      + Parameters = {
                                          + DetectText = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + DefaultInputRekognition      = {
                                      + Next       = "CheckInputDetectText"
                                      + Parameters = {
                                          + Rekognition = {}
                                        }
                                      + Type       = "Pass"
                                    }
                                  + ParallelCheckInputDetectText = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputRegionsOfInterest"
                                              + States  = {
                                                  + CheckInputRegionsOfInterest   = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.RegionsOfInterest"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.RegionsOfInterest"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "MapInputRegionsOfInterest"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputRegionsOfInterest"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputRegionsOfInterest = {
                                                      + Next       = "MapInputRegionsOfInterest"
                                                      + Parameters = {
                                                          + RegionsOfInterest = []
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + MapInputRegionsOfInterest     = {
                                                      + End           = true
                                                      + ItemProcessor = {
                                                          + ProcessorConfig = {
                                                              + Mode = "INLINE"
                                                            }
                                                          + StartAt         = "ParallelCheckInputRegionOfInterest"
                                                          + States          = {
                                                              + ParallelCheckInputRegionOfInterest = {
                                                                  + Branches       = [
                                                                      + {
                                                                          + StartAt = "CheckInputRegionOfInterestBoundingBox"
                                                                          + States  = {
                                                                              + CheckInputRegionOfInterestBoundingBox         = {
                                                                                  + Choices = [
                                                                                      + {
                                                                                          + And  = [
                                                                                              + {
                                                                                                  + IsPresent = true
                                                                                                  + Variable  = "$.BoundingBox"
                                                                                                },
                                                                                              + {
                                                                                                  + Not = {
                                                                                                      + IsNull   = true
                                                                                                      + Variable = "$.BoundingBox"
                                                                                                    }
                                                                                                },
                                                                                            ]
                                                                                          + Next = "ParallelCheckInputRegionOfInterestBoundingBox"
                                                                                        },
                                                                                    ]
                                                                                  + Default = "DefaultInputRegionOfInterestBoundingBox"
                                                                                  + Type    = "Choice"
                                                                                }
                                                                              + DefaultInputRegionOfInterestBoundingBox       = {
                                                                                  + End        = true
                                                                                  + OutputPath = "$.BoundingBox"
                                                                                  + Parameters = {
                                                                                      + BoundingBox = null
                                                                                    }
                                                                                  + Type       = "Pass"
                                                                                }
                                                                              + ParallelCheckInputRegionOfInterestBoundingBox = {
                                                                                  + Branches       = [
                                                                                      + {
                                                                                          + StartAt = "CheckInputRegionOfInterestBoundingBoxHeight"
                                                                                          + States  = {
                                                                                              + CheckInputRegionOfInterestBoundingBoxHeight     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + And  = [
                                                                                                              + {
                                                                                                                  + IsPresent = true
                                                                                                                  + Variable  = "$.Height"
                                                                                                                },
                                                                                                              + {
                                                                                                                  + IsNumeric = true
                                                                                                                  + Variable  = "$.Height"
                                                                                                                },
                                                                                                            ]
                                                                                                          + Next = "PassInputRegionOfInterestBoundingBoxHeight"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckInputRegionOfInterestBoundingBoxHeight"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckInputRegionOfInterestBoundingBoxHeight = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassInputRegionOfInterestBoundingBoxHeight      = {
                                                                                                  + End       = true
                                                                                                  + InputPath = "$.Height"
                                                                                                  + Type      = "Pass"
                                                                                                }
                                                                                            }
                                                                                        },
                                                                                      + {
                                                                                          + StartAt = "CheckInputRegionOfInterestBoundingBoxLeft"
                                                                                          + States  = {
                                                                                              + CheckInputRegionOfInterestBoundingBoxLeft     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + And  = [
                                                                                                              + {
                                                                                                                  + IsPresent = true
                                                                                                                  + Variable  = "$.Left"
                                                                                                                },
                                                                                                              + {
                                                                                                                  + IsNumeric = true
                                                                                                                  + Variable  = "$.Left"
                                                                                                                },
                                                                                                            ]
                                                                                                          + Next = "PassInputRegionOfInterestBoundingBoxLeft"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckInputRegionOfInterestBoundingBoxLeft"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckInputRegionOfInterestBoundingBoxLeft = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassInputRegionOfInterestBoundingBoxLeft      = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        },
                                                                                      + {
                                                                                          + StartAt = "CheckInputRegionOfInterestBoundingBoxTop"
                                                                                          + States  = {
                                                                                              + CheckInputRegionOfInterestBoundingBoxTop     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + And  = [
                                                                                                              + {
                                                                                                                  + IsPresent = true
                                                                                                                  + Variable  = "$.Top"
                                                                                                                },
                                                                                                              + {
                                                                                                                  + IsNumeric = true
                                                                                                                  + Variable  = "$.Top"
                                                                                                                },
                                                                                                            ]
                                                                                                          + Next = "PassInputRegionOfInterestBoundingBoxTop"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckInputRegionOfInterestBoundingBoxTop"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckInputRegionOfInterestBoundingBoxTop = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassInputRegionOfInterestBoundingBoxTop      = {
                                                                                                  + End       = true
                                                                                                  + InputPath = "$.Top"
                                                                                                  + Type      = "Pass"
                                                                                                }
                                                                                            }
                                                                                        },
                                                                                      + {
                                                                                          + StartAt = "CheckInputRegionOfInterestBoundingBoxWidth"
                                                                                          + States  = {
                                                                                              + CheckInputRegionOfInterestBoundingBoxWidth     = {
                                                                                                  + Choices = [
                                                                                                      + {
                                                                                                          + And  = [
                                                                                                              + {
                                                                                                                  + IsPresent = true
                                                                                                                  + Variable  = "$.Width"
                                                                                                                },
                                                                                                              + {
                                                                                                                  + IsNumeric = true
                                                                                                                  + Variable  = "$.Width"
                                                                                                                },
                                                                                                            ]
                                                                                                          + Next = "PassInputRegionOfInterestBoundingBoxWidth"
                                                                                                        },
                                                                                                    ]
                                                                                                  + Default = "FailCheckInputRegionOfInterestBoundingBoxWidth"
                                                                                                  + Type    = "Choice"
                                                                                                }
                                                                                              + FailCheckInputRegionOfInterestBoundingBoxWidth = {
                                                                                                  + Type = "Fail"
                                                                                                }
                                                                                              + PassInputRegionOfInterestBoundingBoxWidth      = {
                                                                                                  + End  = true
                                                                                                  + Type = "Pass"
                                                                                                }
                                                                                            }
                                                                                        },
                                                                                    ]
                                                                                  + End            = true
                                                                                  + InputPath      = "$.BoundingBox"
                                                                                  + ResultSelector = {
                                                                                      + "Height.$" = "$[0]"
                                                                                      + "Left.$"   = "$[1]"
                                                                                      + "Top.$"    = "$[2]"
                                                                                      + "Width.$"  = "$[3]"
                                                                                    }
                                                                                  + Type           = "Parallel"
                                                                                }
                                                                            }
                                                                        },
                                                                      + {
                                                                          + StartAt = "CheckInputRegionOfInterestPolygon"
                                                                          + States  = {
                                                                              + CheckInputRegionOfInterestPolygon   = {
                                                                                  + Choices = [
                                                                                      + {
                                                                                          + And  = [
                                                                                              + {
                                                                                                  + IsPresent = true
                                                                                                  + Variable  = "$.Polygon"
                                                                                                },
                                                                                              + {
                                                                                                  + Not = {
                                                                                                      + IsNull   = true
                                                                                                      + Variable = "$.Polygon"
                                                                                                    }
                                                                                                },
                                                                                            ]
                                                                                          + Next = "MapInputRegionOfInterestPolygon"
                                                                                        },
                                                                                    ]
                                                                                  + Default = "DefaultInputRegionOfInterestPolygon"
                                                                                  + Type    = "Choice"
                                                                                }
                                                                              + DefaultInputRegionOfInterestPolygon = {
                                                                                  + Next       = "MapInputRegionOfInterestPolygon"
                                                                                  + Parameters = {
                                                                                      + Polygon = []
                                                                                    }
                                                                                  + Type       = "Pass"
                                                                                }
                                                                              + MapInputRegionOfInterestPolygon     = {
                                                                                  + End           = true
                                                                                  + ItemProcessor = {
                                                                                      + ProcessorConfig = {
                                                                                          + Mode = "INLINE"
                                                                                        }
                                                                                      + StartAt         = "ParallelCheckInputRegionOfInterestPolygon"
                                                                                      + States          = {
                                                                                          + ParallelCheckInputRegionOfInterestPolygon = {
                                                                                              + Branches       = [
                                                                                                  + {
                                                                                                      + StartAt = "CheckInputRegionOfInterestPolygonX"
                                                                                                      + States  = {
                                                                                                          + CheckInputRegionOfInterestPolygonX     = {
                                                                                                              + Choices = [
                                                                                                                  + {
                                                                                                                      + And  = [
                                                                                                                          + {
                                                                                                                              + IsPresent = true
                                                                                                                              + Variable  = "$.X"
                                                                                                                            },
                                                                                                                          + {
                                                                                                                              + IsNumeric = true
                                                                                                                              + Variable  = "$.X"
                                                                                                                            },
                                                                                                                        ]
                                                                                                                      + Next = "PassInputRegionOfInterestPolygonX"
                                                                                                                    },
                                                                                                                ]
                                                                                                              + Default = "FailCheckInputRegionOfInterestPolygonX"
                                                                                                              + Type    = "Choice"
                                                                                                            }
                                                                                                          + FailCheckInputRegionOfInterestPolygonX = {
                                                                                                              + Type = "Fail"
                                                                                                            }
                                                                                                          + PassInputRegionOfInterestPolygonX      = {
                                                                                                              + End       = true
                                                                                                              + InputPath = "$.X"
                                                                                                              + Type      = "Pass"
                                                                                                            }
                                                                                                        }
                                                                                                    },
                                                                                                  + {
                                                                                                      + StartAt = "CheckInputRegionOfInterestPolygonY"
                                                                                                      + States  = {
                                                                                                          + CheckInputRegionOfInterestPolygonY     = {
                                                                                                              + Choices = [
                                                                                                                  + {
                                                                                                                      + And  = [
                                                                                                                          + {
                                                                                                                              + IsPresent = true
                                                                                                                              + Variable  = "$.Y"
                                                                                                                            },
                                                                                                                          + {
                                                                                                                              + IsNumeric = true
                                                                                                                              + Variable  = "$.Y"
                                                                                                                            },
                                                                                                                        ]
                                                                                                                      + Next = "PassInputRegionOfInterestPolygonY"
                                                                                                                    },
                                                                                                                ]
                                                                                                              + Default = "FailCheckInputRegionOfInterestPolygonY"
                                                                                                              + Type    = "Choice"
                                                                                                            }
                                                                                                          + FailCheckInputRegionOfInterestPolygonY = {
                                                                                                              + Type = "Fail"
                                                                                                            }
                                                                                                          + PassInputRegionOfInterestPolygonY      = {
                                                                                                              + End       = true
                                                                                                              + InputPath = "$.Y"
                                                                                                              + Type      = "Pass"
                                                                                                            }
                                                                                                        }
                                                                                                    },
                                                                                                ]
                                                                                              + End            = true
                                                                                              + ResultSelector = {
                                                                                                  + "X.$" = "$[0]"
                                                                                                  + "Y.$" = "$[1]"
                                                                                                }
                                                                                              + Type           = "Parallel"
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                  + ItemsPath     = "$.Polygon"
                                                                                  + Type          = "Map"
                                                                                }
                                                                            }
                                                                        },
                                                                    ]
                                                                  + End            = true
                                                                  + ResultSelector = {
                                                                      + "BoundingBox.$" = "$[0]"
                                                                      + "Polygon.$"     = "$[1]"
                                                                    }
                                                                  + Type           = "Parallel"
                                                                }
                                                            }
                                                        }
                                                      + ItemsPath     = "$.RegionsOfInterest"
                                                      + Type          = "Map"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputWordFilter"
                                              + States  = {
                                                  + CheckInputWordFilter         = {
                                                      + Choices = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.WordFilter"
                                                                    },
                                                                  + {
                                                                      + Not = {
                                                                          + IsNull   = true
                                                                          + Variable = "$.WordFilter"
                                                                        }
                                                                    },
                                                                ]
                                                              + Next = "ParallelCheckInputWordFilter"
                                                            },
                                                        ]
                                                      + Default = "DefaultInputWordFilter"
                                                      + Type    = "Choice"
                                                    }
                                                  + DefaultInputWordFilter       = {
                                                      + End        = true
                                                      + OutputPath = "$.WordFilter"
                                                      + Parameters = {
                                                          + WordFilter = null
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                  + ParallelCheckInputWordFilter = {
                                                      + Branches       = [
                                                          + {
                                                              + StartAt = "CheckInputWordFilterMinBoundingBoxHeight"
                                                              + States  = {
                                                                  + CheckInputWordFilterMinBoundingBoxHeight     = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.MinBoundingBoxHeight"
                                                                                    },
                                                                                  + {
                                                                                      + IsNumeric = true
                                                                                      + Variable  = "$.MinBoundingBoxHeight"
                                                                                    },
                                                                                ]
                                                                              + Next = "PassInputWordFilterMinBoundingBoxHeight"
                                                                            },
                                                                        ]
                                                                      + Default = "FailCheckInputWordFilterMinBoundingBoxHeight"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + FailCheckInputWordFilterMinBoundingBoxHeight = {
                                                                      + Type = "Fail"
                                                                    }
                                                                  + PassInputWordFilterMinBoundingBoxHeight      = {
                                                                      + End       = true
                                                                      + InputPath = "$.MinBoundingBoxHeight"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckInputWordFilterMinBoundingBoxWidth"
                                                              + States  = {
                                                                  + CheckInputWordFilterMinBoundingBoxWidth     = {
                                                                      + Choices = [
                                                                          + {
                                                                              + And  = [
                                                                                  + {
                                                                                      + IsPresent = true
                                                                                      + Variable  = "$.MinBoundingBoxWidth"
                                                                                    },
                                                                                  + {
                                                                                      + Not = {
                                                                                          + IsNull   = true
                                                                                          + Variable = "$.MinBoundingBoxWidth"
                                                                                        }
                                                                                    },
                                                                                ]
                                                                              + Next = "PassInputWordFilterMinBoundingBoxWidth"
                                                                            },
                                                                        ]
                                                                      + Default = "FailCheckInputWordFilterMinBoundingBoxWidth"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + FailCheckInputWordFilterMinBoundingBoxWidth = {
                                                                      + Type = "Fail"
                                                                    }
                                                                  + PassInputWordFilterMinBoundingBoxWidth      = {
                                                                      + End       = true
                                                                      + InputPath = "$.MinBoundingBoxWidth"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                          + {
                                                              + StartAt = "CheckInputWordFilterMinConfidence"
                                                              + States  = {
                                                                  + CheckInputWordFilterMinConfidence     = {
                                                                      + Choices = [
                                                                          + {
                                                                              + IsPresent = true
                                                                              + Next      = "PassInputWordFilterMinConfidence"
                                                                              + Variable  = "$.MinConfidence"
                                                                            },
                                                                        ]
                                                                      + Default = "FailCheckInputWordFilterMinConfidence"
                                                                      + Type    = "Choice"
                                                                    }
                                                                  + FailCheckInputWordFilterMinConfidence = {
                                                                      + Type = "Fail"
                                                                    }
                                                                  + PassInputWordFilterMinConfidence      = {
                                                                      + End       = true
                                                                      + InputPath = "$.MinConfidence"
                                                                      + Type      = "Pass"
                                                                    }
                                                                }
                                                            },
                                                        ]
                                                      + End            = true
                                                      + InputPath      = "$.WordFilter"
                                                      + ResultSelector = {
                                                          + "MinBoundingBoxHeight.$" = "$[0]"
                                                          + "MinBoundingBoxWidth.$"  = "$[1]"
                                                          + "MinConfidence.$"        = "$[2]"
                                                        }
                                                      + Type           = "Parallel"
                                                    }
                                                }
                                            },
                                        ]
                                      + End            = true
                                      + InputPath      = "$.DetectText"
                                      + ResultSelector = {
                                          + DetectText = {
                                              + "RegionsOfInterest.$" = "$[0]"
                                              + "WordFilter.$"        = "$[1]"
                                            }
                                        }
                                      + Type           = "Parallel"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckInputS3"
                              + States  = {
                                  + CheckInputS3            = {
                                      + Choices = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "ParallelCheckInputS3"
                                              + Variable  = "$.S3"
                                            },
                                        ]
                                      + Default = "FailCheckS3Input"
                                      + Type    = "Choice"
                                    }
                                  + FailCheckS3Input        = {
                                      + Type = "Fail"
                                    }
                                  + FailGetObjectAttributes = {
                                      + Type = "Fail"
                                    }
                                  + FailHeadObject          = {
                                      + Type = "Fail"
                                    }
                                  + GetObjectAttributes     = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailGetObjectAttributes"
                                            },
                                        ]
                                      + Next       = "PassGetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$"       = "$.Bucket.Name"
                                          + "Key.$"          = "$.Object.Key"
                                          + ObjectAttributes = [
                                              + "Checksum",
                                              + "ETag",
                                              + "ObjectParts",
                                              + "ObjectSize",
                                              + "StorageClass",
                                            ]
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:getObjectAttributes"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + HeadObject              = {
                                      + Catch      = [
                                          + {
                                              + ErrorEquals = [
                                                  + "States.TaskFailed",
                                                ]
                                              + Next        = "FailHeadObject"
                                            },
                                        ]
                                      + Next       = "PassHeadObject"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket.Name"
                                          + "Key.$"    = "$.Object.Key"
                                        }
                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headObject"
                                      + ResultPath = "$.Output"
                                      + Type       = "Task"
                                    }
                                  + ParallelCheckInputS3    = {
                                      + Branches       = [
                                          + {
                                              + StartAt = "CheckInputBucket"
                                              + States  = {
                                                  + CheckInputBucket         = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputBucketName"
                                                              + Variable  = "$.Bucket"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputBucket"
                                                      + Type    = "Choice"
                                                    }
                                                  + CheckInputBucketName     = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Name"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Name"
                                                                    },
                                                                ]
                                                              + Next = "HeadBucket"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputBucketName"
                                                      + InputPath = "$.Bucket"
                                                      + Type      = "Choice"
                                                    }
                                                  + FailCheckInputBucket     = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputBucketName = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailHeadBucket           = {
                                                      + Type = "Fail"
                                                    }
                                                  + HeadBucket               = {
                                                      + Catch      = [
                                                          + {
                                                              + ErrorEquals = [
                                                                  + "States.TaskFailed",
                                                                ]
                                                              + Next        = "FailHeadBucket"
                                                            },
                                                        ]
                                                      + Next       = "PassHeadBucket"
                                                      + Parameters = {
                                                          + "Bucket.$" = "$.Name"
                                                        }
                                                      + Resource   = "arn:aws:states:::aws-sdk:s3:headBucket"
                                                      + ResultPath = "$.Output"
                                                      + Type       = "Task"
                                                    }
                                                  + PassHeadBucket           = {
                                                      + End        = true
                                                      + Parameters = {
                                                          + "AccessPointAlias.$" = "$.Output.AccessPointAlias"
                                                          + "Name.$"             = "$.Name"
                                                          + "Region.$"           = "$.Output.BucketRegion"
                                                        }
                                                      + Type       = "Pass"
                                                    }
                                                }
                                            },
                                          + {
                                              + StartAt = "CheckInputObject"
                                              + States  = {
                                                  + CheckInputKey        = {
                                                      + Choices   = [
                                                          + {
                                                              + And  = [
                                                                  + {
                                                                      + IsPresent = true
                                                                      + Variable  = "$.Key"
                                                                    },
                                                                  + {
                                                                      + IsString = true
                                                                      + Variable = "$.Key"
                                                                    },
                                                                ]
                                                              + Next = "PassInputKey"
                                                            },
                                                        ]
                                                      + Default   = "FailCheckInputKey"
                                                      + InputPath = "$.Object"
                                                      + Type      = "Choice"
                                                    }
                                                  + CheckInputObject     = {
                                                      + Choices = [
                                                          + {
                                                              + IsPresent = true
                                                              + Next      = "CheckInputKey"
                                                              + Variable  = "$.Object"
                                                            },
                                                        ]
                                                      + Default = "FailCheckInputObject"
                                                      + Type    = "Choice"
                                                    }
                                                  + FailCheckInputKey    = {
                                                      + Type = "Fail"
                                                    }
                                                  + FailCheckInputObject = {
                                                      + Type = "Fail"
                                                    }
                                                  + PassInputKey         = {
                                                      + End  = true
                                                      + Type = "Pass"
                                                    }
                                                }
                                            },
                                        ]
                                      + InputPath      = "$.S3"
                                      + Next           = "HeadObject"
                                      + ResultSelector = {
                                          + "Bucket.$" = "$[0]"
                                          + "Object.$" = "$[1]"
                                        }
                                      + Type           = "Parallel"
                                    }
                                  + PassGetObjectAttributes = {
                                      + End        = true
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassHeadObject          = {
                                      + Next       = "GetObjectAttributes"
                                      + Parameters = {
                                          + "Bucket.$" = "$.Bucket"
                                          + "Object.$" = "States.JsonMerge($.Object, $.Output, false)"
                                        }
                                      + Type       = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "DetectText"
                      + ResultSelector = {
                          + "Rekognition.$" = "$[0]"
                          + "S3.$"          = "$[1]"
                        }
                      + Type           = "Parallel"
                    }
                  + ParallelCheckOutputDetectText = {
                      + Branches       = [
                          + {
                              + StartAt = "CheckOutputOrientationCorrection"
                              + States  = {
                                  + CheckOutputOrientationCorrection   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOrientationCorrection"
                                              + Variable  = "$.OrientationCorrection"
                                            },
                                        ]
                                      + Default   = "DefaultOutputOrientationCorrection"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputOrientationCorrection = {
                                      + Next       = "PassOrientationCorrection"
                                      + Parameters = {
                                          + OrientationCorrection = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOrientationCorrection          = {
                                      + End       = true
                                      + InputPath = "$.OrientationCorrection"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputTextDetections"
                              + States  = {
                                  + CheckOutputTextDetections   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "MapOutputTextDetections"
                                              + Variable  = "$.TextDetections"
                                            },
                                        ]
                                      + Default   = "DefaultOutputTextDetections"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputTextDetections = {
                                      + End        = true
                                      + OutputPath = "$.TextDetections"
                                      + Parameters = {
                                          + TextDetections = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + MapOutputTextDetections     = {
                                      + End           = true
                                      + ItemProcessor = {
                                          + ProcessorConfig = {
                                              + Mode = "INLINE"
                                            }
                                          + StartAt         = "ParallelCheckOutputTextDetection"
                                          + States          = {
                                              + ParallelCheckOutputTextDetection = {
                                                  + Branches       = [
                                                      + {
                                                          + StartAt = "CheckOutputTextDetectionConfidence"
                                                          + States  = {
                                                              + CheckOutputTextDetectionConfidence   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputTextDetectionConfidence"
                                                                          + Variable  = "$.Confidence"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputTextDetectionConfidence"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputTextDetectionConfidence = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Confidence"
                                                                  + Parameters = {
                                                                      + Confidence = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputTextDetectionConfidence    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Confidence"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputTextDetectionDetectedText"
                                                          + States  = {
                                                              + CheckOutputTextDetectionDetectedText   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputTextDetectionDetectedText"
                                                                          + Variable  = "$.DetectedText"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputTextDetectionDetectedText"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputTextDetectionDetectedText = {
                                                                  + End        = true
                                                                  + OutputPath = "$.DetectedText"
                                                                  + Parameters = {
                                                                      + DetectedText = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputTextDetectionDetectedText    = {
                                                                  + End       = true
                                                                  + InputPath = "$.DetectedText"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputTextDetectionGeometry"
                                                          + States  = {
                                                              + CheckOutputTextDetectionGeometry         = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "ParallelCheckOutputTextDetectionGeometry"
                                                                          + Variable  = "$.Geometry"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputTextDetectionGeometry"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputTextDetectionGeometry       = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Geometry"
                                                                  + Parameters = {
                                                                      + Geometry = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + ParallelCheckOutputTextDetectionGeometry = {
                                                                  + Branches       = [
                                                                      + {
                                                                          + StartAt = "CheckOutputTextDetectionGeometryBoundingBox"
                                                                          + States  = {
                                                                              + CheckOutputTextDetectionGeometryBoundingBox   = {
                                                                                  + Choices = [
                                                                                      + {
                                                                                          + IsPresent = true
                                                                                          + Next      = "PassOutputTextDetectionGeometryBoundingBox"
                                                                                          + Variable  = "$.BoundingBox"
                                                                                        },
                                                                                    ]
                                                                                  + Default = "DefaultOutputTextDetectionGeometryBoundingBox"
                                                                                  + Type    = "Choice"
                                                                                }
                                                                              + DefaultOutputTextDetectionGeometryBoundingBox = {
                                                                                  + End        = true
                                                                                  + OutputPath = "$.BoundingBox"
                                                                                  + Parameters = {
                                                                                      + BoundingBox = null
                                                                                    }
                                                                                  + Type       = "Pass"
                                                                                }
                                                                              + PassOutputTextDetectionGeometryBoundingBox    = {
                                                                                  + End       = true
                                                                                  + InputPath = "$.BoundingBox"
                                                                                  + Type      = "Pass"
                                                                                }
                                                                            }
                                                                        },
                                                                      + {
                                                                          + StartAt = "CheckOutputTextDetectionGeometryPolygon"
                                                                          + States  = {
                                                                              + CheckOutputTextDetectionGeometryPolygon   = {
                                                                                  + Choices = [
                                                                                      + {
                                                                                          + IsPresent = true
                                                                                          + Next      = "PassOutputTextDetectionGeometryPolygon"
                                                                                          + Variable  = "$.Polygon"
                                                                                        },
                                                                                    ]
                                                                                  + Default = "DefaultOutputTextDetectionGeometryPolygon"
                                                                                  + Type    = "Choice"
                                                                                }
                                                                              + DefaultOutputTextDetectionGeometryPolygon = {
                                                                                  + End        = true
                                                                                  + OutputPath = "$.Polygon"
                                                                                  + Parameters = {
                                                                                      + Polygon = null
                                                                                    }
                                                                                  + Type       = "Pass"
                                                                                }
                                                                              + PassOutputTextDetectionGeometryPolygon    = {
                                                                                  + End       = true
                                                                                  + InputPath = "$.Polygon"
                                                                                  + Type      = "Pass"
                                                                                }
                                                                            }
                                                                        },
                                                                    ]
                                                                  + End            = true
                                                                  + InputPath      = "$.Geometry"
                                                                  + ResultSelector = {
                                                                      + "BoundingBox.$" = "$[0]"
                                                                      + "Polygon.$"     = "$[1]"
                                                                    }
                                                                  + Type           = "Parallel"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputTextDetectionId"
                                                          + States  = {
                                                              + CheckOutputTextDetectionId   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputTextDetectionId"
                                                                          + Variable  = "$.Id"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputTextDetectionId"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputTextDetectionId = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Id"
                                                                  + Parameters = {
                                                                      + Id = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputTextDetectionId    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Id"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputTextDetectionParentId"
                                                          + States  = {
                                                              + CheckOutputTextDetectionParentId   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputTextDetectionParentId"
                                                                          + Variable  = "$.ParentId"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputTextDetectionParentId"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputTextDetectionParentId = {
                                                                  + End        = true
                                                                  + OutputPath = "$.ParentId"
                                                                  + Parameters = {
                                                                      + ParentId = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputTextDetectionParentId    = {
                                                                  + End       = true
                                                                  + InputPath = "$.ParentId"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                      + {
                                                          + StartAt = "CheckOutputTextDetectionType"
                                                          + States  = {
                                                              + CheckOutputTextDetectionType   = {
                                                                  + Choices = [
                                                                      + {
                                                                          + IsPresent = true
                                                                          + Next      = "PassOutputTextDetectionType"
                                                                          + Variable  = "$.Type"
                                                                        },
                                                                    ]
                                                                  + Default = "DefaultOutputTextDetectionType"
                                                                  + Type    = "Choice"
                                                                }
                                                              + DefaultOutputTextDetectionType = {
                                                                  + End        = true
                                                                  + OutputPath = "$.Type"
                                                                  + Parameters = {
                                                                      + Type = null
                                                                    }
                                                                  + Type       = "Pass"
                                                                }
                                                              + PassOutputTextDetectionType    = {
                                                                  + End       = true
                                                                  + InputPath = "$.Type"
                                                                  + Type      = "Pass"
                                                                }
                                                            }
                                                        },
                                                    ]
                                                  + End            = true
                                                  + ResultSelector = {
                                                      + "Confidence.$"   = "$[0]"
                                                      + "DetectedText.$" = "$[1]"
                                                      + "Geometry.$"     = "$[2]"
                                                      + "Id.$"           = "$[3]"
                                                      + "ParentId.$"     = "$[4]"
                                                      + "Type.$"         = "$[5]"
                                                    }
                                                  + Type           = "Parallel"
                                                }
                                            }
                                        }
                                      + ItemsPath     = "$.TextDetections"
                                      + Type          = "Map"
                                    }
                                }
                            },
                          + {
                              + StartAt = "CheckOutputTextModelVersion"
                              + States  = {
                                  + CheckOutputTextModelVersion   = {
                                      + Choices   = [
                                          + {
                                              + IsPresent = true
                                              + Next      = "PassOutputTextModelVersion"
                                              + Variable  = "$.TextModelVersion"
                                            },
                                        ]
                                      + Default   = "DefaultOutputTextModelVersion"
                                      + InputPath = "$.Output"
                                      + Type      = "Choice"
                                    }
                                  + DefaultOutputTextModelVersion = {
                                      + End        = true
                                      + OutputPath = "$.TextModelVersion"
                                      + Parameters = {
                                          + TextModelVersion = null
                                        }
                                      + Type       = "Pass"
                                    }
                                  + PassOutputTextModelVersion    = {
                                      + End       = true
                                      + InputPath = "$.TextModelVersion"
                                      + Type      = "Pass"
                                    }
                                }
                            },
                        ]
                      + Next           = "StateMachineOutput"
                      + ResultPath     = "$.Output"
                      + ResultSelector = {
                          + "OrientationCorrection.$" = "$[0]"
                          + "TextDetections.$"        = "$[1]"
                          + "TextModelVersion.$"      = "$[2]"
                        }
                      + Type           = "Parallel"
                    }
                  + StateMachineOutput            = {
                      + Next       = "Success"
                      + Parameters = {
                          + DetectText       = {
                              + "CreatedAt.$"             = "$$.Execution.StartTime"
                              + "Id.$"                    = "$.S3.Object.ETag"
                              + "OrientationCorrection.$" = "$.Output.OrientationCorrection"
                              + "TextDetections.$"        = "$.Output.TextDetections"
                              + "TextModelVersion.$"      = "$.Output.TextModelVersion"
                            }
                          + Execution        = {
                              + "Id.$"        = "$$.Execution.Id"
                              + "Name.$"      = "$$.Execution.Name"
                              + "StartTime.$" = "$$.Execution.StartTime"
                            }
                          + "S3.$"           = "$.S3"
                          + "StateMachine.$" = "$$.StateMachine"
                        }
                      + Type       = "Pass"
                    }
                  + Success                       = {
                      + Type = "Succeed"
                    }
                }
            }
        )
      + description               = (known after apply)
      + id                        = (known after apply)
      + name                      = "rekognition-detect-text"
      + name_prefix               = (known after apply)
      + publish                   = false
      + region                    = "us-east-1"
      + revision_id               = (known after apply)
      + role_arn                  = (known after apply)
      + state_machine_version_arn = (known after apply)
      + status                    = (known after apply)
      + tags                      = (known after apply)
      + tags_all                  = (known after apply)
      + type                      = "STANDARD"
      + version_description       = (known after apply)

      + encryption_configuration (known after apply)

      + logging_configuration (known after apply)

      + tracing_configuration (known after apply)
    }

  # aws_sqs_queue.s3_object_created_image will be created
  + resource "aws_sqs_queue" "s3_object_created_image" {
      + arn                               = (known after apply)
      + content_based_deduplication       = false
      + deduplication_scope               = (known after apply)
      + delay_seconds                     = 0
      + fifo_queue                        = false
      + fifo_throughput_limit             = (known after apply)
      + id                                = (known after apply)
      + kms_data_key_reuse_period_seconds = (known after apply)
      + max_message_size                  = 262144
      + message_retention_seconds         = 86400
      + name                              = "s3-object-created-images"
      + name_prefix                       = (known after apply)
      + policy                            = (known after apply)
      + receive_wait_time_seconds         = 0
      + redrive_allow_policy              = (known after apply)
      + redrive_policy                    = (known after apply)
      + region                            = "us-east-1"
      + sqs_managed_sse_enabled           = (known after apply)
      + tags                              = (known after apply)
      + tags_all                          = (known after apply)
      + url                               = (known after apply)
      + visibility_timeout_seconds        = 30
    }

  # aws_sqs_queue_policy.s3_object_created_image will be created
  + resource "aws_sqs_queue_policy" "s3_object_created_image" {
      + id        = (known after apply)
      + policy    = (known after apply)
      + queue_url = (known after apply)
      + region    = "us-east-1"
    }

  # random_pet.organization will be created
  + resource "random_pet" "organization" {
      + id        = (known after apply)
      + length    = 1
      + separator = "-"
    }

Plan: 43 to add, 0 to change, 0 to destroy.

Warning: Deprecated attribute

  on aws_iam_policy_document.tf line 150, in data "aws_iam_policy_document" "sfn_state_machine_rekognition":
 150:       "arn:aws:states:${data.aws_region.main.name}:${data.aws_caller_identity.main.account_id}:execution:${aws_sfn_state_machine.rekognition_detect_faces.name}:*",

The attribute "name" is deprecated. Refer to the provider documentation for
details.

(and 20 more similar warnings elsewhere)
