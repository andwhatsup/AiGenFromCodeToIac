{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ntitle High-level Deployment Architecture (Go webapp on AWS)\n\nskinparam shadowing false\nskinparam componentStyle rectangle\n\nactor \"Developer\" as dev\nactor \"GitHub Actions Runner\" as gha\n\nnode \"AWS Account\" as aws {\n  node \"VPC\" as vpc {\n    node \"Public Subnets\" as pub {\n      node \"Application Load Balancer (ALB)\" as alb\n    }\n\n    node \"Compute (Container runtime)\\n(ECS/Fargate or EC2)\" as compute {\n      artifact \"Container Image\\nGo net/http service\\nlistens on :8080\" as image\n      component \"WebApp Container\\nGo (std lib net/http)\" as app\n    }\n  }\n\n  database \"ECR Repository\\npw_ecr_dsop_webapp\" as ecr\n}\n\ncloud \"Terraform (IaC)\" as tf\n\ndev --> gha : push/PR\n\ngha --> tf : terraform init/apply\\n(provisions ALB, compute, ECR)\ngha --> ecr : docker build & push\\n(AWS creds/region)\n\necr --> compute : pull image\nalb --> app : HTTP (80/443) -> :8080\napp --> alb : responses\n\nnote right of gha\nCI security checks:\\n- gitleaks\\n- trufflehog3\nend note\n\nnote bottom of tf\nTerraform outputs used by pipeline:\\n- ecr_repository_uri\\n- alb_hostname\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"864px\" preserveAspectRatio=\"none\" style=\"width:1026px;height:864px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1026 864\" width=\"1026px\" zoomAndPan=\"magnify\"><title>High-level Deployment Architecture (Go webapp on AWS)</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"454.8359\" x=\"278.9425\" y=\"22.9951\">High-level Deployment Architecture (Go webapp on AWS)</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"12\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"16,371.6469,26,361.6469,734,361.6469,734,837.1269,724,847.1269,16,847.1269,16,371.6469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"724\" x2=\"734\" y1=\"371.6469\" y2=\"361.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"724\" y1=\"371.6469\" y2=\"371.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"724\" x2=\"724\" y1=\"371.6469\" y2=\"847.1269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"104.9111\" x=\"318.5444\" y=\"387.642\">AWS Account</text></g><!--cluster vpc--><g class=\"cluster\" data-qualified-name=\"aws.vpc\" data-source-line=\"13\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"40,419.6469,50,409.6469,530,409.6469,530,813.1269,520,823.1269,40,823.1269,40,419.6469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"520\" x2=\"530\" y1=\"419.6469\" y2=\"409.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"40\" x2=\"520\" y1=\"419.6469\" y2=\"419.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"520\" x2=\"520\" y1=\"419.6469\" y2=\"823.1269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"31.3701\" x=\"265.3149\" y=\"435.642\">VPC</text></g><!--cluster pub--><g class=\"cluster\" data-qualified-name=\"aws.vpc.pub\" data-source-line=\"14\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"156,467.6469,166,457.6469,410,457.6469,410,566.2369,400,576.2369,156,576.2369,156,467.6469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"400\" x2=\"410\" y1=\"467.6469\" y2=\"457.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"156\" x2=\"400\" y1=\"467.6469\" y2=\"467.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"400\" x2=\"400\" y1=\"467.6469\" y2=\"576.2369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"117.5781\" x=\"220.2109\" y=\"483.642\">Public Subnets</text></g><!--cluster compute--><g class=\"cluster\" data-qualified-name=\"aws.vpc.compute\" data-source-line=\"18\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"72,641.2369,82,631.2369,498,631.2369,498,781.1269,488,791.1269,72,791.1269,72,641.2369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"488\" x2=\"498\" y1=\"641.2369\" y2=\"631.2369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"72\" x2=\"488\" y1=\"641.2369\" y2=\"641.2369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"488\" x2=\"488\" y1=\"641.2369\" y2=\"791.1269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"232.7773\" x=\"164.6113\" y=\"657.232\">Compute (Container runtime)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"165.252\" x=\"198.374\" y=\"673.5289\">(ECS/Fargate or EC2)</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"aws.ecr\" data-source-line=\"24\" id=\"ent0011\"><path d=\"M545.83,508.1469 C545.83,498.1469 631.9994,498.1469 631.9994,498.1469 C631.9994,498.1469 718.1689,498.1469 718.1689,508.1469 L718.1689,549.7406 C718.1689,559.7406 631.9994,559.7406 631.9994,559.7406 C631.9994,559.7406 545.83,559.7406 545.83,549.7406 L545.83,508.1469\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M545.83,508.1469 C545.83,518.1469 631.9994,518.1469 631.9994,518.1469 C631.9994,518.1469 718.1689,518.1469 718.1689,508.1469\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"578.0639\" y=\"535.142\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"606.4125\" y=\"535.142\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"75.0723\" x=\"610.8627\" y=\"535.142\">Repository</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"152.3389\" x=\"555.83\" y=\"551.4389\">pw_ecr_dsop_webapp</text></g><!--entity alb--><g class=\"entity\" data-qualified-name=\"aws.vpc.pub.alb\" data-source-line=\"15\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"171.73,507.6469,181.73,497.6469,394.2769,497.6469,394.2769,550.2406,384.2769,560.2406,171.73,560.2406,171.73,507.6469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"384.2769\" x2=\"394.2769\" y1=\"507.6469\" y2=\"497.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"171.73\" x2=\"384.2769\" y1=\"507.6469\" y2=\"507.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"384.2769\" x2=\"384.2769\" y1=\"507.6469\" y2=\"560.2406\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.2236\" x=\"186.73\" y=\"530.642\">Application</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"264.9536\" y=\"530.642\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.8311\" x=\"269.4038\" y=\"530.642\">Load</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"303.2349\" y=\"530.642\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.5918\" x=\"307.6851\" y=\"530.642\">Balancer</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.9053\" x=\"259.0508\" y=\"546.9389\">(ALB)</text></g><!--entity image--><g class=\"entity\" data-qualified-name=\"aws.vpc.compute.image\" data-source-line=\"19\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"164.8936\" x=\"95.55\" y=\"695.2369\"/><polygon fill=\"#FFFFFF\" points=\"243.4436,700.2369,243.4436,714.2369,255.4436,714.2369,255.4436,706.2369,249.4436,700.2369,243.4436,700.2369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"249.4436\" x2=\"249.4436\" y1=\"700.2369\" y2=\"706.2369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"255.4436\" x2=\"249.4436\" y1=\"706.2369\" y2=\"706.2369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"114.6418\" y=\"721.232\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"183.0559\" y=\"721.232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"187.5061\" y=\"721.232\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"19.4141\" x=\"105.55\" y=\"737.5289\">Go</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"124.9641\" y=\"737.5289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.4307\" x=\"129.4143\" y=\"737.5289\">net/http</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"185.8449\" y=\"737.5289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.1484\" x=\"190.2951\" y=\"737.5289\">service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.3428\" x=\"116.9831\" y=\"753.8257\">listens</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"162.3259\" y=\"753.8257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"17.4385\" x=\"166.7761\" y=\"753.8257\">on</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"184.2146\" y=\"753.8257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.3457\" x=\"188.6647\" y=\"753.8257\">:8080</text></g><!--entity app--><g class=\"entity\" data-qualified-name=\"aws.vpc.compute.app\" data-source-line=\"20\" id=\"ent0010\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"158.4551\" x=\"295.77\" y=\"704.8869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"58.6934\" x=\"309.2187\" y=\"727.882\">WebApp</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"367.9121\" y=\"727.882\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"372.3623\" y=\"727.882\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"19.4141\" x=\"305.77\" y=\"744.1789\">Go</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"325.1841\" y=\"744.1789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.1318\" x=\"329.6343\" y=\"744.1789\">(std</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"356.7661\" y=\"744.1789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"16.666\" x=\"361.2163\" y=\"744.1789\">lib</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"377.8823\" y=\"744.1789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.8926\" x=\"382.3325\" y=\"744.1789\">net/http)</text></g><!--entity dev--><g class=\"entity\" data-qualified-name=\"dev\" data-source-line=\"9\" id=\"ent0002\"><ellipse cx=\"740.0015\" cy=\"51.2969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M740.0015,59.2969 L740.0015,86.2969 M727.0015,67.2969 L753.0015,67.2969 M740.0015,86.2969 L727.0015,101.2969 M740.0015,86.2969 L753.0015,101.2969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"72.0029\" x=\"704\" y=\"116.542\">Developer</text></g><!--entity gha--><g class=\"entity\" data-qualified-name=\"gha\" data-source-line=\"10\" id=\"ent0003\"><ellipse cx=\"739.9983\" cy=\"204.0969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M739.9983,212.0969 L739.9983,239.0969 M726.9983,220.0969 L752.9983,220.0969 M739.9983,239.0969 L726.9983,254.0969 M739.9983,239.0969 L752.9983,254.0969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5146\" x=\"660.24\" y=\"269.342\">GitHub</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"708.7546\" y=\"269.342\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.3857\" x=\"713.2048\" y=\"269.342\">Actions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"764.5906\" y=\"269.342\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.7158\" x=\"769.0408\" y=\"269.342\">Runner</text></g><!--entity tf--><g class=\"entity\" data-qualified-name=\"tf\" data-source-line=\"27\" id=\"ent0012\"><path d=\"M780.0967,515.2338 C784.7395,507.5623 789.3373,507.4438 794.3896,514.8455 C797.7678,509.7303 801.3342,509.0597 805.0284,514.5277 C808.5437,507.6501 813.277,506.2421 818.67,512.5912 C821.5492,506.6318 826.8495,505.4225 830.8679,511.4299 C833.7639,505.371 839.3363,505.3245 842.5987,511.0656 C846.8017,507.0162 851.5185,506.6135 853.7891,513.1152 C857.8999,507.2095 862.109,507.1289 866.2305,513.104 C870.0719,506.4762 874.9146,506.4657 879.0584,512.8047 C883.3768,506.1435 888.4778,507.0961 891.7418,513.805 C895.809,509.1155 900.9186,510.1551 903.3119,515.6978 C912.8367,516.2336 914.7255,521.1827 911.6702,529.3951 C917.7175,538.0371 913.2966,545.2538 903.4715,546.1107 C899.601,551.3896 894.6583,552.2205 890.7733,546.1269 C887.415,553.6534 883.3789,553.7695 877.9607,548.1319 C875.0443,553.5408 869.0504,553.1367 865.9461,548.3534 C863.4627,554.5215 859.3843,554.8501 855.3081,549.8737 C851.9469,556.2719 848.0484,558.1637 842.5362,552.0735 C837.9155,558.1074 832.3906,555.8951 830.1697,549.6556 C826.3859,554.8571 820.8718,555.9006 817.7268,548.9988 C814.2932,554.1579 809.9221,553.5098 806.5687,548.9072 C801.902,553.4695 797.3256,553.6948 794.0566,547.3096 C789.4884,552.9845 783.8129,553.3686 780.2667,546.2114 C769.4003,545.6935 767.45,538.4207 772.852,530.3147 C767.9223,522.2259 770.1111,516.1575 780.0967,515.2338\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.1436\" x=\"787\" y=\"533.782\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"857.1436\" y=\"533.782\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.4072\" x=\"861.5938\" y=\"533.782\">(IaC)</text></g><!--link dev to gha--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"29\" id=\"lnk13\"><path d=\"M740,119.9969 C740,142.7769 740,165.6269 740,188.4369\" fill=\"none\" id=\"dev-to-gha\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"740,194.4369,744,185.4369,740,189.4369,736,185.4369,740,194.4369\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.6973\" x=\"741\" y=\"161.9855\">push/PR</text></g><!--link gha to tf--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"31\" id=\"lnk14\"><path d=\"M771.58,272.9569 C778.1,282.2469 784.37,292.4469 789,302.6469 C820.76,372.6469 833.4247,458.025 838.1347,499.605\" fill=\"none\" id=\"gha-to-tf\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"838.81,505.5669,841.7716,496.1738,838.2472,500.5986,833.8224,497.0743,838.81,505.5669\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"57.498\" x=\"805\" y=\"314.7855\">terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"862.498\" y=\"314.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.0449\" x=\"866.3125\" y=\"314.7855\">init/apply</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"65.7949\" x=\"815.4033\" y=\"328.7543\">(provisions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"881.1982\" y=\"328.7543\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.9414\" x=\"885.0127\" y=\"328.7543\">ALB,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.7539\" x=\"818.9043\" y=\"342.723\">compute,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"875.6582\" y=\"342.723\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.9805\" x=\"879.4727\" y=\"342.723\">ECR)</text></g><!--link gha to ecr--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"32\" id=\"lnk15\"><path d=\"M682.72,273.0669 C673.44,281.7369 664.94,291.6669 659,302.6469 C624.96,365.5169 625.1892,446.5024 628.4492,491.7924\" fill=\"none\" id=\"gha-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"628.88,497.7769,632.2235,488.5129,628.521,492.7898,624.2442,489.0873,628.88,497.7769\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"40.8223\" x=\"660\" y=\"321.7855\">docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"700.8223\" y=\"321.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.5078\" x=\"704.6367\" y=\"321.7855\">build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"734.1445\" y=\"321.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"9.3574\" x=\"737.959\" y=\"321.7855\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"747.3164\" y=\"321.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.0801\" x=\"751.1309\" y=\"321.7855\">push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"32.373\" x=\"662.1504\" y=\"335.7543\">(AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"694.5234\" y=\"335.7543\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"79.7227\" x=\"698.3379\" y=\"335.7543\">creds/region)</text></g><!--link ecr to compute--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"34\" id=\"lnk16\"><path d=\"M610.74,559.9169 C591.245,587.4119 561.6925,629.0869 536.705,664.3231 C524.2113,681.9413 512.8588,697.9497 504.4753,709.7711 C502.3795,712.7264 500.4692,715.4201 498.773,717.8118 C498.561,718.1108 501.8232,713.5108 501.6179,713.8003\" fill=\"none\" id=\"ecr-to-compute\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"498.147,718.6945,506.6161,713.6671,501.0394,714.616,500.0906,709.0393,498.147,718.6945\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.8906\" x=\"588\" y=\"604.3755\">pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"609.8906\" y=\"604.3755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"613.7051\" y=\"604.3755\">image</text></g><!--link alb to app--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"35\" id=\"lnk17\"><path d=\"M214.11,560.6169 C193.03,574.1169 178.92,590.6569 194,607.2369 C206.61,621.1069 261.39,606.5369 278,615.2369 C316.17,635.2269 342.3998,672.0183 358.3798,699.3283\" fill=\"none\" id=\"alb-to-app\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"361.41,704.5069,360.3171,694.7188,358.8849,700.1914,353.4123,698.7591,361.41,704.5069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"195\" y=\"604.3755\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"225.9199\" y=\"604.3755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"51.5801\" x=\"229.7344\" y=\"604.3755\">(80/443)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"281.3145\" y=\"604.3755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.3848\" x=\"285.1289\" y=\"604.3755\">-&gt;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"299.5137\" y=\"604.3755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.582\" x=\"303.3281\" y=\"604.3755\">:8080</text></g><!--link app to alb--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"36\" id=\"lnk18\"><path d=\"M372.88,704.6069 C369.62,675.7969 361.53,628.2869 342,592.2369 C335.83,580.8369 331.1692,574.3405 322.2592,564.9905\" fill=\"none\" id=\"app-to-alb\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"318.12,560.6469,321.4331,569.9218,321.5693,564.2666,327.2246,564.4028,318.12,560.6469\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"61.0195\" x=\"350\" y=\"604.3755\">responses</text></g></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime (AWS)\n- **Application Load Balancer (ALB)**: Public entry point for HTTP/HTTPS traffic.\n- **Compute (container runtime: ECS/Fargate or EC2)**: Runs the **containerized Go web service**.\n  - **WebApp**: Go `net/http` (standard library) service listening on **:8080**.\n  - Deployed as a Docker container built from the repository’s `Dockerfile`.\n- **Amazon ECR repository (`pw_ecr_dsop_webapp`)**: Stores the built container image that the compute layer pulls at deploy/run time.\n\n### Delivery / Provisioning (CI/CD)\n- **Developer → GitHub Actions**: Code changes trigger the pipeline.\n- **GitHub Actions pipeline**:\n  - Runs **security scans** (gitleaks, trufflehog3).\n  - Uses **AWS credentials + region** to authenticate.\n  - **Builds and pushes** the Docker image to **ECR**.\n  - Runs **Terraform (`init`/`apply`)** to provision/update infrastructure.\n  - Consumes Terraform outputs such as **`ecr_repository_uri`** and **`alb_hostname`** (used to print the deployed URL).\n\n### Key relationships\n- GitHub Actions **pushes** the image to **ECR**.\n- Compute **pulls** the image from **ECR**.\n- ALB **routes** external traffic (80/443) to the container on **:8080**."
}