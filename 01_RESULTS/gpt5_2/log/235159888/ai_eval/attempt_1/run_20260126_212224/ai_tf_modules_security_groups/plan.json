{"format_version":"1.2","terraform_version":"1.13.5","variables":{"name_prefix":{"value":"freeipa"},"tags":{"value":{}},"trusted_cidr_blocks":{"value":[]},"vpc_id":{"value":"vpc-00000000"}},"planned_values":{"outputs":{"client_security_group_id":{"sensitive":false},"server_security_group_id":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_security_group.client","mode":"managed","type":"aws_security_group","name":"client","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"FreeIPA client security group","name_prefix":"freeipa-client-","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"freeipa-client"},"tags_all":{"Name":"freeipa-client"},"timeouts":null,"vpc_id":"vpc-00000000"},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_security_group.server","mode":"managed","type":"aws_security_group","name":"server","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"FreeIPA server security group","name_prefix":"freeipa-server-","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"freeipa-server"},"tags_all":{"Name":"freeipa-server"},"timeouts":null,"vpc_id":"vpc-00000000"},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"id":null,"region":null}},{"address":"aws_security_group_rule.client_egress","mode":"managed","type":"aws_security_group_rule","name":"client_egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Allow FreeIPA clients to reach FreeIPA servers","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":false,"timeouts":null,"to_port":0,"type":"egress"},"sensitive_values":{}},{"address":"aws_security_group_rule.server_egress_self","mode":"managed","type":"aws_security_group_rule","name":"server_egress_self","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Allow all egress within server SG","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":true,"timeouts":null,"to_port":0,"type":"egress"},"sensitive_values":{}},{"address":"aws_security_group_rule.server_http_egress","mode":"managed","type":"aws_security_group_rule","name":"server_http_egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Allow HTTP egress","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-east-1","self":false,"timeouts":null,"to_port":80,"type":"egress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_security_group_rule.server_https_egress","mode":"managed","type":"aws_security_group_rule","name":"server_https_egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Allow HTTPS egress","from_port":443,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-east-1","self":false,"timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"cidr_blocks":[false]}},{"address":"aws_security_group_rule.server_ingress_clients","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_clients","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Allow FreeIPA client traffic","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":false,"timeouts":null,"to_port":0,"type":"ingress"},"sensitive_values":{}},{"address":"aws_security_group_rule.server_ingress_self","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_self","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Allow all traffic within server SG (replication/cluster)","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":true,"timeouts":null,"to_port":0,"type":"ingress"},"sensitive_values":{}}]}},"resource_changes":[{"address":"aws_security_group.client","mode":"managed","type":"aws_security_group","name":"client","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"FreeIPA client security group","name_prefix":"freeipa-client-","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"freeipa-client"},"tags_all":{"Name":"freeipa-client"},"timeouts":null,"vpc_id":"vpc-00000000"},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_security_group.server","mode":"managed","type":"aws_security_group","name":"server","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"FreeIPA server security group","name_prefix":"freeipa-server-","region":"us-east-1","revoke_rules_on_delete":false,"tags":{"Name":"freeipa-server"},"tags_all":{"Name":"freeipa-server"},"timeouts":null,"vpc_id":"vpc-00000000"},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"after_identity":{"account_id":null,"id":null,"region":null}}},{"address":"aws_security_group_rule.client_egress","mode":"managed","type":"aws_security_group_rule","name":"client_egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"Allow FreeIPA clients to reach FreeIPA servers","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":false,"timeouts":null,"to_port":0,"type":"egress"},"after_unknown":{"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_security_group_rule.server_egress_self","mode":"managed","type":"aws_security_group_rule","name":"server_egress_self","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"Allow all egress within server SG","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":true,"timeouts":null,"to_port":0,"type":"egress"},"after_unknown":{"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_security_group_rule.server_http_egress","mode":"managed","type":"aws_security_group_rule","name":"server_http_egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"Allow HTTP egress","from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-east-1","self":false,"timeouts":null,"to_port":80,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_security_group_rule.server_https_egress","mode":"managed","type":"aws_security_group_rule","name":"server_https_egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":"Allow HTTPS egress","from_port":443,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","region":"us-east-1","self":false,"timeouts":null,"to_port":443,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[false]}}},{"address":"aws_security_group_rule.server_ingress_clients","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_clients","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"Allow FreeIPA client traffic","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":false,"timeouts":null,"to_port":0,"type":"ingress"},"after_unknown":{"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_security_group_rule.server_ingress_self","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_self","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":null,"description":"Allow all traffic within server SG (replication/cluster)","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","region":"us-east-1","self":true,"timeouts":null,"to_port":0,"type":"ingress"},"after_unknown":{"id":true,"security_group_id":true,"security_group_rule_id":true,"source_security_group_id":true},"before_sensitive":false,"after_sensitive":{}}}],"output_changes":{"client_security_group_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"server_security_group_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 6.28","expressions":{"access_key":{"constant_value":"mock"},"endpoints":[{"apigateway":{"constant_value":"http://localhost:4566"},"apigatewayv2":{"constant_value":"http://localhost:4566"},"cloudwatch":{"constant_value":"http://localhost:4566"},"cloudwatchevents":{"constant_value":"http://localhost:4566"},"dynamodb":{"constant_value":"http://localhost:4566"},"ec2":{"constant_value":"http://localhost:4566"},"ecr":{"constant_value":"http://localhost:4566"},"ecrpublic":{"constant_value":"http://localhost:4566"},"ecs":{"constant_value":"http://localhost:4566"},"efs":{"constant_value":"http://localhost:4566"},"iam":{"constant_value":"http://localhost:4566"},"kinesis":{"constant_value":"http://localhost:4566"},"kms":{"constant_value":"http://localhost:4566"},"lambda":{"constant_value":"http://localhost:4566"},"logs":{"constant_value":"http://localhost:4566"},"route53":{"constant_value":"http://localhost:4566"},"s3":{"constant_value":"http://localhost:4566"},"s3control":{"constant_value":"http://localhost:4566"},"secretsmanager":{"constant_value":"http://localhost:4566"},"sns":{"constant_value":"http://localhost:4566"},"sqs":{"constant_value":"http://localhost:4566"},"ssm":{"constant_value":"http://localhost:4566"},"sts":{"constant_value":"http://localhost:4566"}}],"region":{"constant_value":"us-east-1"},"s3_use_path_style":{"constant_value":true},"secret_key":{"constant_value":"mock"},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_region_validation":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}}},"root_module":{"outputs":{"client_security_group_id":{"expression":{"references":["aws_security_group.client.id","aws_security_group.client"]},"description":"The IPA client security group ID."},"server_security_group_id":{"expression":{"references":["aws_security_group.server.id","aws_security_group.server"]},"description":"The IPA server security group ID."}},"resources":[{"address":"aws_security_group.client","mode":"managed","type":"aws_security_group","name":"client","provider_config_key":"aws","expressions":{"description":{"constant_value":"FreeIPA client security group"},"name_prefix":{"references":["var.name_prefix"]},"tags":{"references":["var.tags","var.name_prefix"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.server","mode":"managed","type":"aws_security_group","name":"server","provider_config_key":"aws","expressions":{"description":{"constant_value":"FreeIPA server security group"},"name_prefix":{"references":["var.name_prefix"]},"tags":{"references":["var.tags","var.name_prefix"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group_rule.client_egress","mode":"managed","type":"aws_security_group_rule","name":"client_egress","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow FreeIPA clients to reach FreeIPA servers"},"from_port":{"constant_value":0},"protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.client.id","aws_security_group.client"]},"source_security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.server_egress_self","mode":"managed","type":"aws_security_group_rule","name":"server_egress_self","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow all egress within server SG"},"from_port":{"constant_value":0},"protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"self":{"constant_value":true},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.server_http_egress","mode":"managed","type":"aws_security_group_rule","name":"server_http_egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"description":{"constant_value":"Allow HTTP egress"},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"to_port":{"constant_value":80},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.server_https_egress","mode":"managed","type":"aws_security_group_rule","name":"server_https_egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"description":{"constant_value":"Allow HTTPS egress"},"from_port":{"constant_value":443},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"to_port":{"constant_value":443},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.server_ingress_clients","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_clients","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow FreeIPA client traffic"},"from_port":{"constant_value":0},"protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"source_security_group_id":{"references":["aws_security_group.client.id","aws_security_group.client"]},"to_port":{"constant_value":0},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_security_group_rule.server_ingress_self","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_self","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow all traffic within server SG (replication/cluster)"},"from_port":{"constant_value":0},"protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"self":{"constant_value":true},"to_port":{"constant_value":0},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_security_group_rule.server_ingress_trusted","mode":"managed","type":"aws_security_group_rule","name":"server_ingress_trusted","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["var.trusted_cidr_blocks"]},"description":{"constant_value":"Allow HTTPS from trusted CIDRs"},"from_port":{"constant_value":443},"protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.server.id","aws_security_group.server"]},"to_port":{"constant_value":443},"type":{"constant_value":"ingress"}},"schema_version":2,"count_expression":{"references":["var.trusted_cidr_blocks"]}}],"variables":{"name_prefix":{"default":"freeipa","description":"Prefix used to name resources."},"tags":{"default":{},"description":"Tags to apply to resources."},"trusted_cidr_blocks":{"default":[],"description":"CIDR blocks outside the VPC that are allowed to access the IPA servers."},"vpc_id":{"description":"The ID of the VPC where the IPA cluster is to be instantiated."}}}},"relevant_attributes":[{"resource":"aws_security_group.client","attribute":["id"]},{"resource":"aws_security_group.server","attribute":["id"]}],"timestamp":"2026-01-26T20:22:46Z","applyable":true,"complete":true,"errored":false}
