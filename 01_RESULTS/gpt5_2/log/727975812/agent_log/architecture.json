{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle Venmo Automation on AWS (High-level Deployment)\n\ncloud \"AWS Account\" as aws {\n\n  node \"EventBridge\" as evb {\n    artifact \"Scheduler / Rule\" as rule\n  }\n\n  node \"AWS Lambda\" as lambdaNode {\n    component \"Venmo Automation Lambda\\nPython 3.x\\n(handler.py + requirements.txt)\\nEnv: VENMO_AUTH_TOKEN\" as lambda\n  }\n\n  node \"IAM\" as iam {\n    component \"Execution Role\\n(least-privilege)\" as lambdaRole\n    component \"Invoke Role\\n(EventBridge -> Lambda)\" as evbRole\n  }\n\n  node \"CloudWatch\" as cw {\n    component \"Logs\\n(Lambda log group)\" as logs\n    component \"Alarms\\n(error rate / failures)\" as alarms\n  }\n\n  node \"SNS\" as sns {\n    component \"Alert Topic\" as topic\n    artifact \"Email Subscription\" as email\n  }\n}\n\ncloud \"External\" as ext {\n  component \"Venmo API\\n(venmo-api SDK)\" as venmo\n}\n\nrule --> lambda : scheduled invoke\nlambda --> venmo : HTTPS API calls\n\nlambdaRole ..> lambda : assumed by\nrule ..> evbRole : uses\n\nlambda --> logs : writes logs\nalarms --> topic : publish alarm\nlogs ..> alarms : metrics\n\ntopic --> email : notify\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1183px\" preserveAspectRatio=\"none\" style=\"width:846px;height:1183px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 846 1183\" width=\"846px\" zoomAndPan=\"magnify\"><title>Venmo Automation on AWS (High-level Deployment)</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"415.29\" x=\"208.7162\" y=\"22.9951\">Venmo Automation on AWS (High-level Deployment)</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"11\" id=\"ent0002\"><path d=\"M71.8126,87.9316 C95.4101,49.8844 119.4286,49.5326 143.4739,87.5095 C158.3306,49.6028 189.0186,46.4717 212.1625,79.4827 C232.4092,47.6994 257.9092,43.8043 279.3921,78.2273 C302.8429,43.2969 323.1198,49.0766 344.4896,80.2758 C366.8378,46.0893 396.4065,46.4905 417.1946,81.9054 C436.694,44.7043 462.9141,45.2477 488.7871,75.1003 C516.9827,48.8384 539.3474,52.9121 559.7025,84.6816 C583.3172,48.8705 610.1317,45.3544 632.9411,85.4584 C638.2919,85.1208 640.133,88.0613 638.4896,92.9227 C668.2736,109.5137 679.9928,142.4858 643.4144,163.6947 C676.9345,196.0379 677.7926,222.017 634.2562,245.761 C663.5732,262.9804 669.8007,294.3947 638.6821,315.4522 C666.2147,337.8759 666.4157,361.1048 638.7399,383.5753 C679.0666,402.7311 681.8081,438.1466 641.7489,460.449 C678.2729,481.0312 671.1205,517.7509 637.8094,534.6242 C677.6273,556.5354 682.6726,580.6709 648.6453,612.8158 C676.497,634.905 677.5536,670.2187 637.9012,681.7933 C676.5926,701.7885 676.0603,740.0533 638.7302,760.8456 C675.0616,778.6322 674.7438,803.1686 646.4434,828.341 C685.2513,847.5389 678.0862,881.832 647.3882,901.9224 C678.201,926.0543 677.0985,965.2421 637.7033,980.7478 C670.2131,1002.8049 678.8107,1026.0792 643.0548,1053.18 C666.2501,1083.018 666.5996,1109.2944 625.9411,1123.6184 C633.4965,1121.818 638.184,1126.2558 636.8438,1133.8939 C608.1347,1171.9004 585.8275,1169.1048 563.2486,1128.1781 C542.7732,1162.8329 519.1743,1157.4211 495.8712,1131.3137 C475.5053,1164.0769 449.0665,1168.6057 424.5752,1135.7995 C402.564,1172.9864 375.4983,1167.3739 354.5849,1134.6996 C333.8665,1172.3229 300.3202,1175.3065 277.9662,1136.3356 C259.3619,1171.081 224.8643,1169.6461 207.2657,1135.3064 C188.4769,1165.1567 164.0049,1171.2203 143.7379,1136.7668 C108.9203,1176.9915 66.5982,1171.7516 52.9411,1116.6184 C58.0674,1115.1877 60.5593,1118.9476 58.9303,1123.4442 C29.7192,1105.1819 21.6069,1070.3336 57.9636,1051.1939 C23.6223,1032.3605 18.3943,1000.5891 56.4528,980.2146 C22.4334,951.6218 17.9812,925.8508 56.9349,897.6842 C22.2552,880.566 22.8532,850.598 52.8374,829.5887 C19.8468,807.5146 14.3038,780.5298 51.1532,756.8387 C8.8308,733.6414 16.1376,704.7172 48.8135,679.2582 C14.0643,657.8617 11.6551,633.2562 44.2645,607.5846 C7.7642,586.3346 10.0557,551.0698 42.7209,528.4703 C6,505.1249 7.4893,476.327 45.006,455.2999 C7.9028,432.067 12.6373,401.5256 47.9245,381.1416 C13.839,358.3566 19.5023,333.199 52.6339,315.2156 C14.1784,292.8746 20.9194,258.0446 55.6689,238.6036 C20.3615,214.2109 27.7572,184.6754 60.3027,164.5272 C23.5833,137.5375 23.5996,105.7551 59.9411,78.4584 C67.8004,76.6098 72.8246,78.6632 71.8126,87.9316\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"104.9111\" x=\"290.4856\" y=\"96.4535\">AWS Account</text></g><!--cluster evb--><g class=\"cluster\" data-qualified-name=\"aws.evb\" data-source-line=\"13\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"240.9411,123.4584,250.9411,113.4584,416.9411,113.4584,416.9411,198.7584,406.9411,208.7584,240.9411,208.7584,240.9411,123.4584\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"406.9411\" x2=\"416.9411\" y1=\"123.4584\" y2=\"113.4584\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"240.9411\" x2=\"406.9411\" y1=\"123.4584\" y2=\"123.4584\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"406.9411\" x2=\"406.9411\" y1=\"123.4584\" y2=\"208.7584\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"96.7559\" x=\"276.5632\" y=\"139.4535\">EventBridge</text></g><!--cluster lambdaNode--><g class=\"cluster\" data-qualified-name=\"aws.lambdaNode\" data-source-line=\"17\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"177.9411,421.3484,187.9411,411.3484,425.9411,411.3484,425.9411,558.8384,415.9411,568.8384,177.9411,568.8384,177.9411,421.3484\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"415.9411\" x2=\"425.9411\" y1=\"421.3484\" y2=\"411.3484\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"177.9411\" x2=\"415.9411\" y1=\"421.3484\" y2=\"421.3484\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"415.9411\" x2=\"415.9411\" y1=\"421.3484\" y2=\"568.8384\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"103.6807\" x=\"246.1008\" y=\"437.3435\">AWS Lambda</text></g><!--cluster iam--><g class=\"cluster\" data-qualified-name=\"aws.iam\" data-source-line=\"21\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"220.9411,265.7584,230.9411,255.7584,616.9411,255.7584,616.9411,354.3484,606.9411,364.3484,220.9411,364.3484,220.9411,265.7584\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"606.9411\" x2=\"616.9411\" y1=\"265.7584\" y2=\"255.7584\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"220.9411\" x2=\"606.9411\" y1=\"265.7584\" y2=\"265.7584\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"606.9411\" x2=\"606.9411\" y1=\"265.7584\" y2=\"364.3484\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"29.9756\" x=\"399.9533\" y=\"281.7535\">IAM</text></g><!--cluster cw--><g class=\"cluster\" data-qualified-name=\"aws.cw\" data-source-line=\"26\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"203.9411,625.8384,213.9411,615.8384,399.9411,615.8384,399.9411,844.0284,389.9411,854.0284,203.9411,854.0284,203.9411,625.8384\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"389.9411\" x2=\"399.9411\" y1=\"625.8384\" y2=\"615.8384\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"203.9411\" x2=\"389.9411\" y1=\"625.8384\" y2=\"625.8384\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"389.9411\" x2=\"389.9411\" y1=\"625.8384\" y2=\"854.0284\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"94.5273\" x=\"250.6775\" y=\"641.8335\">CloudWatch</text></g><!--cluster sns--><g class=\"cluster\" data-qualified-name=\"aws.sns\" data-source-line=\"31\" id=\"ent0013\"><polygon fill=\"#FFFFFF\" points=\"205.9411,911.0284,215.9411,901.0284,397.9411,901.0284,397.9411,1097.6184,387.9411,1107.6184,205.9411,1107.6184,205.9411,911.0284\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"387.9411\" x2=\"397.9411\" y1=\"911.0284\" y2=\"901.0284\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"205.9411\" x2=\"387.9411\" y1=\"911.0284\" y2=\"911.0284\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"387.9411\" x2=\"387.9411\" y1=\"911.0284\" y2=\"1107.6184\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"31.8828\" x=\"281.9997\" y=\"927.0235\">SNS</text></g><!--cluster ext--><g class=\"cluster\" data-qualified-name=\"ext\" data-source-line=\"37\" id=\"ent0016\"><path d=\"M681.5297,629.4293 C684.4971,623.183 690.4043,623.9061 693.5077,629.2893 C697.0517,624.5618 700.7847,624.5992 704.2816,629.343 C707.0177,623.2486 711.7453,621.1621 716.7231,627.007 C720.1246,621.4217 723.697,620.8199 728.1759,625.8439 C730.8153,620.546 735.6537,619.9937 738.6576,625.4901 C742.6811,618.4116 747.2161,619.2662 751.8978,624.7991 C754.5485,620.6028 759.2401,620.5316 761.6186,625.1008 C766.8474,619.5576 771.3999,621.2725 774.5471,627.4056 C778.3536,620.5112 782.8706,620.9845 786.9444,627.152 C790.3033,622.4292 794.4661,622.0794 797.6456,627.3443 C802.0925,622.7339 805.4697,623.506 808.4082,628.9577 C816.3899,622.1283 825.4506,625.184 826.9411,635.8384 C827.8205,635.842 828.1613,636.3057 827.8415,637.1392 C834.0463,640.055 835.9329,644.4686 830.4175,649.7739 C835.736,652.6286 837.7264,657.8595 831.8282,662.0076 C838.7229,664.5085 839.0582,668.3613 834.3615,673.4324 C839.7224,678.9512 837.6764,683.068 831.3564,685.7332 C836.105,690.0843 835.9626,694.1801 830.1692,697.4644 C836.3851,709.0091 833.2593,715.4193 819.9411,716.4284 C820.5699,715.4839 821.3983,715.6173 821.9581,716.5043 C818.6199,722.3867 814.5341,723.8746 809.7798,717.967 C807.3241,724.0601 801.824,724.9045 797.5438,719.9962 C794.6743,725.6303 789.6887,726.1298 785.929,720.9525 C783.052,726.8794 778.588,727.7615 773.8847,723.013 C770.5,728.7382 766.7926,728.4762 762.9065,723.5287 C760.4431,729.5392 755.536,729.2817 751.5919,725.1864 C747.7156,729.6409 742.0774,729.3105 740.1935,723.0641 C736.4176,729.3408 730.5878,729.3993 726.6437,723.2475 C722.6057,727.1814 718.3476,726.4778 716.4091,720.9714 C712.0203,726.4721 706.5806,726.3909 703.6914,719.4399 C700.9842,723.4865 696.0783,724.6474 693.4966,719.3037 C682.0434,727.6959 674.5466,721.5342 672.9411,709.4284 C673.8326,709.8741 673.8477,710.4371 673.2008,711.119 C665.8777,707.3143 665.514,702.2391 672.3304,697.5289 C666.7852,694.3011 664.985,689.8774 671.0417,685.4152 C664.2033,683.1257 664.8352,677.4464 669.2076,673.4399 C664.698,668.7794 664.4577,665.046 670.6651,661.718 C665.0861,657.0835 665.9986,650.7794 673.32,648.7953 C666.3393,639.4955 667.7121,631.7651 679.9411,628.8384 C680.7505,628.2059 681.2649,628.5976 681.5297,629.4293\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"65.8984\" x=\"716.9919\" y=\"646.8335\">External</text></g><!--entity rule--><g class=\"entity\" data-qualified-name=\"aws.evb.rule\" data-source-line=\"14\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"39.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"144.8096\" x=\"256.5411\" y=\"153.4584\"/><polygon fill=\"#FFFFFF\" points=\"384.3507,158.4584,384.3507,172.4584,396.3507,172.4584,396.3507,164.4584,390.3507,158.4584,384.3507,158.4584\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"390.3507\" x2=\"390.3507\" y1=\"158.4584\" y2=\"164.4584\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"396.3507\" x2=\"390.3507\" y1=\"164.4584\" y2=\"164.4584\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.0889\" x=\"266.5411\" y=\"179.4535\">Scheduler</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"336.63\" y=\"179.4535\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"341.0802\" y=\"179.4535\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"345.797\" y=\"179.4535\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.1035\" x=\"350.2472\" y=\"179.4535\">Rule</text></g><!--entity lambda--><g class=\"entity\" data-qualified-name=\"aws.lambdaNode.lambda\" data-source-line=\"18\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"101.4844\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"216.0752\" x=\"193.9011\" y=\"451.3484\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.2666\" x=\"203.9011\" y=\"474.3435\">Venmo</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"253.1677\" y=\"474.3435\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"81.5391\" x=\"257.6179\" y=\"474.3435\">Automation</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"339.157\" y=\"474.3435\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.3691\" x=\"343.6072\" y=\"474.3435\">Lambda</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"264.6282\" y=\"490.6404\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"313.1565\" y=\"490.6404\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.6426\" x=\"317.6067\" y=\"490.6404\">3.x</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.5547\" x=\"253.5711\" y=\"506.9373\">(handler.py</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"334.1257\" y=\"506.9373\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"338.5759\" y=\"506.9373\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"123.4707\" x=\"240.2034\" y=\"523.2342\">requirements.txt)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"30.7207\" x=\"207.8694\" y=\"539.531\">Env:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"238.5901\" y=\"539.531\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"152.9678\" x=\"243.0403\" y=\"539.531\">VENMO_AUTH_TOKEN</text></g><!--entity lambdaRole--><g class=\"entity\" data-qualified-name=\"aws.iam.lambdaRole\" data-source-line=\"22\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"130.5508\" x=\"236.6611\" y=\"295.7584\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.1318\" x=\"249.7476\" y=\"318.7535\">Execution</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"318.8794\" y=\"318.7535\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"30.7959\" x=\"323.3296\" y=\"318.7535\">Role</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"110.5508\" x=\"246.6611\" y=\"335.0504\">(least-privilege)</text></g><!--entity evbRole--><g class=\"entity\" data-qualified-name=\"aws.iam.evbRole\" data-source-line=\"23\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"198.7188\" x=\"402.5811\" y=\"295.7584\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"46.5732\" x=\"461.0308\" y=\"318.7535\">Invoke</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"507.6041\" y=\"318.7535\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"30.7959\" x=\"512.0543\" y=\"318.7535\">Role</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"91.2051\" x=\"412.5811\" y=\"335.0504\">(EventBridge</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"503.7862\" y=\"335.0504\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"16.7822\" x=\"508.2364\" y=\"335.0504\">-&gt;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"525.0186\" y=\"335.0504\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.8311\" x=\"529.4688\" y=\"335.0504\">Lambda)</text></g><!--entity logs--><g class=\"entity\" data-qualified-name=\"aws.cw.logs\" data-source-line=\"27\" id=\"ent0011\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"158.5029\" x=\"222.6911\" y=\"655.8384\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.5459\" x=\"285.6696\" y=\"678.8335\">Logs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.8311\" x=\"232.6911\" y=\"695.1304\">(Lambda</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"294.5222\" y=\"695.1304\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.3418\" x=\"298.9724\" y=\"695.1304\">log</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"320.3142\" y=\"695.1304\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"46.4297\" x=\"324.7644\" y=\"695.1304\">group)</text></g><!--entity alarms--><g class=\"entity\" data-qualified-name=\"aws.cw.alarms\" data-source-line=\"28\" id=\"ent0012\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"163.6982\" x=\"220.0911\" y=\"785.4284\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.7334\" x=\"277.5736\" y=\"808.4235\">Alarms</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.9082\" x=\"230.0911\" y=\"824.7204\">(error</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"269.9993\" y=\"824.7204\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.4375\" x=\"274.4495\" y=\"824.7204\">rate</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"302.887\" y=\"824.7204\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"307.3372\" y=\"824.7204\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"312.054\" y=\"824.7204\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.2852\" x=\"316.5042\" y=\"824.7204\">failures)</text></g><!--entity topic--><g class=\"entity\" data-qualified-name=\"aws.sns.topic\" data-source-line=\"32\" id=\"ent0014\"><rect fill=\"#FFFFFF\" height=\"36.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"95.3662\" x=\"254.2611\" y=\"941.0284\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.3252\" x=\"264.2611\" y=\"964.0235\">Alert</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"297.5863\" y=\"964.0235\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.5908\" x=\"302.0365\" y=\"964.0235\">Topic</text></g><!--entity email--><g class=\"entity\" data-qualified-name=\"aws.sns.email\" data-source-line=\"33\" id=\"ent0015\"><rect fill=\"#FFFFFF\" height=\"39.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"160.2793\" x=\"221.8011\" y=\"1052.3184\"/><polygon fill=\"#FFFFFF\" points=\"365.0804,1057.3184,365.0804,1071.3184,377.0804,1071.3184,377.0804,1063.3184,371.0804,1057.3184,365.0804,1057.3184\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"371.0804\" x2=\"371.0804\" y1=\"1057.3184\" y2=\"1063.3184\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"377.0804\" x2=\"371.0804\" y1=\"1063.3184\" y2=\"1063.3184\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.8418\" x=\"231.8011\" y=\"1078.3135\">Email</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"270.6429\" y=\"1078.3135\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"86.9873\" x=\"275.0931\" y=\"1078.3135\">Subscription</text></g><!--entity venmo--><g class=\"entity\" data-qualified-name=\"ext.venmo\" data-source-line=\"38\" id=\"ent0017\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"138.6035\" x=\"680.6411\" y=\"655.8384\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.2666\" x=\"712.0103\" y=\"678.8335\">Venmo</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"761.2769\" y=\"678.8335\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"765.7271\" y=\"678.8335\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"79.8438\" x=\"690.6411\" y=\"695.1304\">(venmo-api</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"770.4849\" y=\"695.1304\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.3096\" x=\"774.9351\" y=\"695.1304\">SDK)</text></g><!--link rule to lambda--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"41\" id=\"lnk18\"><path d=\"M256.1011,178.2584 C207.4611,185.2784 146.7711,203.1384 114.9411,247.7584 C82.7811,292.8384 89.1811,323.3384 114.9411,372.3484 C132.3611,405.4984 157.5478,428.5336 188.6978,448.4736\" fill=\"none\" id=\"rule-to-lambda\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"193.7511,451.7084,188.3277,443.4874,189.54,449.0128,184.0146,450.2251,193.7511,451.7084\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"61.3945\" x=\"115.9411\" y=\"326.6971\">scheduled</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"177.3357\" y=\"326.6971\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.7148\" x=\"181.1501\" y=\"326.6971\">invoke</text></g><!--link lambda to venmo--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0017\" data-link-type=\"dependency\" data-source-line=\"42\" id=\"lnk19\"><path d=\"M410.3911,546.1884 C496.2311,580.3084 607.6853,624.6025 679.5253,653.1525\" fill=\"none\" id=\"lambda-to-venmo\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"685.1011,655.3684,678.2147,648.3274,680.4546,653.5218,675.2601,655.7618,685.1011,655.3684\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.5371\" x=\"539.9411\" y=\"596.9771\">HTTPS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"578.4782\" y=\"596.9771\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.9844\" x=\"582.2927\" y=\"596.9771\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"601.2771\" y=\"596.9771\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.8711\" x=\"605.0915\" y=\"596.9771\">calls</text></g><!--link lambdaRole to lambda--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"44\" id=\"lnk20\"><path d=\"M301.9411,348.5684 C301.9411,375.1984 301.9411,411.6584 301.9411,445.0284\" fill=\"none\" id=\"lambdaRole-to-lambda\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"301.9411,451.0284,305.9411,442.0284,301.9411,446.0284,297.9411,442.0284,301.9411,451.0284\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"54.1523\" x=\"302.9411\" y=\"392.4871\">assumed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"357.0935\" y=\"392.4871\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.7188\" x=\"360.9079\" y=\"392.4871\">by</text></g><!--link rule to evbRole--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"45\" id=\"lnk21\"><path d=\"M351.2011,193.0184 C381.8711,219.0684 432.6277,262.1846 467.0477,291.4146\" fill=\"none\" id=\"rule-to-evbRole\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"471.6211,295.2984,467.3502,286.4238,467.81,292.0619,462.1718,292.5216,471.6211,295.2984\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.4922\" x=\"405.9411\" y=\"236.8971\">uses</text></g><!--link lambda to logs--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"47\" id=\"lnk22\"><path d=\"M301.9411,553.1584 C301.9411,586.4884 301.9411,622.8784 301.9411,649.5184\" fill=\"none\" id=\"lambda-to-logs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"301.9411,655.5184,305.9411,646.5184,301.9411,650.5184,297.9411,646.5184,301.9411,655.5184\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"36.4219\" x=\"302.9411\" y=\"596.9771\">writes</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"339.363\" y=\"596.9771\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.5449\" x=\"343.1775\" y=\"596.9771\">logs</text></g><!--link alarms to topic--><g class=\"link\" data-entity-1=\"ent0012\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"48\" id=\"lnk23\"><path d=\"M301.9411,838.3984 C301.9411,867.7584 301.9411,909.0484 301.9411,934.5384\" fill=\"none\" id=\"alarms-to-topic\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"301.9411,940.5384,305.9411,931.5384,301.9411,935.5384,297.9411,931.5384,301.9411,940.5384\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"43.3652\" x=\"302.9411\" y=\"882.1671\">publish</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"346.3064\" y=\"882.1671\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.6641\" x=\"350.1208\" y=\"882.1671\">alarm</text></g><!--link logs to alarms--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"49\" id=\"lnk24\"><path d=\"M301.9411,708.6484 C301.9411,730.8984 301.9411,757.0184 301.9411,779.2584\" fill=\"none\" id=\"logs-to-alarms\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"301.9411,785.2584,305.9411,776.2584,301.9411,780.2584,297.9411,776.2584,301.9411,785.2584\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"44.8945\" x=\"302.9411\" y=\"752.5671\">metrics</text></g><!--link topic to email--><g class=\"link\" data-entity-1=\"ent0014\" data-entity-2=\"ent0015\" data-link-type=\"dependency\" data-source-line=\"51\" id=\"lnk25\"><path d=\"M301.9411,977.4884 C301.9411,997.6884 301.9411,1024.9984 301.9411,1045.9184\" fill=\"none\" id=\"topic-to-email\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"301.9411,1051.9184,305.9411,1042.9184,301.9411,1046.9184,297.9411,1042.9184,301.9411,1051.9184\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.3125\" x=\"302.9411\" y=\"1019.4571\">notify</text></g><?plantuml-src PLHBJ-Cm4BxdLmmzKQsIikojXvMwK0a4b8fquOA4N6UQM3Xsre-qtHN_VSTEA85MbUBuUypu6oid1Mw4GfWzvKjVIwYSQ-nqCZ5icvN2LNxjBHgkbKFbCgxh2TjQoTOsF5D1W4qtsgIDPCgHmQGzFylE9eMmBZaHYajV7CmdzBpGTQrLrj1hajXNeHfcM0ssOeNU2bN2XacB0uHADbfHyTpj9O91xfWgvP2oDQnv4eMhuFpyRB1VizqTMijApCLVXEy49auuSdb4LMkOUQThveHMG7zg3awlH5cb4bkKS8cDrFkQAe-JX4lj2nW5penpxPKR0RD06S2_905GceuvchV4_cL4KMA4iLqJ3FHZneaDumv6EQ-my18DJE21df5eQ46yjm-hKEcMrUk2HOACoqM0EiD3B30wEaodUrRBlQlezKUsUrQd5LC5LSsQFNoZ5FzuOJ0SpcPkvyRFQgxQAJpE5tVtBxFVgwkNrVtDV36e_RczwzbTn0J5VDJGV8VSnquUj4IgBP5PbpP6j49YYUE1RM1yrL-hLh_YktWGAgG_-yEDt_FjzOFMBiAedfZZLUJmxN63jxgqvDnPWTGbb4Rxfk-BmA-2cMIc3X8qHXimp26DRyE4z0PjfsEHyxcNV957p2fxtCMCnk5WfHl18yc5rPVRCg-f1kH-RRaHJSYqEtZOZgNU3dTpldDe59CTOUTYmUDhihocOxHXdR96G7vvqxKVju9Tk8kGKjBTW60Ajh-o1OWucQH70YdAY7ErMYtpu0wSIMcJv6Eya6K3CsQjhybglUyg1R2V8w7qiJbekoPe6hI_DS9XFvikw8Z6o0Xk_5eAMtKpIA8c-FRCATJeZE3at0c2D4P8aDAKzVu_?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Components\n- **Amazon EventBridge (Scheduler/Rule)**: Triggers the workflow on a schedule (inferred from README).\n- **AWS Lambda function (Python 3.x)**: Runs the core automation logic implemented in `handler.py`, packaged with dependencies from `requirements.txt` (notably `venmo-api`). Requires **`VENMO_AUTH_TOKEN`** environment variable to authenticate to Venmo.\n- **AWS IAM**:\n  - **Lambda execution role**: Permissions for Lambda to write logs/metrics and interact with AWS services it uses.\n  - **EventBridge invoke role**: Allows EventBridge to invoke the Lambda function.\n- **Amazon CloudWatch**:\n  - **Logs**: Lambda writes execution logs to a log group.\n  - **Alarms**: Monitors Lambda health (e.g., errors/failures) and triggers notifications.\n- **Amazon SNS**:\n  - **Topic**: Receives alarm notifications.\n  - **Email subscription**: Sends alert emails to operators.\n- **External Venmo API**: Lambda calls Venmo over HTTPS using the `venmo-api` SDK.\n\n### Key flows\n1. **Scheduled execution**: EventBridge Scheduler/Rule invokes the Lambda function.\n2. **Business action**: Lambda performs HTTPS requests to the **Venmo API** using the provided auth token.\n3. **Observability & alerting**: Lambda writes logs to CloudWatch; CloudWatch Alarms evaluate metrics and publish to SNS; SNS delivers email notifications."
}