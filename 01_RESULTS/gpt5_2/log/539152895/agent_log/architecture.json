{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle Flask Web App Deployment (HCP Waypoint -> Docker (dev) / AWS ECS (prod))\n\nactor \"Developer\" as dev\n\nnode \"HCP Waypoint\\n(Project/App)\" as waypoint {\n  artifact \"waypoint.hcl\\n- build: Docker\\n- deploy: docker (dev)\\n- deploy: aws-ecs (ecs)\\n- vars: REGISTRY_* , aws_region\\n- env: PLATFORM\" as hcl\n}\n\ncloud \"Container Registry\\n(Docker Registry)\" as registry {\n  artifact \"Image: ${REGISTRY_IMAGENAME}\\nAuth: REGISTRY_USERNAME/PASSWORD\" as image\n}\n\nnode \"Dev Machine\" as local {\n  node \"Local Docker Engine\" as docker {\n    node \"Flask Container\\nPython + Flask\\nGunicorn + gevent\\nPort 8080\" as dev_container\n  }\n}\n\nnode \"AWS Cloud\" as aws {\n  node \"Amazon ECS Cluster\" as ecs {\n    node \"ECS Service\\nTask (memory=512)\" as service {\n      node \"Flask Container\\nPython + Flask\\nGunicorn + gevent\\nPort 8080\" as ecs_container\n    }\n  }\n}\n\ncloud \"Clients\" as clients\n\ndev --> waypoint : triggers build/deploy\nwaypoint --> registry : push container image\nregistry --> docker : pull image\nregistry --> ecs : pull image\n\nclients --> dev_container : HTTP :8080 (dev)\nclients --> ecs_container : HTTP :8080 (ecs)\n\nhcl ..> dev_container : sets env PLATFORM=dev\nhcl ..> ecs_container : sets env PLATFORM=ecs\n\nnote right of dev_container\nWSGI entrypoint: app/wsgi.py\nGunicorn bind: 0.0.0.0:8080\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1091px\" preserveAspectRatio=\"none\" style=\"width:1085px;height:1091px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1085 1091\" width=\"1085px\" zoomAndPan=\"magnify\"><title>Flask Web App Deployment (HCP Waypoint -&gt; Docker (dev) / AWS ECS (prod))</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"616.3486\" x=\"227.6114\" y=\"22.9951\">Flask Web App Deployment (HCP Waypoint -&gt; Docker (dev) / AWS ECS (prod))</text></g><!--cluster waypoint--><g class=\"cluster\" data-qualified-name=\"waypoint\" data-source-line=\"13\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"492.38,212.8469,502.38,202.8469,750.38,202.8469,750.38,417.9169,740.38,427.9169,492.38,427.9169,492.38,212.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"740.38\" x2=\"750.38\" y1=\"212.8469\" y2=\"202.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"492.38\" x2=\"740.38\" y1=\"212.8469\" y2=\"212.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"740.38\" x2=\"740.38\" y1=\"212.8469\" y2=\"427.9169\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"112.2393\" x=\"561.2604\" y=\"228.842\">HCP Waypoint</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"104.8564\" x=\"564.9518\" y=\"245.1389\">(Project/App)</text></g><!--cluster registry--><g class=\"cluster\" data-qualified-name=\"registry\" data-source-line=\"17\" id=\"ent0005\"><path d=\"M170.8756,513.9216 C178.7245,501.6102 186.7746,503.5099 194.186,514.362 C198.6203,503.9459 207.5452,504.5762 213.5481,512.7262 C218.4814,499.3296 228.0927,498.5556 236.6953,509.1923 C244.0055,496.6727 252.5216,498.6185 260.3474,508.6515 C265.4852,497.0243 275.0547,498.7504 281.4944,507.2861 C288.2344,498.4978 294.1537,498.4611 300.4977,507.7036 C307.0607,496.2981 316.6466,496.2626 324.9993,505.5885 C334.3554,495.6752 342.1329,498.991 348.0422,509.4812 C353.696,498.9509 359.9846,500.1253 366.6611,508.4725 C373.7955,497.9097 384.6088,498.8924 390.1433,510.1911 C396.2001,500.3258 406.2516,500.7401 412.4365,510.042 C419.7585,498.5278 430.7051,498.6515 436.1912,511.8096 C443.5051,502.6508 452.403,504.5503 456.532,515.0973 C466.4022,501.8638 478.5893,504.8548 483.38,519.9169 C484.8459,520.7581 484.9668,522.1417 483.6527,523.2129 C497.3279,525.1305 500.0708,535.9775 491.0093,545.4254 C502.4912,552.2179 501.2409,563.3532 490.9276,570.0734 C503.3981,573.9569 504.9873,581.5574 496.165,590.8169 C508.0103,600.2711 503.1178,610.8805 491.4006,615.8503 C502.1706,624.1069 500.2,634.6651 487.1124,638.3809 C499.562,652.1221 492.8536,664.8082 476.38,668.1069 C477.3146,667.3099 478.0816,667.5171 478.3863,668.7343 C472.682,678.9173 464.6518,680.6089 457.1075,670.6812 C449.5845,679.3734 441.358,680.0619 434.8397,669.5181 C427.4577,681.5343 419.0059,682.8955 410.8644,670.2567 C404.9303,679.9549 397.8507,679.7787 390.612,671.747 C383.5586,684.7686 373.92,683.8729 366.9113,671.7049 C359.5048,682.5088 352.8553,682.5342 345.2198,671.937 C341.3235,682.4571 331.9336,684.0505 325.4089,674.536 C318.3366,683.893 311.1571,684.0706 304.048,674.5777 C296.298,683.5096 286.517,682.8839 281.6096,671.4463 C273.9401,682.5982 264.695,681.6469 256.763,671.7562 C251.4515,681.4236 243.3086,680.1275 238.0462,671.7055 C231.4761,682.3411 219.7262,680.7718 214.0859,670.6331 C207.9542,679.8624 198.8616,679.2894 193.4419,669.8459 C178.7255,680.8022 168.5172,677.9575 161.38,661.1069 C162.8041,659.7709 164.0268,659.996 164.9938,661.6579 C151.1463,658.3991 150.6164,646.3977 159.3101,637.7747 C147.0469,631.9579 147.8998,622.0832 157.3243,614.4223 C148.5888,607.9298 149.3339,600.2455 157.7017,594.0702 C143.5875,586.9188 147.0459,574.1481 157.8907,567.1721 C147.7098,558.0128 148.1076,550.2765 160.5742,543.7071 C147.2044,529.9356 153.1109,519.428 168.38,512.9169 C169.553,511.8316 170.7373,512.4369 170.8756,513.9216\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"148.1895\" x=\"248.2853\" y=\"530.912\">Container Registry</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"139.0703\" x=\"252.8448\" y=\"547.2089\">(Docker Registry)</text></g><!--cluster local--><g class=\"cluster\" data-qualified-name=\"local\" data-source-line=\"21\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"149.38,805.1069,159.38,795.1069,453.38,795.1069,453.38,1040.2969,443.38,1050.2969,149.38,1050.2969,149.38,805.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"443.38\" x2=\"453.38\" y1=\"805.1069\" y2=\"795.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"149.38\" x2=\"443.38\" y1=\"805.1069\" y2=\"805.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"443.38\" x2=\"443.38\" y1=\"805.1069\" y2=\"1050.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"101.0215\" x=\"246.8693\" y=\"821.102\">Dev Machine</text></g><!--cluster docker--><g class=\"cluster\" data-qualified-name=\"local.docker\" data-source-line=\"22\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"181.38,861.1069,191.38,851.1069,421.38,851.1069,421.38,1008.2969,411.38,1018.2969,181.38,1018.2969,181.38,861.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"411.38\" x2=\"421.38\" y1=\"861.1069\" y2=\"851.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"181.38\" x2=\"411.38\" y1=\"861.1069\" y2=\"861.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"411.38\" x2=\"411.38\" y1=\"861.1069\" y2=\"1018.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"159.8926\" x=\"217.4337\" y=\"877.102\">Local Docker Engine</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"27\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"477.38,741.1069,487.38,731.1069,848.38,731.1069,848.38,1064.2969,838.38,1074.2969,477.38,1074.2969,477.38,741.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"838.38\" x2=\"848.38\" y1=\"741.1069\" y2=\"731.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"477.38\" x2=\"838.38\" y1=\"741.1069\" y2=\"741.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"838.38\" x2=\"838.38\" y1=\"741.1069\" y2=\"1074.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"85.9141\" x=\"615.923\" y=\"757.102\">AWS Cloud</text></g><!--cluster ecs--><g class=\"cluster\" data-qualified-name=\"aws.ecs\" data-source-line=\"28\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"509.38,797.1069,519.38,787.1069,816.38,787.1069,816.38,1032.2969,806.38,1042.2969,509.38,1042.2969,509.38,797.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"806.38\" x2=\"816.38\" y1=\"797.1069\" y2=\"787.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"509.38\" x2=\"806.38\" y1=\"797.1069\" y2=\"797.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"806.38\" x2=\"806.38\" y1=\"797.1069\" y2=\"1042.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"158.7373\" x=\"579.5113\" y=\"813.102\">Amazon ECS Cluster</text></g><!--cluster service--><g class=\"cluster\" data-qualified-name=\"aws.ecs.service\" data-source-line=\"29\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"549.38,853.1069,559.38,843.1069,784.38,843.1069,784.38,1000.2969,774.38,1010.2969,549.38,1010.2969,549.38,853.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"774.38\" x2=\"784.38\" y1=\"853.1069\" y2=\"843.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"549.38\" x2=\"774.38\" y1=\"853.1069\" y2=\"853.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"774.38\" x2=\"774.38\" y1=\"853.1069\" y2=\"1010.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"92.9961\" x=\"616.382\" y=\"869.102\">ECS Service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"159.585\" x=\"583.0875\" y=\"885.3989\">Task (memory=512)</text></g><!--entity hcl--><g class=\"entity\" data-qualified-name=\"waypoint.hcl\" data-source-line=\"14\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"137.0781\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"190.7539\" x=\"516\" y=\"266.8469\"/><polygon fill=\"#FFFFFF\" points=\"689.7539,271.8469,689.7539,285.8469,701.7539,285.8469,701.7539,277.8469,695.7539,271.8469,689.7539,271.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"695.7539\" x2=\"695.7539\" y1=\"271.8469\" y2=\"277.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"701.7539\" x2=\"695.7539\" y1=\"277.8469\" y2=\"277.8469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"88.9287\" x=\"561.9126\" y=\"292.842\">waypoint.hcl</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"555.0698\" y=\"309.1389\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"560.1216\" y=\"309.1389\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.1426\" x=\"564.5718\" y=\"309.1389\">build:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"603.7144\" y=\"309.1389\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"608.1646\" y=\"309.1389\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"529.0864\" y=\"325.4357\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"534.1382\" y=\"325.4357\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.8438\" x=\"538.5884\" y=\"325.4357\">deploy:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"590.4321\" y=\"325.4357\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"47.626\" x=\"594.8823\" y=\"325.4357\">docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"642.5083\" y=\"325.4357\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.709\" x=\"646.9585\" y=\"325.4357\">(dev)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"526\" y=\"341.7326\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"531.0518\" y=\"341.7326\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.8438\" x=\"535.502\" y=\"341.7326\">deploy:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"587.3457\" y=\"341.7326\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.9795\" x=\"591.7959\" y=\"341.7326\">aws-ecs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"647.7754\" y=\"341.7326\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.5283\" x=\"652.2256\" y=\"341.7326\">(ecs)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"536.001\" y=\"358.0295\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"541.0527\" y=\"358.0295\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.6309\" x=\"545.5029\" y=\"358.0295\">vars:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"580.1338\" y=\"358.0295\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"83.2686\" x=\"584.584\" y=\"358.0295\">REGISTRY_*</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"667.8525\" y=\"358.0295\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"672.3027\" y=\"358.0295\">,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.9072\" x=\"566.9233\" y=\"374.3264\">aws_region</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"546.5317\" y=\"390.6232\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"551.5835\" y=\"390.6232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"30.4883\" x=\"556.0337\" y=\"390.6232\">env:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"586.522\" y=\"390.6232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"75.25\" x=\"590.9722\" y=\"390.6232\">PLATFORM</text></g><!--entity image--><g class=\"entity\" data-qualified-name=\"registry.image\" data-source-line=\"18\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"88.1875\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"270.8301\" x=\"176.96\" y=\"563.9169\"/><polygon fill=\"#FFFFFF\" points=\"430.7901,568.9169,430.7901,582.9169,442.7901,582.9169,442.7901,574.9169,436.7901,568.9169,430.7901,568.9169\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"436.7901\" x2=\"436.7901\" y1=\"568.9169\" y2=\"574.9169\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"442.7901\" x2=\"436.7901\" y1=\"574.9169\" y2=\"574.9169\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5625\" x=\"283.0938\" y=\"589.912\">Image:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"189.4443\" x=\"212.6529\" y=\"606.2089\">${REGISTRY_IMAGENAME}</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.5293\" x=\"288.6104\" y=\"622.5057\">Auth:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"240.8301\" x=\"186.96\" y=\"638.8026\">REGISTRY_USERNAME/PASSWORD</text></g><!--entity dev_container--><g class=\"entity\" data-qualified-name=\"local.docker.dev_container\" data-source-line=\"23\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"224.99,909.1069,234.99,899.1069,397.7576,899.1069,397.7576,984.2944,387.7576,994.2944,224.99,994.2944,224.99,909.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"387.7576\" x2=\"397.7576\" y1=\"909.1069\" y2=\"899.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"224.99\" x2=\"387.7576\" y1=\"909.1069\" y2=\"909.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"387.7576\" x2=\"387.7576\" y1=\"909.1069\" y2=\"994.2944\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"251.9802\" y=\"932.102\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"287.9031\" y=\"932.102\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"292.3533\" y=\"932.102\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"253.8328\" y=\"948.3989\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"302.3611\" y=\"948.3989\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"306.8113\" y=\"948.3989\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"318.5418\" y=\"948.3989\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"322.992\" y=\"948.3989\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.376\" x=\"239.99\" y=\"964.6957\">Gunicorn</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"303.366\" y=\"964.6957\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"307.8162\" y=\"964.6957\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"319.5466\" y=\"964.6957\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.7607\" x=\"323.9968\" y=\"964.6957\">gevent</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.2529\" x=\"272.2078\" y=\"980.9926\">Port</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"300.4607\" y=\"980.9926\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.6289\" x=\"304.9109\" y=\"980.9926\">8080</text></g><!--entity ecs_container--><g class=\"entity\" data-qualified-name=\"aws.ecs.service.ecs_container\" data-source-line=\"30\" id=\"ent0013\"><polygon fill=\"#FFFFFF\" points=\"574.99,909.1069,584.99,899.1069,747.7576,899.1069,747.7576,984.2944,737.7576,994.2944,574.99,994.2944,574.99,909.1069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"737.7576\" x2=\"747.7576\" y1=\"909.1069\" y2=\"899.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"574.99\" x2=\"737.7576\" y1=\"909.1069\" y2=\"909.1069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"737.7576\" x2=\"737.7576\" y1=\"909.1069\" y2=\"994.2944\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"601.9802\" y=\"932.102\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"637.9031\" y=\"932.102\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"642.3533\" y=\"932.102\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"603.8328\" y=\"948.3989\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"652.3611\" y=\"948.3989\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"656.8113\" y=\"948.3989\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"668.5418\" y=\"948.3989\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"672.992\" y=\"948.3989\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.376\" x=\"589.99\" y=\"964.6957\">Gunicorn</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"653.366\" y=\"964.6957\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"657.8162\" y=\"964.6957\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"669.5466\" y=\"964.6957\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.7607\" x=\"673.9968\" y=\"964.6957\">gevent</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.2529\" x=\"622.2078\" y=\"980.9926\">Port</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"650.4607\" y=\"980.9926\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.6289\" x=\"654.9109\" y=\"980.9926\">8080</text></g><!--entity dev--><g class=\"entity\" data-qualified-name=\"dev\" data-source-line=\"11\" id=\"ent0002\"><ellipse cx=\"742.3815\" cy=\"51.2969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M742.3815,59.2969 L742.3815,86.2969 M729.3815,67.2969 L755.3815,67.2969 M742.3815,86.2969 L729.3815,101.2969 M742.3815,86.2969 L755.3815,101.2969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"72.0029\" x=\"706.38\" y=\"116.542\">Developer</text></g><!--entity clients--><g class=\"entity\" data-qualified-name=\"clients\" data-source-line=\"35\" id=\"ent0014\"><path d=\"M526.5219,594.1613 C529.9929,586.2877 537.5124,585.8841 542.2496,592.8164 C545.3654,584.583 553.2977,584.2343 558.5858,590.3419 C564.9171,584.4976 571.0335,584.4166 574.7394,593.2343 C579.0518,587.8692 584.9192,587.5474 588.5755,594.0023 C597.4999,596.3877 598.7797,603.7714 592.4853,609.8997 C599.0118,614.6485 598.3977,621.454 590.459,624.1452 C586.5425,633.0595 580.3075,634.3593 573.0769,627.8895 C570.2073,636.4499 565.2363,638.0585 557.9496,632.6848 C551.0993,639.9632 545.537,638.0092 542.4961,629.0577 C536.1748,634.4432 530.5229,631.7692 528.6497,624.2756 C519.9392,623.5349 517.0835,616.4858 522.1178,609.6194 C515.3021,602.909 517.8692,596.4647 526.5219,594.1613\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"47.8242\" x=\"533.47\" y=\"612.862\">Clients</text></g><g class=\"entity\" data-qualified-name=\"GMN23\" data-source-line=\"49\" id=\"ent0024\"><path d=\"M864.19,926.5669 L864.19,966.8325 L1078.5713,966.8325 L1078.5713,936.5669 L1068.5713,926.5669 L864.19,926.5669\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M1068.5713,926.5669 L1068.5713,936.5669 L1078.5713,936.5669 L1068.5713,926.5669\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"35.0137\" x=\"870.19\" y=\"943.6338\">WSGI</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"905.2037\" y=\"943.6338\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"71.9063\" x=\"909.336\" y=\"943.6338\">entrypoint:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"981.2422\" y=\"943.6338\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"78.1968\" x=\"985.3746\" y=\"943.6338\">app/wsgi.py</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"58.8491\" x=\"875.4839\" y=\"958.7666\">Gunicorn</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"934.3331\" y=\"958.7666\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"32.7349\" x=\"938.4654\" y=\"958.7666\">bind:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"971.2003\" y=\"958.7666\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"82.9448\" x=\"975.3326\" y=\"958.7666\">0.0.0.0:8080</text></g><!--link dev to waypoint--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"37\" id=\"lnk15\"><path d=\"M742.38,120.2869 C742.38,137.6644 742.38,159.455 742.38,182.4342 C742.38,188.179 742.38,193.9981 742.38,199.8411 C742.38,200.5715 742.38,195.3022 742.38,196.0333\" fill=\"none\" id=\"dev-to-waypoint\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"742.38,202.0333,746.38,193.0333,742.38,197.0333,738.38,193.0333,742.38,202.0333\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.7754\" x=\"756.965\" y=\"161.9855\">triggers</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"73.9453\" x=\"743.38\" y=\"175.9543\">build/deploy</text></g><!--link waypoint to registry--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"38\" id=\"lnk16\"><path d=\"M733.6754,428.1167 C733.5899,428.2818 733.5037,428.4465 733.417,428.6109 C733.2436,428.9397 733.0678,429.2671 732.8896,429.5931 C730.0383,434.8083 726.5738,439.6519 722.38,443.9169 C652.1,515.3969 570.48,416.3069 501.38,488.9169 C496.8762,493.6506 495.9597,493.6755 492.99,499.4305\" fill=\"none\" id=\"waypoint-to-registry\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"490.2386,504.7625,497.9203,498.5988,492.5314,500.3192,490.811,494.9303,490.2386,504.7625\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.0801\" x=\"710.38\" y=\"464.0555\">push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"739.4601\" y=\"464.0555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.8594\" x=\"743.2745\" y=\"464.0555\">container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"736.5685\" y=\"478.0243\">image</text></g><!--link registry to docker--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"39\" id=\"lnk17\"><path d=\"M475.8635,676.1163 C474.8397,678.1534 473.7056,680.1245 472.4503,682.0089 C469.9398,685.7777 466.945,689.1994 463.38,692.1069 C442.96,708.7669 249.7,687.8469 226.38,700.1069 C178.29,725.3919 168.575,785.2819 171.11,839.5881 C172.3775,866.7413 176.7075,892.4984 180.8344,911.8361 C180.9633,912.4404 179.8189,907.1751 179.9473,907.7667\" fill=\"none\" id=\"registry-to-docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"181.2206,913.63,183.2196,903.9862,180.1596,908.7439,175.4018,905.6838,181.2206,913.63\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.8906\" x=\"227.38\" y=\"712.2455\">pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"249.2706\" y=\"712.2455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"253.0851\" y=\"712.2455\">image</text></g><!--link registry to ecs--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"40\" id=\"lnk18\"><path d=\"M475.5997,676.4114 C475.5351,676.5386 475.4701,676.6654 475.4047,676.7921 C475.2738,677.0453 475.1412,677.2975 475.0069,677.5486 C474.7382,678.0508 474.4625,678.5487 474.1797,679.0419 C473.614,680.0282 473.0197,680.9958 472.3954,681.942 C469.8981,685.727 466.9213,689.1706 463.38,692.1069 C449.68,703.4669 315.65,687.2169 303.38,700.1069 C298.78,704.9369 298.84,710.2269 303.38,715.1069 C320.07,733.0569 393.19,709.2069 413.38,723.1069 C457.64,753.5969 483.525,807.9969 498.4013,855.3844 C502.1203,867.2312 505.1513,878.6398 507.6094,889.127 C508.2239,891.7488 507.5249,888.4506 508.0695,890.9497\" fill=\"none\" id=\"registry-to-ecs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"509.3473,896.812,511.3389,887.1666,508.2825,891.9267,503.5224,888.8703,509.3473,896.812\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.8906\" x=\"304.38\" y=\"712.2455\">pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"326.2706\" y=\"712.2455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"330.0851\" y=\"712.2455\">image</text></g><!--link clients to dev_container--><g class=\"link\" data-entity-1=\"ent0014\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"42\" id=\"lnk19\"><path d=\"M548.15,631.4369 C538.87,650.9169 522.6,678.1569 499.38,692.1069 C474.05,707.3269 457.51,683.0569 433.38,700.1069 C366.5,747.3669 335.8374,836.1567 321.9774,893.1667\" fill=\"none\" id=\"clients-to-dev_container\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"320.56,898.9969,326.5729,891.1965,321.7412,894.1384,318.7993,889.3067,320.56,898.9969\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"434.38\" y=\"712.2455\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"465.2999\" y=\"712.2455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.582\" x=\"469.1144\" y=\"712.2455\">:8080</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"503.6964\" y=\"712.2455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"31.4648\" x=\"507.5109\" y=\"712.2455\">(dev)</text></g><!--link clients to ecs_container--><g class=\"link\" data-entity-1=\"ent0014\" data-entity-2=\"ent0013\" data-link-type=\"dependency\" data-source-line=\"43\" id=\"lnk20\"><path d=\"M549.88,631.6569 C543.77,654.5569 538.48,690.0569 554.38,715.1069 C558.85,722.1569 565.64,717.0469 571.38,723.1069 C618.21,772.6269 640.6182,843.832 651.6482,893.062\" fill=\"none\" id=\"clients-to-ecs_container\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"652.96,898.9169,654.8956,889.2601,651.8668,894.0378,647.0891,891.0091,652.96,898.9169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"555.38\" y=\"712.2455\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"586.2999\" y=\"712.2455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.582\" x=\"590.1144\" y=\"712.2455\">:8080</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"624.6964\" y=\"712.2455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.5957\" x=\"628.5109\" y=\"712.2455\">(ecs)</text></g><!--link hcl to dev_container--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"45\" id=\"lnk21\"><path d=\"M515.57,349.0969 C373.53,370.1269 117.93,417.1169 63.38,488.9169 C8.75,560.8269 6,622.3769 63.38,692.1069 C74.75,705.9269 207.58,711.7169 221.38,723.1069 C274.74,767.1669 295.7152,841.765 304.5852,892.935\" fill=\"none\" id=\"hcl-to-dev_container\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"305.61,898.8469,308.0141,889.2959,304.756,893.9203,300.1316,890.6623,305.61,898.8469\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.5918\" x=\"87.4601\" y=\"605.6555\">sets</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"112.0519\" y=\"605.6555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"22.0898\" x=\"115.8663\" y=\"605.6555\">env</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"96.6563\" x=\"64.38\" y=\"619.6243\">PLATFORM=dev</text></g><!--link hcl to ecs_container--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0013\" data-link-type=\"dependency\" data-source-line=\"46\" id=\"lnk22\"><path d=\"M623.76,404.1269 C636.39,476.9569 655.13,596.2669 662.38,700.1069 C662.84,706.7569 662.39,708.4469 662.38,715.1069 C662.24,778.7669 661.9222,846.297 661.6722,892.887\" fill=\"none\" id=\"hcl-to-ecs_container\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"661.64,898.8869,665.6882,889.9085,661.6668,893.8869,657.6884,889.8655,661.64,898.8869\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.5918\" x=\"684.5255\" y=\"605.6555\">sets</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"709.1173\" y=\"605.6555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"22.0898\" x=\"712.9318\" y=\"605.6555\">env</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"94.7871\" x=\"662.38\" y=\"619.6243\">PLATFORM=ecs</text></g><!--link dev_container to GMN23--><g class=\"link\" data-entity-1=\"ent0009\" data-entity-2=\"ent0024\" data-link-type=\"association\" data-source-line=\"49\" id=\"lnk25\"><path d=\"M334.36,898.7469 C366.1,839.2269 429.72,741.4169 518.88,707.6069 C566.05,689.7269 698.71,689.7269 745.88,707.6069 C854.72,748.8769 933.29,876.2069 960.72,926.2269\" fill=\"none\" id=\"dev_container-GMN23\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/></g><?plantuml-src hLHjRzem4FxkNt55-q2tGHZIf2fI9o6W5AciY32XIKYLIKpYrR4Zsu7Hglzzvxmjq7sSa03xdhjxxkuvNqLipoM3qIPOvgc0nDhC-9wdwR4VSvlakzmm7IffcRJzKAKUFHf1TyRzzZWQJ6-lT2yJL5eCu1s6W_x0YxYnv8hBKEHH4zp3tx5AKoNx6Hu9CSzSPbJJ54n28tNaCeOz5OQrB9WoKnAJ1_Oa66WMMYfZqOOSDSqsFB8938U3rdrAVo-OCJHc0NzXy0MDn7ABKUu4DS-mOJiOPHbCM2RKASKSqBqVBs53JvdYUEfzWuaAdvc6RiGEr-2vIc0w3g2RQHLTNnD2GwiqT2Rim8JAcEu0DO1WGgJ2oZljU5lPNMhr2olmCErr0JtMkLu90DMMxp4YTEhhVXAAhUp1BkSYyYisxY8gEFiGjVYrxzrqM6YWYr-5uK2ryM4rdSs3zUhdqqVux31FciLSIGTWyk33yc6qldjSBGfkc9ky4H8AbKVG6QC6A4f5mmfzZDKdhATgJtrJrgIhqqLDynGduSE7ruR4V36QJR-F5jEthHpbDcdn-n5CLyxYBKT1i7bSJOh8t8LmdChcOjTXGSC4MHLceK8gYgob_Q4uLnodCgvnLTCSi8QMYcXgtChboIPAmgTIArivooMgNRkR68VjfhbKsiBDu6PG3_qfhFqnyjjVdaurOzV50eXjRt4SfVG5ypXHZKLkR2KXDxisFsSFc3xma6tbsd7jfYnL-dJxzSkmRBifpPNR_oiCgPmLvaghogkb8JZwcG8Tbly9mNv03pUeKRWFLlCuPjgKSlPAhP86uD2DTdp8SfD0axYQVMDtu6gE3Yh4lm2kYsTMKj4htTiJGzpzUhq4tzLTxjCP-AmB5s2tOuJWka2__pwiOHW2jwjPhbltFjJeoxZlqOXmGhBu-F4uiQ3s5rhR1BCvkc3HHHzn-RFCEvgOzxCJQSQxun9V47oStQSWJfYCm0N-0m00?></g></svg>",
  "architecture_description": "## High-level architecture\n\nThis codebase is a **containerized Python web service**:\n- **Application runtime:** Python + **Flask**\n- **Web server:** **Gunicorn** (WSGI) with **gevent** workers\n- **Network:** container listens on **port 8080** (`EXPOSE 8080`, Gunicorn binds `0.0.0.0:8080`)\n- **Entry point:** `app/wsgi.py`\n\n## Delivery / deployment flow (HCP Waypoint)\n\n**HCP Waypoint** orchestrates build and deployment using `waypoint.hcl`:\n1. **Build:** Waypoint builds a Docker image from the repository `Dockerfile`.\n2. **Registry push:** The image is pushed to a configured **container registry** using credentials/variables:\n   - `REGISTRY_USERNAME`, `REGISTRY_PASSWORD`, `REGISTRY_IMAGENAME`\n3. **Deploy targets:** Waypoint supports two deployment targets:\n   - **Dev:** deploys to **local Docker** (`deploy use \"docker\"`)\n   - **Prod/Cloud:** deploys to **AWS ECS** (`deploy use \"aws-ecs\"`, region from `var.aws_region`, task memory `512`)\n\n## Runtime configuration\n\nThe application reads an environment variable **`PLATFORM`** (from `app/app.py`). Waypoint sets this per target via `static_environment`:\n- Local Docker deployment sets `PLATFORM=dev`\n- ECS deployment sets `PLATFORM=ecs`\n\n## External dependencies\n\nFrom the provided analysis, the architecture does **not** require a database, cache, or object storage. The primary external dependency is the **container registry** used for distributing the built image to both local Docker and ECS."
}