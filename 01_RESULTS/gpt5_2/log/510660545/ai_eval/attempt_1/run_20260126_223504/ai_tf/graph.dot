digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_caller_identity.current" [label="data.aws_caller_identity.current"];
  "data.aws_iam_policy_document.cloudtrail_bucket" [label="data.aws_iam_policy_document.cloudtrail_bucket"];
  "data.aws_iam_policy_document.github_assume_apply" [label="data.aws_iam_policy_document.github_assume_apply"];
  "data.aws_iam_policy_document.github_assume_plan" [label="data.aws_iam_policy_document.github_assume_plan"];
  "data.aws_iam_policy_document.kms_tfstate" [label="data.aws_iam_policy_document.kms_tfstate"];
  "data.aws_iam_policy_document.terraform_state_access" [label="data.aws_iam_policy_document.terraform_state_access"];
  "data.aws_iam_policy_document.tfstate_bucket" [label="data.aws_iam_policy_document.tfstate_bucket"];
  "aws_cloudtrail.main" [label="aws_cloudtrail.main"];
  "aws_dynamodb_table.terraform_locks" [label="aws_dynamodb_table.terraform_locks"];
  "aws_iam_openid_connect_provider.github" [label="aws_iam_openid_connect_provider.github"];
  "aws_iam_policy.terraform_state_access" [label="aws_iam_policy.terraform_state_access"];
  "aws_iam_role.terraform_apply" [label="aws_iam_role.terraform_apply"];
  "aws_iam_role.terraform_plan" [label="aws_iam_role.terraform_plan"];
  "aws_iam_role_policy_attachment.apply_state" [label="aws_iam_role_policy_attachment.apply_state"];
  "aws_iam_role_policy_attachment.plan_state" [label="aws_iam_role_policy_attachment.plan_state"];
  "aws_kms_alias.tfstate" [label="aws_kms_alias.tfstate"];
  "aws_kms_key.tfstate" [label="aws_kms_key.tfstate"];
  "aws_s3_bucket.cloudtrail_logs" [label="aws_s3_bucket.cloudtrail_logs"];
  "aws_s3_bucket.tfstate" [label="aws_s3_bucket.tfstate"];
  "aws_s3_bucket_ownership_controls.cloudtrail_logs" [label="aws_s3_bucket_ownership_controls.cloudtrail_logs"];
  "aws_s3_bucket_ownership_controls.tfstate" [label="aws_s3_bucket_ownership_controls.tfstate"];
  "aws_s3_bucket_policy.cloudtrail_logs" [label="aws_s3_bucket_policy.cloudtrail_logs"];
  "aws_s3_bucket_policy.tfstate" [label="aws_s3_bucket_policy.tfstate"];
  "aws_s3_bucket_public_access_block.cloudtrail_logs" [label="aws_s3_bucket_public_access_block.cloudtrail_logs"];
  "aws_s3_bucket_public_access_block.tfstate" [label="aws_s3_bucket_public_access_block.tfstate"];
  "aws_s3_bucket_server_side_encryption_configuration.cloudtrail_logs" [label="aws_s3_bucket_server_side_encryption_configuration.cloudtrail_logs"];
  "aws_s3_bucket_server_side_encryption_configuration.tfstate" [label="aws_s3_bucket_server_side_encryption_configuration.tfstate"];
  "aws_s3_bucket_versioning.cloudtrail_logs" [label="aws_s3_bucket_versioning.cloudtrail_logs"];
  "aws_s3_bucket_versioning.tfstate" [label="aws_s3_bucket_versioning.tfstate"];
  "data.aws_iam_policy_document.cloudtrail_bucket" -> "aws_s3_bucket.cloudtrail_logs";
  "data.aws_iam_policy_document.github_assume_apply" -> "aws_iam_openid_connect_provider.github";
  "data.aws_iam_policy_document.github_assume_plan" -> "aws_iam_openid_connect_provider.github";
  "data.aws_iam_policy_document.kms_tfstate" -> "data.aws_caller_identity.current";
  "data.aws_iam_policy_document.kms_tfstate" -> "aws_iam_role.terraform_apply";
  "data.aws_iam_policy_document.kms_tfstate" -> "aws_iam_role.terraform_plan";
  "data.aws_iam_policy_document.terraform_state_access" -> "aws_dynamodb_table.terraform_locks";
  "data.aws_iam_policy_document.terraform_state_access" -> "aws_kms_key.tfstate";
  "data.aws_iam_policy_document.terraform_state_access" -> "aws_s3_bucket.tfstate";
  "data.aws_iam_policy_document.tfstate_bucket" -> "aws_s3_bucket.tfstate";
  "aws_cloudtrail.main" -> "aws_s3_bucket_policy.cloudtrail_logs";
  "aws_iam_policy.terraform_state_access" -> "data.aws_iam_policy_document.terraform_state_access";
  "aws_iam_role.terraform_apply" -> "data.aws_iam_policy_document.github_assume_apply";
  "aws_iam_role.terraform_plan" -> "data.aws_iam_policy_document.github_assume_plan";
  "aws_iam_role_policy_attachment.apply_state" -> "aws_iam_policy.terraform_state_access";
  "aws_iam_role_policy_attachment.plan_state" -> "aws_iam_policy.terraform_state_access";
  "aws_kms_alias.tfstate" -> "aws_kms_key.tfstate";
  "aws_kms_key.tfstate" -> "data.aws_iam_policy_document.kms_tfstate";
  "aws_s3_bucket.cloudtrail_logs" -> "data.aws_caller_identity.current";
  "aws_s3_bucket_ownership_controls.cloudtrail_logs" -> "aws_s3_bucket.cloudtrail_logs";
  "aws_s3_bucket_ownership_controls.tfstate" -> "aws_s3_bucket.tfstate";
  "aws_s3_bucket_policy.cloudtrail_logs" -> "data.aws_iam_policy_document.cloudtrail_bucket";
  "aws_s3_bucket_policy.tfstate" -> "data.aws_iam_policy_document.tfstate_bucket";
  "aws_s3_bucket_public_access_block.cloudtrail_logs" -> "aws_s3_bucket.cloudtrail_logs";
  "aws_s3_bucket_public_access_block.tfstate" -> "aws_s3_bucket.tfstate";
  "aws_s3_bucket_server_side_encryption_configuration.cloudtrail_logs" -> "aws_s3_bucket.cloudtrail_logs";
  "aws_s3_bucket_server_side_encryption_configuration.tfstate" -> "aws_kms_key.tfstate";
  "aws_s3_bucket_server_side_encryption_configuration.tfstate" -> "aws_s3_bucket.tfstate";
  "aws_s3_bucket_versioning.cloudtrail_logs" -> "aws_s3_bucket.cloudtrail_logs";
  "aws_s3_bucket_versioning.tfstate" -> "aws_s3_bucket.tfstate";
}
