{"format_version":"1.2","terraform_version":"1.13.5","variables":{"region":{"value":"us-east-1"},"tag_bucket_environment":{"value":"Test"},"tag_bucket_name":{"value":"Test Bucket"},"with_policy":{"value":false}},"planned_values":{"outputs":{"bucket_arn":{"sensitive":false},"bucket_id":{"sensitive":false},"logging_target_bucket":{"sensitive":false},"logging_target_prefix":{"sensitive":false,"type":"string","value":"TFStateLogs/"}},"root_module":{"resources":[{"address":"aws_s3_bucket.test_bucket","mode":"managed","type":"aws_s3_bucket","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"000000000000-Test Bucket","force_destroy":false,"tags":{"Environment":"Test","Name":"Test Bucket"},"tags_all":{"Environment":"Test","Name":"Test Bucket"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket.test_bucket_logs","mode":"managed","type":"aws_s3_bucket","name":"test_bucket_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"000000000000-Test Bucket-logs","force_destroy":true,"tags":{"Environment":"Test","Name":"000000000000-Test Bucket-logs"},"tags_all":{"Environment":"Test","Name":"000000000000-Test Bucket-logs"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket_acl.test_bucket","mode":"managed","type":"aws_s3_bucket_acl","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","expected_bucket_owner":null},"sensitive_values":{"access_control_policy":[]}},{"address":"aws_s3_bucket_acl.test_bucket_logs","mode":"managed","type":"aws_s3_bucket_acl","name":"test_bucket_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"log-delivery-write","expected_bucket_owner":null},"sensitive_values":{"access_control_policy":[]}},{"address":"aws_s3_bucket_logging.test_bucket","mode":"managed","type":"aws_s3_bucket_logging","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"TFStateLogs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"aws_s3_bucket_ownership_controls.test_bucket","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"rule":[{"object_ownership":"ObjectWriter"}]},"sensitive_values":{"rule":[{}]}},{"address":"aws_s3_bucket_ownership_controls.test_bucket_logs","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"test_bucket_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"rule":[{"object_ownership":"ObjectWriter"}]},"sensitive_values":{"rule":[{}]}},{"address":"aws_s3_bucket_versioning.test_bucket","mode":"managed","type":"aws_s3_bucket_versioning","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"data.aws_iam_policy_document.s3_bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"s3_bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["*"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["000000000000"],"type":"AWS"}],"resources":[null],"sid":null},{"actions":["*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"}],"effect":"Deny","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}}]}},"resource_changes":[{"address":"data.aws_iam_policy_document.s3_bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"s3_bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["*"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["000000000000"],"type":"AWS"}],"resources":[null],"sid":null},{"actions":["*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"}],"effect":"Deny","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},"action_reason":"read_because_config_unknown"},{"address":"aws_s3_bucket.test_bucket","mode":"managed","type":"aws_s3_bucket","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"000000000000-Test Bucket","force_destroy":false,"tags":{"Environment":"Test","Name":"Test Bucket"},"tags_all":{"Environment":"Test","Name":"Test Bucket"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket.test_bucket_logs","mode":"managed","type":"aws_s3_bucket","name":"test_bucket_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"000000000000-Test Bucket-logs","force_destroy":true,"tags":{"Environment":"Test","Name":"000000000000-Test Bucket-logs"},"tags_all":{"Environment":"Test","Name":"000000000000-Test Bucket-logs"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket_acl.test_bucket","mode":"managed","type":"aws_s3_bucket_acl","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","expected_bucket_owner":null},"after_unknown":{"access_control_policy":true,"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{"access_control_policy":[]}}},{"address":"aws_s3_bucket_acl.test_bucket_logs","mode":"managed","type":"aws_s3_bucket_acl","name":"test_bucket_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"log-delivery-write","expected_bucket_owner":null},"after_unknown":{"access_control_policy":true,"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{"access_control_policy":[]}}},{"address":"aws_s3_bucket_logging.test_bucket","mode":"managed","type":"aws_s3_bucket_logging","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"TFStateLogs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"aws_s3_bucket_ownership_controls.test_bucket","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"object_ownership":"ObjectWriter"}]},"after_unknown":{"bucket":true,"id":true,"rule":[{}]},"before_sensitive":false,"after_sensitive":{"rule":[{}]}}},{"address":"aws_s3_bucket_ownership_controls.test_bucket_logs","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"test_bucket_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"object_ownership":"ObjectWriter"}]},"after_unknown":{"bucket":true,"id":true,"rule":[{}]},"before_sensitive":false,"after_sensitive":{"rule":[{}]}}},{"address":"aws_s3_bucket_versioning.test_bucket","mode":"managed","type":"aws_s3_bucket_versioning","name":"test_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}}],"output_changes":{"bucket_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"bucket_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"logging_target_bucket":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"logging_target_prefix":{"actions":["create"],"before":null,"after":"TFStateLogs/","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.5","values":{"outputs":{"logging_target_prefix":{"sensitive":false,"value":"TFStateLogs/","type":"string"}},"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"000000000000","arn":"arn:aws:iam::000000000000:root","id":"000000000000","user_id":"AKIAIOSFODNN7EXAMPLE"},"sensitive_values":{}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"access_key":{"constant_value":"test"},"endpoints":[{"apigateway":{"constant_value":"http://localhost:4566"},"apigatewayv2":{"constant_value":"http://localhost:4566"},"cloudformation":{"constant_value":"http://localhost:4566"},"cloudwatch":{"constant_value":"http://localhost:4566"},"dynamodb":{"constant_value":"http://localhost:4566"},"ec2":{"constant_value":"http://localhost:4566"},"elasticache":{"constant_value":"http://localhost:4566"},"es":{"constant_value":"http://localhost:4566"},"firehose":{"constant_value":"http://localhost:4566"},"iam":{"constant_value":"http://localhost:4566"},"kinesis":{"constant_value":"http://localhost:4566"},"lambda":{"constant_value":"http://localhost:4566"},"rds":{"constant_value":"http://localhost:4566"},"redshift":{"constant_value":"http://localhost:4566"},"route53":{"constant_value":"http://localhost:4566"},"s3":{"constant_value":"http://s3.localhost.localstack.cloud:4566"},"secretsmanager":{"constant_value":"http://localhost:4566"},"ses":{"constant_value":"http://localhost:4566"},"sns":{"constant_value":"http://localhost:4566"},"sqs":{"constant_value":"http://localhost:4566"},"ssm":{"constant_value":"http://localhost:4566"},"stepfunctions":{"constant_value":"http://localhost:4566"},"sts":{"constant_value":"http://localhost:4566"}}],"region":{"references":["var.region"]},"s3_use_path_style":{"constant_value":false},"secret_key":{"constant_value":"test"},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}}},"root_module":{"outputs":{"bucket_arn":{"expression":{"references":["aws_s3_bucket.test_bucket.arn","aws_s3_bucket.test_bucket"]}},"bucket_id":{"expression":{"references":["aws_s3_bucket.test_bucket.id","aws_s3_bucket.test_bucket"]}},"logging_target_bucket":{"expression":{"references":["aws_s3_bucket_logging.test_bucket.target_bucket","aws_s3_bucket_logging.test_bucket"]}},"logging_target_prefix":{"expression":{"references":["aws_s3_bucket_logging.test_bucket.target_prefix","aws_s3_bucket_logging.test_bucket"]}}},"resources":[{"address":"aws_s3_bucket.test_bucket","mode":"managed","type":"aws_s3_bucket","name":"test_bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["local.aws_account_id","var.tag_bucket_name"]},"tags":{"references":["var.tag_bucket_name","var.tag_bucket_environment"]}},"schema_version":0},{"address":"aws_s3_bucket.test_bucket_logs","mode":"managed","type":"aws_s3_bucket","name":"test_bucket_logs","provider_config_key":"aws","expressions":{"bucket":{"references":["local.aws_account_id","var.tag_bucket_name"]},"force_destroy":{"constant_value":true},"tags":{"references":["local.aws_account_id","var.tag_bucket_name","var.tag_bucket_environment"]}},"schema_version":0},{"address":"aws_s3_bucket_acl.test_bucket","mode":"managed","type":"aws_s3_bucket_acl","name":"test_bucket","provider_config_key":"aws","expressions":{"acl":{"constant_value":"private"},"bucket":{"references":["aws_s3_bucket.test_bucket.id","aws_s3_bucket.test_bucket"]}},"schema_version":0,"depends_on":["aws_s3_bucket_ownership_controls.test_bucket"]},{"address":"aws_s3_bucket_acl.test_bucket_logs","mode":"managed","type":"aws_s3_bucket_acl","name":"test_bucket_logs","provider_config_key":"aws","expressions":{"acl":{"constant_value":"log-delivery-write"},"bucket":{"references":["aws_s3_bucket.test_bucket_logs.id","aws_s3_bucket.test_bucket_logs"]}},"schema_version":0,"depends_on":["aws_s3_bucket_ownership_controls.test_bucket_logs"]},{"address":"aws_s3_bucket_logging.test_bucket","mode":"managed","type":"aws_s3_bucket_logging","name":"test_bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.test_bucket.id","aws_s3_bucket.test_bucket"]},"target_bucket":{"references":["aws_s3_bucket.test_bucket_logs.id","aws_s3_bucket.test_bucket_logs"]},"target_prefix":{"constant_value":"TFStateLogs/"}},"schema_version":0},{"address":"aws_s3_bucket_ownership_controls.test_bucket","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"test_bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.test_bucket.id","aws_s3_bucket.test_bucket"]},"rule":[{"object_ownership":{"constant_value":"ObjectWriter"}}]},"schema_version":0,"depends_on":["aws_s3_bucket.test_bucket"]},{"address":"aws_s3_bucket_ownership_controls.test_bucket_logs","mode":"managed","type":"aws_s3_bucket_ownership_controls","name":"test_bucket_logs","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.test_bucket_logs.id","aws_s3_bucket.test_bucket_logs"]},"rule":[{"object_ownership":{"constant_value":"ObjectWriter"}}]},"schema_version":0,"depends_on":["aws_s3_bucket.test_bucket_logs"]},{"address":"aws_s3_bucket_policy.bucket_access_policy","mode":"managed","type":"aws_s3_bucket_policy","name":"bucket_access_policy","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.test_bucket.id","aws_s3_bucket.test_bucket"]},"policy":{"references":["data.aws_iam_policy_document.s3_bucket_policy.json","data.aws_iam_policy_document.s3_bucket_policy"]}},"schema_version":0,"count_expression":{"references":["var.with_policy"]}},{"address":"aws_s3_bucket_versioning.test_bucket","mode":"managed","type":"aws_s3_bucket_versioning","name":"test_bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.test_bucket.id","aws_s3_bucket.test_bucket"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.s3_bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"s3_bucket_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["*"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.aws_account_id"]},"type":{"constant_value":"AWS"}}],"resources":{"references":["aws_s3_bucket.test_bucket.arn","aws_s3_bucket.test_bucket"]}},{"actions":{"constant_value":["*"]},"condition":[{"test":{"constant_value":"Bool"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:SecureTransport"}}],"effect":{"constant_value":"Deny"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"references":["aws_s3_bucket.test_bucket.arn","aws_s3_bucket.test_bucket"]}}]},"schema_version":0}],"variables":{"region":{"description":"The AWS region to deploy to"},"tag_bucket_environment":{"default":"Test","description":"The Environment tag to set for the S3 Bucket."},"tag_bucket_name":{"default":"Test Bucket","description":"The Name tag to set for the S3 Bucket."},"with_policy":{"default":false,"description":"If set to `true`, the bucket will be created with a bucket policy."}}}},"relevant_attributes":[{"resource":"data.aws_caller_identity.current","attribute":["account_id"]},{"resource":"aws_s3_bucket.test_bucket","attribute":["arn"]},{"resource":"aws_s3_bucket.test_bucket","attribute":["id"]},{"resource":"aws_s3_bucket.test_bucket_logs","attribute":["id"]},{"resource":"aws_s3_bucket_logging.test_bucket","attribute":["target_bucket"]},{"resource":"aws_s3_bucket_logging.test_bucket","attribute":["target_prefix"]}],"timestamp":"2026-01-27T10:12:08Z","applyable":true,"complete":true,"errored":false}
