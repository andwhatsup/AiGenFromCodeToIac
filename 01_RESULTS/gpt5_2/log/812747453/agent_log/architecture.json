{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 200\nskinparam maxMessageSize 200\n\ntitle Deployment Architecture - Node.js (Express) on AWS ECS\n\nactor \"End User\" as user\n\ncloud \"Internet\" as internet\n\nnode \"AWS Cloud\" as aws {\n  node \"Amazon ECS Cluster\\nmy-ecs-cluster\" as ecs_cluster {\n    node \"ECS Service\\nmy-service\" as ecs_service {\n      node \"ECS Task (Fargate/EC2)\" as ecs_task {\n        artifact \"Container Image\\nNode.js + Express\\n(listens on :3000)\" as image\n        component \"Express HTTP API\\nJavaScript (Node.js)\\nExpress ^4.19.2\" as api\n      }\n    }\n  }\n\n  database \"Amazon ECR\\nContainer Registry\\n$ECR_REPOSITORY\" as ecr\n}\n\nnode \"GitHub\" as github {\n  component \"GitHub Actions CI/CD\\n.github/workflows/main.yml\" as gha\n  artifact \"Source Repo\\n(package.json, index.js)\" as repo\n  artifact \"Docker Build Context\\n(Dockerfile)\" as dockerfile\n}\n\nnode \"Developer Workstation\" as dev {\n  component \"Local Docker Compose\\n(docker-compose.yml)\" as compose\n}\n\nuser --> internet\ninternet --> api : HTTPS/HTTP\n\nrepo --> gha : push/PR triggers\ngha --> dockerfile : docker build\ngha --> ecr : docker login & push image\ngha --> ecs_service : aws ecs update-service\\n(force new deployment)\n\necr --> ecs_task : pull image\nimage --> api : runs\n\ncompose --> api : local run\\n(port 3000)\n\nnote right of gha\nSecrets/Env:\n- AWS_ACCESS_KEY_ID\n- AWS_SECRET_ACCESS_KEY\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1075px\" preserveAspectRatio=\"none\" style=\"width:1075px;height:1075px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1075 1075\" width=\"1075px\" zoomAndPan=\"magnify\"><title>Deployment Architecture - Node.js (Express) on AWS ECS</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"453.3457\" x=\"304.069\" y=\"22.9951\">Deployment Architecture - Node.js (Express) on AWS ECS</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"15\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"112.2362,340.2869,122.2362,330.2869,573.2362,330.2869,573.2362,1048.9569,563.2362,1058.9569,112.2362,1058.9569,112.2362,340.2869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"563.2362\" x2=\"573.2362\" y1=\"340.2869\" y2=\"330.2869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"112.2362\" x2=\"563.2362\" y1=\"340.2869\" y2=\"340.2869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"563.2362\" x2=\"563.2362\" y1=\"340.2869\" y2=\"1058.9569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"85.9141\" x=\"295.7792\" y=\"356.282\">AWS Cloud</text></g><!--cluster ecs_cluster--><g class=\"cluster\" data-qualified-name=\"aws.ecs_cluster\" data-source-line=\"16\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"136.2362,519.1769,146.2362,509.1769,549.2362,509.1769,549.2362,1024.9569,539.2362,1034.9569,136.2362,1034.9569,136.2362,519.1769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"539.2362\" x2=\"549.2362\" y1=\"519.1769\" y2=\"509.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"136.2362\" x2=\"539.2362\" y1=\"519.1769\" y2=\"519.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"539.2362\" x2=\"539.2362\" y1=\"519.1769\" y2=\"1034.9569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"158.7373\" x=\"259.3676\" y=\"535.172\">Amazon ECS Cluster</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"115.9512\" x=\"280.7606\" y=\"551.4689\">my-ecs-cluster</text></g><!--cluster ecs_service--><g class=\"cluster\" data-qualified-name=\"aws.ecs_cluster.ecs_service\" data-source-line=\"17\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"168.2362,591.1769,178.2362,581.1769,517.2362,581.1769,517.2362,992.9569,507.2362,1002.9569,168.2362,1002.9569,168.2362,591.1769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"507.2362\" x2=\"517.2362\" y1=\"591.1769\" y2=\"581.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"168.2362\" x2=\"507.2362\" y1=\"591.1769\" y2=\"591.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"507.2362\" x2=\"507.2362\" y1=\"591.1769\" y2=\"1002.9569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"92.9961\" x=\"292.2382\" y=\"607.172\">ECS Service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"85.9756\" x=\"295.7484\" y=\"623.4689\">my-service</text></g><!--cluster ecs_task--><g class=\"cluster\" data-qualified-name=\"aws.ecs_cluster.ecs_service.ecs_task\" data-source-line=\"18\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"208.2362,671.1769,218.2362,661.1769,469.2362,661.1769,469.2362,952.9569,459.2362,962.9569,208.2362,962.9569,208.2362,671.1769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"459.2362\" x2=\"469.2362\" y1=\"671.1769\" y2=\"661.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"208.2362\" x2=\"459.2362\" y1=\"671.1769\" y2=\"671.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"459.2362\" x2=\"459.2362\" y1=\"671.1769\" y2=\"962.9569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"185.3701\" x=\"242.0512\" y=\"687.172\">ECS Task (Fargate/EC2)</text></g><!--cluster github--><g class=\"cluster\" data-qualified-name=\"github\" data-source-line=\"28\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"597.2362,53.2969,607.2362,43.2969,843.2362,43.2969,843.2362,443.0269,833.2362,453.0269,597.2362,453.0269,597.2362,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"833.2362\" x2=\"843.2362\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"597.2362\" x2=\"833.2362\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"833.2362\" x2=\"833.2362\" y1=\"53.2969\" y2=\"453.0269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"54.6875\" x=\"688.8925\" y=\"69.292\">GitHub</text></g><!--cluster dev--><g class=\"cluster\" data-qualified-name=\"dev\" data-source-line=\"34\" id=\"ent0015\"><polygon fill=\"#FFFFFF\" points=\"597.2362,688.8269,607.2362,678.8269,855.2362,678.8269,855.2362,777.4169,845.2362,787.4169,597.2362,787.4169,597.2362,688.8269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"845.2362\" x2=\"855.2362\" y1=\"688.8269\" y2=\"678.8269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"597.2362\" x2=\"845.2362\" y1=\"688.8269\" y2=\"688.8269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"845.2362\" x2=\"845.2362\" y1=\"688.8269\" y2=\"787.4169\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"182.2734\" x=\"631.0995\" y=\"704.822\">Developer Workstation</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"aws.ecr\" data-source-line=\"25\" id=\"ent0010\"><path d=\"M398.6562,380.2869 C398.6562,370.2869 475.2348,370.2869 475.2348,370.2869 C475.2348,370.2869 551.8135,370.2869 551.8135,380.2869 L551.8135,438.1775 C551.8135,448.1775 475.2348,448.1775 475.2348,448.1775 C475.2348,448.1775 398.6562,448.1775 398.6562,438.1775 L398.6562,380.2869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M398.6562,380.2869 C398.6562,390.2869 475.2348,390.2869 475.2348,390.2869 C475.2348,390.2869 551.8135,390.2869 551.8135,380.2869\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"430.5449\" y=\"407.282\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"491.5762\" y=\"407.282\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"409.832\" y=\"423.5789\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.9414\" x=\"482.6963\" y=\"423.5789\">Registry</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"133.1572\" x=\"408.6562\" y=\"439.8757\">$ECR_REPOSITORY</text></g><!--entity image--><g class=\"entity\" data-qualified-name=\"aws.ecs_cluster.ecs_service.ecs_task.image\" data-source-line=\"19\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"157.7773\" x=\"250.3462\" y=\"709.1769\"/><polygon fill=\"#FFFFFF\" points=\"391.1236,714.1769,391.1236,728.1769,403.1236,728.1769,403.1236,720.1769,397.1236,714.1769,391.1236,714.1769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"397.1236\" x2=\"397.1236\" y1=\"714.1769\" y2=\"720.1769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"403.1236\" x2=\"397.1236\" y1=\"720.1769\" y2=\"720.1769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"265.8799\" y=\"735.172\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"338.7442\" y=\"735.172\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.1719\" x=\"260.3462\" y=\"751.4689\">Node.js</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"54.9746\" x=\"333.149\" y=\"751.4689\">Express</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.8076\" x=\"339.9029\" y=\"767.7657\">:3000)</text></g><!--entity api--><g class=\"entity\" data-qualified-name=\"aws.ecs_cluster.ecs_service.ecs_task.api\" data-source-line=\"20\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"157.7236\" x=\"250.3762\" y=\"870.0669\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"54.9746\" x=\"268.1897\" y=\"893.062\">Express</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.0732\" x=\"327.6145\" y=\"893.062\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"368.1379\" y=\"893.062\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.1777\" x=\"260.3762\" y=\"909.3589\">JavaScript</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.0957\" x=\"335.0042\" y=\"909.3589\">(Node.js)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.2598\" x=\"330.8206\" y=\"925.6557\">^4.19.2</text></g><!--entity gha--><g class=\"entity\" data-qualified-name=\"github.gha\" data-source-line=\"29\" id=\"ent0012\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"214.0313\" x=\"613.2162\" y=\"215.2869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5146\" x=\"646.2431\" y=\"238.282\">GitHub</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.3857\" x=\"699.2079\" y=\"238.282\">Actions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.1768\" x=\"755.0439\" y=\"238.282\">CI/CD</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"194.0313\" x=\"623.2162\" y=\"254.5789\">.github/workflows/main.yml</text></g><!--entity repo--><g class=\"entity\" data-qualified-name=\"github.repo\" data-source-line=\"30\" id=\"ent0013\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"196.4277\" x=\"622.0162\" y=\"83.2969\"/><polygon fill=\"#FFFFFF\" points=\"801.444,88.2969,801.444,102.2969,813.444,102.2969,813.444,94.2969,807.444,88.2969,801.444,88.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"807.444\" x2=\"807.444\" y1=\"88.2969\" y2=\"94.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"813.444\" x2=\"807.444\" y1=\"94.2969\" y2=\"94.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.3916\" x=\"670.9127\" y=\"109.292\">Source</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.793\" x=\"723.7545\" y=\"109.292\">Repo</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"102.334\" x=\"632.0162\" y=\"125.5889\">(package.json,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"59.6436\" x=\"738.8004\" y=\"125.5889\">index.js)</text></g><!--entity dockerfile--><g class=\"entity\" data-qualified-name=\"github.dockerfile\" data-source-line=\"31\" id=\"ent0014\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"178.6543\" x=\"612.9062\" y=\"381.4369\"/><polygon fill=\"#FFFFFF\" points=\"774.5605,386.4369,774.5605,400.4369,786.5605,400.4369,786.5605,392.4369,780.5605,386.4369,774.5605,386.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"780.5605\" x2=\"780.5605\" y1=\"386.4369\" y2=\"392.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"786.5605\" x2=\"780.5605\" y1=\"392.4369\" y2=\"392.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"622.9062\" y=\"407.432\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.1436\" x=\"676.876\" y=\"407.432\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.0908\" x=\"716.4697\" y=\"407.432\">Context</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"81.7646\" x=\"656.3511\" y=\"423.7289\">(Dockerfile)</text></g><!--entity compose--><g class=\"entity\" data-qualified-name=\"dev.compose\" data-source-line=\"35\" id=\"ent0016\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"180.2891\" x=\"613.0862\" y=\"718.8269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.5313\" x=\"623.0862\" y=\"741.822\">Local</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"664.0677\" y=\"741.822\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"65.3379\" x=\"718.0374\" y=\"741.822\">Compose</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"157.124\" x=\"624.6687\" y=\"758.1189\">(docker-compose.yml)</text></g><!--entity user--><g class=\"entity\" data-qualified-name=\"user\" data-source-line=\"11\" id=\"ent0002\"><ellipse cx=\"53.2391\" cy=\"379.5869\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M53.2391,387.5869 L53.2391,414.5869 M40.2391,395.5869 L66.2391,395.5869 M53.2391,414.5869 L40.2391,429.5869 M53.2391,414.5869 L66.2391,429.5869\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"26.6055\" x=\"21.7562\" y=\"444.832\">End</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.9102\" x=\"52.8119\" y=\"444.832\">User</text></g><!--entity internet--><g class=\"entity\" data-qualified-name=\"internet\" data-source-line=\"13\" id=\"ent0003\"><path d=\"M20.088,730.8575 C23.1837,725.8234 27.1123,725.5583 30.9197,730.0481 C34.0278,723.8762 38.372,723.9769 42.6137,728.8476 C45.5297,723.525 49.7975,723.0476 53.3775,728.1629 C57.126,723.2385 60.9829,722.1378 64.9703,727.9039 C70.0134,722.6405 74.2445,722.7892 77.0869,730.0355 C81.1445,724.868 85.8023,725.1425 89.4887,730.474 C96.8266,733.3134 98.5639,740.6695 92.2491,745.9449 C98.0537,752.3465 97.8993,757.4302 89.9033,761.7884 C87.9491,767.949 82.4152,768.3571 78.6664,763.6427 C75.7266,771.916 71.2594,772.958 65.1354,766.5843 C64.2031,772.3005 59.5096,774.4834 54.6217,771.211 C50.0236,775.4092 44.7405,774.8693 42.7783,768.3092 C36.2585,773.1447 33.0334,770.5106 30.8261,763.8324 C26.6178,768.288 21.5506,767.8196 18.8789,762.0389 C9.2209,761.0662 6,753.8427 12.5961,746.3577 C6.4792,737.3754 9.572,731.8004 20.088,730.8575\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.8359\" x=\"25.3162\" y=\"749.972\">Internet</text></g><!-- note --><g class=\"entity\" data-qualified-name=\"GMN26\" data-source-line=\"52\" id=\"ent0027\"><path d=\"M861.9862,213.8869 L861.9862,237.5869 L827.4262,241.5869 L861.9862,245.5869 L861.9862,269.2853 A0,0 0 0 0 861.9862,269.2853 L1068.4838,269.2853 A0,0 0 0 0 1068.4838,269.2853 L1068.4838,223.8869 L1058.4838,213.8869 L861.9862,213.8869 A0,0 0 0 0 861.9862,213.8869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M1058.4838,213.8869 L1058.4838,223.8869 L1068.4838,223.8869 L1058.4838,213.8869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"81.5166\" x=\"919.9767\" y=\"230.9538\">Secrets/Env:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"139.7881\" x=\"895.2526\" y=\"246.0866\">AWS_ACCESS_KEY_ID</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"176.6743\" x=\"876.8095\" y=\"261.2194\">AWS_SECRET_ACCESS_KEY</text></g><!--links--><g class=\"link\" id=\"lnk17\"><path d=\"M53.2362,448.5269 C53.2362,518.5869 53.2362,659.3469 53.2362,715.5569\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"53.2362,721.5569,57.2362,712.5569,53.2362,716.5569,49.2362,712.5569,53.2362,721.5569\" style=\"stroke:#000000;stroke-width:2;\"/></g><g class=\"link\" id=\"lnk18\"><path d=\"M92.7762,768.6669 C139.1362,795.1069 211.2041,836.2048 264.7441,866.7348\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"269.9562,869.7069,264.1194,861.7739,265.6128,867.2301,260.1566,868.7235,269.9562,869.7069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"73.5\" x=\"216.2362\" y=\"830.2055\">HTTPS/HTTP</text></g><g class=\"link\" id=\"lnk19\"><path d=\"M720.2362,139.3369 C720.2362,161.7369 720.2362,187.2269 720.2362,209.1269\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"720.2362,215.1269,724.2362,206.1269,720.2362,210.1269,716.2362,206.1269,720.2362,215.1269\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"95.4727\" x=\"721.2362\" y=\"181.0255\">push/PR triggers</text></g><g class=\"link\" id=\"lnk20\"><path d=\"M717.4562,268.1069 C714.1362,298.6869 709.2459,343.7521 705.8359,375.0621\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"705.1862,381.0269,710.1372,372.5129,705.7276,376.0563,702.1842,371.6467,705.1862,381.0269\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"70.3301\" x=\"714.2362\" y=\"311.4255\">docker build</text></g><g class=\"link\" id=\"lnk21\"><path d=\"M612.7462,262.9669 C587.5262,271.2969 561.9862,282.9669 541.2362,299.2869 C518.0262,317.5369 503.609,340.9376 492.699,364.3676\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"490.1662,369.8069,497.5915,363.3365,492.2768,365.2742,490.3392,359.9595,490.1662,369.8069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"150.6855\" x=\"542.2362\" y=\"311.4255\">docker login &amp; push image</text></g><g class=\"link\" id=\"lnk22\"><path d=\"M762.3162,268.2969 C774.5562,277.1069 787.2962,287.6869 797.2362,299.2869 C844.1362,354.0169 855.2162,405.5169 809.2362,461.0269 C748.0562,534.8769 670.2562,439.0169 597.2362,501.1769 C554.1962,537.8169 532.2062,597.2419 520.9712,648.1469 C519.5669,654.51 519.3953,654.8352 518.3069,660.871\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"517.2421,666.7757,522.7758,658.6284,518.1294,661.8551,514.9028,657.2087,517.2421,666.7757\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"206.25\" x=\"839.2362\" y=\"406.8655\">aws ecs update-service (force new deployment)</text></g><g class=\"link\" id=\"lnk23\"><path d=\"M470.2062,448.6569 C468.2962,464.8469 466.3262,483.8969 465.2362,501.1769 C461.8912,554.2219 460.8911,607.9044 460.7161,654.8407\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"460.6937,660.8406,464.7273,651.8556,460.7124,655.8407,456.7273,651.8258,460.6937,660.8406\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"59.2676\" x=\"467.2362\" y=\"490.3155\">pull image</text></g><g class=\"link\" id=\"lnk24\"><path d=\"M329.2362,781.4469 C329.2362,807.8169 329.2362,837.6469 329.2362,863.6569\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"329.2362,869.6569,333.2362,860.6569,329.2362,864.6569,325.2362,860.6569,329.2362,869.6569\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.3965\" x=\"330.2362\" y=\"830.2055\">runs</text></g><g class=\"link\" id=\"lnk25\"><path d=\"M642.3162,771.7569 C578.5562,798.5869 483.7465,838.4896 413.9065,867.8796\" fill=\"none\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"408.3762,870.2069,418.2231,870.4029,412.9848,868.2675,415.1201,863.0292,408.3762,870.2069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.9199\" x=\"547.4335\" y=\"823.2055\">local run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"65.3145\" x=\"539.2362\" y=\"837.1743\">(port 3000)</text></g></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime / serving path\n- **End User → Internet → Express HTTP API**: Users access the application over HTTP/HTTPS.\n- **Express API (Node.js / Express ^4.19.2)** runs inside a **Docker container** and listens on **port 3000**.\n- The container is deployed as an **ECS Service (my-service)** within an **ECS Cluster (my-ecs-cluster)**. The service runs one or more **ECS Tasks** (on Fargate or EC2).\n\n### Container image supply chain\n- **Source repository (GitHub)** contains the Node.js app (`index.js`, `package.json`) and the **Dockerfile**.\n- **GitHub Actions CI/CD** (`.github/workflows/main.yml`) is triggered by pushes/PRs:\n  1. Builds the container image (`docker build`).\n  2. Authenticates to **Amazon ECR** and pushes the image to **$ECR_REPOSITORY**.\n  3. Triggers deployment by calling `aws ecs update-service` (forcing a new deployment).\n- **ECS Tasks pull the image from ECR** during deployment/rollout.\n\n### Local development\n- Developers can run the same service locally using **Docker Compose** (`docker-compose.yml`), exposing the API on **port 3000**.\n\n### Secrets / credentials\n- The CI/CD workflow uses **AWS credentials stored as GitHub Actions secrets** (e.g., `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`) to push to ECR and update the ECS service."
}