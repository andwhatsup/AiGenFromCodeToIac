{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ntitle High-level Deployment Architecture (Flask + ActiveMQ on Kubernetes)\n\nskinparam shadowing false\nskinparam componentStyle rectangle\n\nnode \"Kubernetes Cluster\" as k8s {\n  node \"Namespace\" as ns {\n\n    node \"Pod: Flask API\" as flask_pod {\n      artifact \"Container: Python 3.9\\nApp: Flask (HelloWorldApp.py)\\nDeps: stomp.py\" as flask_container\n    }\n\n    node \"Pod: ActiveMQ\" as amq_pod {\n      artifact \"Container: rmohr/activemq:latest\\nBroker: ActiveMQ\" as amq_container\n      queue \"Queue: /queue/app-queue\" as app_queue\n    }\n\n    node \"Service: ActiveMQ\\nType: LoadBalancer\" as amq_svc\n  }\n}\n\ncloud \"External Clients\" as clients\n\nclients --> flask_container : HTTP(S)\nflask_container --> amq_svc : STOMP (TCP)\namq_svc --> amq_container : forwards to broker\namq_container --> app_queue : hosts\nflask_container --> app_queue : send/receive messages\n\nnote right of flask_container\nBuilt via Dockerfile\nBase image: python:3.9\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"869px\" preserveAspectRatio=\"none\" style=\"width:626px;height:869px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 626 869\" width=\"626px\" zoomAndPan=\"magnify\"><title>High-level Deployment Architecture (Flask + ActiveMQ on Kubernetes)</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"559.7813\" x=\"26.1898\" y=\"22.9951\">High-level Deployment Architecture (Flask + ActiveMQ on Kubernetes)</text></g><!--cluster k8s--><g class=\"cluster\" data-qualified-name=\"k8s\" data-source-line=\"9\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,160.4292,26,150.4292,427,150.4292,427,842.3992,417,852.3992,16,852.3992,16,160.4292\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"417\" x2=\"427\" y1=\"160.4292\" y2=\"150.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"417\" y1=\"160.4292\" y2=\"160.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"417\" x2=\"417\" y1=\"160.4292\" y2=\"852.3992\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"152.5576\" x=\"141.2212\" y=\"176.4243\">Kubernetes Cluster</text></g><!--cluster ns--><g class=\"cluster\" data-qualified-name=\"k8s.ns\" data-source-line=\"10\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"40,208.4292,50,198.4292,403,198.4292,403,818.3992,393,828.3992,40,828.3992,40,208.4292\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"393\" x2=\"403\" y1=\"208.4292\" y2=\"198.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"40\" x2=\"393\" y1=\"208.4292\" y2=\"208.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"393\" x2=\"393\" y1=\"208.4292\" y2=\"828.3992\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"90.8428\" x=\"172.0786\" y=\"224.4243\">Namespace</text></g><!--cluster flask_pod--><g class=\"cluster\" data-qualified-name=\"k8s.ns.flask_pod\" data-source-line=\"12\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"163,256.4292,173,246.4292,377,246.4292,377,380.6192,367,390.6192,163,390.6192,163,256.4292\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"367\" x2=\"377\" y1=\"256.4292\" y2=\"246.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"163\" x2=\"367\" y1=\"256.4292\" y2=\"256.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"367\" x2=\"367\" y1=\"256.4292\" y2=\"390.6192\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.0049\" x=\"209.4976\" y=\"272.4243\">Pod: Flask API</text></g><!--cluster amq_pod--><g class=\"cluster\" data-qualified-name=\"k8s.ns.amq_pod\" data-source-line=\"16\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"64,585.2092,74,575.2092,300,575.2092,300,794.3992,290,804.3992,64,804.3992,64,585.2092\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"290\" x2=\"300\" y1=\"585.2092\" y2=\"575.2092\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"64\" x2=\"290\" y1=\"585.2092\" y2=\"585.2092\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"290\" x2=\"290\" y1=\"585.2092\" y2=\"804.3992\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"115.4521\" x=\"120.2739\" y=\"601.2043\">Pod: ActiveMQ</text></g><!--entity amq_svc--><g class=\"entity\" data-qualified-name=\"k8s.ns.amq_svc\" data-source-line=\"21\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"55.54,461.6192,65.54,451.6192,234.4668,451.6192,234.4668,504.2129,224.4668,514.2129,55.54,514.2129,55.54,461.6192\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"224.4668\" x2=\"234.4668\" y1=\"461.6192\" y2=\"451.6192\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"55.54\" x2=\"224.4668\" y1=\"461.6192\" y2=\"461.6192\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"224.4668\" x2=\"224.4668\" y1=\"461.6192\" y2=\"514.2129\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.458\" x=\"76.2241\" y=\"484.6143\">Service:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"132.6821\" y=\"484.6143\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"66.6504\" x=\"137.1323\" y=\"484.6143\">ActiveMQ</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.0537\" x=\"70.54\" y=\"500.9112\">Type:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"109.5937\" y=\"500.9112\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"95.4229\" x=\"114.0439\" y=\"500.9112\">LoadBalancer</text></g><!--entity flask_container--><g class=\"entity\" data-qualified-name=\"k8s.ns.flask_pod.flask_container\" data-source-line=\"13\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"88.1875\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"182.8242\" x=\"178.59\" y=\"286.4292\"/><polygon fill=\"#FFFFFF\" points=\"344.4142,291.4292,344.4142,305.4292,356.4142,305.4292,356.4142,297.4292,350.4142,291.4292,344.4142,291.4292\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"350.4142\" x2=\"350.4142\" y1=\"291.4292\" y2=\"297.4292\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"356.4142\" x2=\"350.4142\" y1=\"297.4292\" y2=\"297.4292\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.1309\" x=\"188.59\" y=\"312.4243\">Container:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"261.7209\" y=\"312.4243\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"266.1711\" y=\"312.4243\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"314.6994\" y=\"312.4243\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.2646\" x=\"319.1496\" y=\"312.4243\">3.9</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.0674\" x=\"228.7819\" y=\"328.7212\">App:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"260.8493\" y=\"328.7212\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"265.2995\" y=\"328.7212\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"136.3223\" x=\"196.841\" y=\"345.0181\">(HelloWorldApp.py)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.291\" x=\"209.8839\" y=\"361.3149\">Deps:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"250.175\" y=\"361.3149\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"65.4951\" x=\"254.6252\" y=\"361.3149\">stomp.py</text></g><!--entity amq_container--><g class=\"entity\" data-qualified-name=\"k8s.ns.amq_pod.amq_container\" data-source-line=\"17\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"186.4541\" x=\"79.77\" y=\"615.2092\"/><polygon fill=\"#FFFFFF\" points=\"249.2241,620.2092,249.2241,634.2092,261.2241,634.2092,261.2241,626.2092,255.2241,620.2092,249.2241,620.2092\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"255.2241\" x2=\"255.2241\" y1=\"620.2092\" y2=\"626.2092\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"261.2241\" x2=\"255.2241\" y1=\"626.2092\" y2=\"626.2092\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.1309\" x=\"131.4316\" y=\"641.2043\">Container:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"156.4541\" x=\"89.77\" y=\"657.5012\">rmohr/activemq:latest</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.1191\" x=\"106.8872\" y=\"673.7981\">Broker:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"158.0063\" y=\"673.7981\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"66.6504\" x=\"162.4565\" y=\"673.7981\">ActiveMQ</text></g><!--entity app_queue--><g class=\"entity\" data-qualified-name=\"k8s.ns.amq_pod.app_queue\" data-source-line=\"18\" id=\"ent0008\"><path d=\"M85.14,762.0992 L278.8558,762.0992 C283.8558,762.0992 283.8558,775.2476 283.8558,775.2476 C283.8558,775.2476 283.8558,788.3961 278.8558,788.3961 L85.14,788.3961 C80.14,788.3961 80.14,775.2476 80.14,775.2476 C80.14,775.2476 80.14,762.0992 85.14,762.0992\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M278.8558,762.0992 C273.8558,762.0992 273.8558,775.2476 273.8558,775.2476 C273.8558,788.3961 278.8558,788.3961 278.8558,788.3961\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.709\" x=\"85.14\" y=\"780.0943\">Queue:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"135.849\" y=\"780.0943\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"128.5566\" x=\"140.2992\" y=\"780.0943\">/queue/app-queue</text></g><!--entity clients--><g class=\"entity\" data-qualified-name=\"clients\" data-source-line=\"25\" id=\"ent0010\"><path d=\"M209.2507,52.2668 C211.414,45.3125 217.1632,45.1467 221.1081,50.5586 C225.7166,43.8215 231.1097,43.7756 234.6886,51.5239 C236.8362,45.6049 241.0481,44.7441 245.1492,49.6333 C249.3207,43.3297 256.1938,43.3923 259.6281,50.4332 C262.8192,45.3844 267.0275,45.2737 270.639,49.9576 C274.3464,43.2969 279.606,44.7237 283.1255,50.1516 C286.6745,44.4058 293.1007,44.4512 296.607,50.2016 C299.8096,44.9387 305.5829,44.2421 308.703,50.2898 C313.6817,44.9484 317.3341,46.4787 320.1866,52.4484 C323.521,45.5943 328.432,45.8404 332.4777,51.7642 C342.1394,54.3886 342.9009,60.7504 336.7006,67.6036 C341.697,74.0156 340.7443,78.3224 333.1371,81.5031 C329.575,88.5808 325.3608,89.0303 320.2812,82.9905 C317.5539,89.1022 312.1262,90.6632 307.9099,84.49 C305.2383,90.7128 300.5921,91.9941 295.3908,87.4241 C292.6363,93.3334 288.0321,93.4762 284.4128,88.279 C281.8207,94.9775 276.1272,94.6548 271.9916,89.9621 C267.7762,94.8474 261.765,94.3864 259.5352,87.805 C256.0656,94.2015 250.2515,94.6427 246.7915,87.7958 C241.3874,93.4001 235.7211,92.9552 233.2085,84.9169 C229.4475,91.2498 223.8973,89.7955 220.6941,84.3255 C217.3213,89.3456 211.9414,88.7193 209.2294,83.5798 C200.0772,82.6321 194.2136,75.4987 201.3322,66.8639 C197.1635,59.7575 199.7438,51.9546 209.2507,52.2668\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"58.3311\" x=\"214.7\" y=\"71.1243\">External</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"273.0311\" y=\"71.1243\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"47.8242\" x=\"277.4813\" y=\"71.1243\">Clients</text></g><g class=\"entity\" data-qualified-name=\"GMN16\" data-source-line=\"34\" id=\"ent0017\"><path d=\"M442.84,310.3892 L442.84,326.5292 L361.76,330.5292 L442.84,334.5292 L442.84,350.6548 A0,0 0 0 0 442.84,350.6548 L619.1608,350.6548 A0,0 0 0 0 619.1608,350.6548 L619.1608,320.3892 L609.1608,310.3892 L442.84,310.3892 A0,0 0 0 0 442.84,310.3892\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M609.1608,310.3892 L609.1608,320.3892 L619.1608,320.3892 L609.1608,310.3892\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"29.4785\" x=\"465.1027\" y=\"327.4561\">Built</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"494.5812\" y=\"327.4561\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"19.2715\" x=\"498.7135\" y=\"327.4561\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"517.985\" y=\"327.4561\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"65.7808\" x=\"522.1173\" y=\"327.4561\">Dockerfile</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"31.6558\" x=\"448.84\" y=\"342.5889\">Base</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"480.4958\" y=\"342.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"44.8716\" x=\"484.6281\" y=\"342.5889\">image:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"529.4997\" y=\"342.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"70.5288\" x=\"533.632\" y=\"342.5889\">python:3.9</text></g><!--link clients to flask_container--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"27\" id=\"lnk11\"><path d=\"M270,89.6392 C270,133.1192 270,223.7192 270,280.1792\" fill=\"none\" id=\"clients-to-flask_container\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"270,286.1792,274,277.1792,270,281.1792,266,277.1792,270,286.1792\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"47.9004\" x=\"271\" y=\"131.5679\">HTTP(S)</text></g><!--link flask_container to amq_svc--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"28\" id=\"lnk12\"><path d=\"M211.03,375.1092 C200.23,384.7292 189.65,395.4192 181,406.6192 C170.63,420.0292 164.5533,431.3815 158.4833,445.7615\" fill=\"none\" id=\"flask_container-to-amq_svc\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"156.15,451.2892,163.3351,444.5532,158.0944,446.6828,155.9648,441.4421,156.15,451.2892\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.9824\" x=\"182\" y=\"418.7579\">STOMP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"223.9824\" y=\"418.7579\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"32.3086\" x=\"227.7969\" y=\"418.7579\">(TCP)</text></g><!--link amq_svc to amq_container--><g class=\"link\" data-entity-1=\"ent0009\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"29\" id=\"lnk13\"><path d=\"M102.65,514.5192 C90.3,527.3592 81.62,543.0492 88,559.2092 C96.41,580.5192 108.1024,595.6233 123.9824,610.8733\" fill=\"none\" id=\"amq_svc-to-amq_container\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"128.31,615.0292,124.5892,605.9102,124.7037,611.5659,119.048,611.6804,128.31,615.0292\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"52.4707\" x=\"89\" y=\"556.3479\">forwards</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"141.4707\" y=\"556.3479\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"12.0469\" x=\"145.2852\" y=\"556.3479\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"157.332\" y=\"556.3479\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.1582\" x=\"161.1465\" y=\"556.3479\">broker</text></g><!--link amq_container to app_queue--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"30\" id=\"lnk14\"><path d=\"M175.6,687.4692 C177.44,712.3992 179.3617,738.3552 180.6317,755.6952\" fill=\"none\" id=\"amq_container-to-app_queue\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"181.07,761.6792,184.4019,752.4111,180.7048,756.6925,176.4233,752.9954,181.07,761.6792\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"32.1563\" x=\"179\" y=\"729.2379\">hosts</text></g><!--link flask_container to app_queue--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"31\" id=\"lnk15\"><path d=\"M283.83,375.0192 C303.38,444.5892 331.71,583.5792 284,687.0992 C268.11,721.5792 236.3,744.4959 211.51,758.7659\" fill=\"none\" id=\"flask_container-to-app_queue\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"206.31,761.7592,216.1056,760.7359,210.6433,759.2648,212.1145,753.8026,206.31,761.7592\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"77.0156\" x=\"311\" y=\"556.3479\">send/receive</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"388.0156\" y=\"556.3479\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.1816\" x=\"391.8301\" y=\"556.3479\">messages</text></g><?plantuml-src XLF1Rjim3BtxAzYS4WoEY-so-J0WIJTasBgvI81U0XICJCT2P4cLP6V1i7yVhTHhsWoOBnB5n_UUAUggf4fgWjdzgcWR1NK8rkTPvl0mtSbGjzlManD61z9XAaoJuS4htFf-JIKdV5ePbrg5EZ11rhszdbvdfVGXkP9QgBRyIvxnkZ1DO_JKSfWaGGP5i9IxEbNKaO8RiieS6vQ2cHEr32H2wmZ6dnNwFRo1cGYoezixC1g-jbjocWBvIPBulTGM7JRWQopDGUeTLAWydMNOlJMQoLVXoBgEoL7l52M9Dknoz4m82zNwG6u4w67_tiEl1E04-euDUOk2OaxtASuDsSAKEPpCpeel4LBrqOCrPIJfFtH1LYW2Z1RSL-JsknoAOwZvfzvDFspqpDg1PRmafSozSQhaqwazJZQQk-Hpy85_Xm_EHCH05uL-NnWRkXTBi7dylolNcDfb6EkQnrmXDoTizDoPVP--87pf0E2nfPRLx_ebXoo66LgRnjsfpDg765sQNf7hfA1ddOrU7ot7tmoMS-IH4qztr6lxJYGz0LC8PTeIHfz-yXrgL7oTag_THwWuxNjGt42QVdpTFyXXkLuNuzKaUPtfqKzgZ5gjVzmMC5ulYaaod0w8SpP-8WTqfOTWO1kRbxo4nAAX4rnG6yyU_ob-XlAaoupdcBWxm7FfSKU-7-V0uytFAe2fBcPZtaeLe9C8DqQmaqho4vYZ9v0Dr-TWuoZcF8e9yqFFzWS0?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Components\n- **Flask Web Application / API (Python 3.9 + Flask)**\n  - Implemented in `HelloWorldApp.py`.\n  - Packaged as a container image built from the provided `dockerfile` (base image `python:3.9`).\n  - Uses **stomp.py** to connect to a message broker.\n\n- **ActiveMQ Message Broker (rmohr/activemq:latest)**\n  - Deployed on Kubernetes using the provided manifests (`./activemq/activemq-deployment.yaml`).\n  - Hosts the application queue **`/queue/app-queue`** used by the Flask app.\n\n- **Kubernetes Service (Type: LoadBalancer) for ActiveMQ**\n  - Defined in `./activemq/activemq-service.yaml`.\n  - Exposes ActiveMQ to clients inside the cluster (and potentially externally, depending on cluster configuration) so the Flask app can connect via STOMP/TCP.\n\n### Relationships / data flow\n1. **External clients** call the **Flask API** over **HTTP(S)**.\n2. The **Flask API** publishes/consumes messages via **STOMP over TCP** to the **ActiveMQ Service**.\n3. The **ActiveMQ Service** routes traffic to the **ActiveMQ Pod**, where the broker hosts **`/queue/app-queue`**.\n\nThis captures the core deployment: a containerized Flask API running in Kubernetes and integrating asynchronously through an ActiveMQ broker exposed via a Kubernetes LoadBalancer service."
}