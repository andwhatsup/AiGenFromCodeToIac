{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ntitle Static Web App (Nginx) on ECS Fargate with CI/CD\n\nskinparam shadowing false\nskinparam componentStyle rectangle\n\n' === CI/CD ===\nnode \"AWS Cloud\" as cloud {\n\n  frame \"CI/CD\" as cicd {\n    [AWS CodeCommit\\nSource Repo] as codecommit\n    [AWS CodePipeline\\nOrchestration] as codepipeline\n    [AWS CodeBuild\\nBuild & Push Image] as codebuild\n    [Amazon ECR\\nContainer Registry] as ecr\n  }\n\n  ' === Runtime ===\n  frame \"Runtime\" as runtime {\n    [Application Load Balancer\\n(HTTPS)] as alb\n\n    node \"Amazon ECS (Fargate)\" as ecs {\n      node \"ECS Service\" as service {\n        artifact \"Nginx Container\\nStatic Site (HTML)\\nBase: public.ecr.aws/nginx/nginx:latest\" as nginx\n      }\n    }\n  }\n}\n\nactor \"User\" as user\n\n' === Traffic flow ===\nuser --> alb : HTTPS\nalb --> nginx : HTTP (Target Group)\n\n' === Delivery flow ===\ncodecommit --> codepipeline : Source change\ncodepipeline --> codebuild : Build stage\ncodebuild --> ecr : Push image\ncodepipeline --> ecs : Deploy new task definition\necs --> ecr : Pull image\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"857px\" preserveAspectRatio=\"none\" style=\"width:760px;height:857px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 760 857\" width=\"760px\" zoomAndPan=\"magnify\"><title>Static Web App (Nginx) on ECS Fargate with CI/CD</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"397.1338\" x=\"174.9131\" y=\"22.9951\">Static Web App (Nginx) on ECS Fargate with CI/CD</text></g><!--cluster cloud--><g class=\"cluster\" data-qualified-name=\"cloud\" data-source-line=\"10\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"53.96,53.2969,63.96,43.2969,743.96,43.2969,743.96,830.8669,733.96,840.8669,53.96,840.8669,53.96,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"733.96\" x2=\"743.96\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"53.96\" x2=\"733.96\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"733.96\" x2=\"733.96\" y1=\"53.2969\" y2=\"840.8669\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"85.9141\" x=\"352.003\" y=\"69.292\">AWS Cloud</text></g><!--cluster cicd--><g class=\"cluster\" data-qualified-name=\"cloud.cicd\" data-source-line=\"12\" id=\"ent0003\"><rect fill=\"#FFFFFF\" height=\"725.57\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"188\" x=\"531.96\" y=\"91.2969\"/><path d=\"M584.4522,91.2969 L584.4522,100.5938 L574.4522,110.5938 L531.96,110.5938\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"42.4922\" x=\"534.96\" y=\"105.292\">CI/CD</text></g><!--cluster runtime--><g class=\"cluster\" data-qualified-name=\"cloud.runtime\" data-source-line=\"20\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"434.79\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"430\" x=\"77.96\" y=\"252.4869\"/><path d=\"M154.2481,252.4869 L154.2481,261.7838 L144.2481,271.7838 L77.96,271.7838\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"66.2881\" x=\"80.96\" y=\"266.482\">Runtime</text></g><!--cluster ecs--><g class=\"cluster\" data-qualified-name=\"cloud.runtime.ecs\" data-source-line=\"23\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"109.96,433.0869,119.96,423.0869,475.96,423.0869,475.96,645.2769,465.96,655.2769,109.96,655.2769,109.96,433.0869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"465.96\" x2=\"475.96\" y1=\"433.0869\" y2=\"423.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"109.96\" x2=\"465.96\" y1=\"433.0869\" y2=\"433.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"465.96\" x2=\"465.96\" y1=\"433.0869\" y2=\"655.2769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"176.6406\" x=\"200.6397\" y=\"449.082\">Amazon ECS (Fargate)</text></g><!--cluster service--><g class=\"cluster\" data-qualified-name=\"cloud.runtime.ecs.service\" data-source-line=\"24\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"141.96,489.0869,151.96,479.0869,435.96,479.0869,435.96,613.2769,425.96,623.2769,141.96,623.2769,141.96,489.0869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"425.96\" x2=\"435.96\" y1=\"489.0869\" y2=\"479.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"141.96\" x2=\"425.96\" y1=\"489.0869\" y2=\"489.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"425.96\" x2=\"425.96\" y1=\"489.0869\" y2=\"623.2769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"92.9961\" x=\"238.462\" y=\"505.082\">ECS Service</text></g><!--entity codecommit--><g class=\"entity\" data-qualified-name=\"cloud.cicd.codecommit\" data-source-line=\"13\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"147.5928\" x=\"548.16\" y=\"126.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"558.16\" y=\"149.292\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"590.4666\" y=\"149.292\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.8359\" x=\"594.9168\" y=\"149.292\">CodeCommit</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.3916\" x=\"577.639\" y=\"165.5889\">Source</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"626.0306\" y=\"165.5889\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.793\" x=\"630.4808\" y=\"165.5889\">Repo</text></g><!--entity codepipeline--><g class=\"entity\" data-qualified-name=\"cloud.cicd.codepipeline\" data-source-line=\"14\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"147.6953\" x=\"548.11\" y=\"287.4869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"558.11\" y=\"310.482\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"590.4166\" y=\"310.482\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.9385\" x=\"594.8668\" y=\"310.482\">CodePipeline</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"95.8945\" x=\"574.0104\" y=\"326.7789\">Orchestration</text></g><!--entity codebuild--><g class=\"entity\" data-qualified-name=\"cloud.cicd.codebuild\" data-source-line=\"15\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"156.7393\" x=\"547.59\" y=\"536.8869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"572.089\" y=\"559.882\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"604.3957\" y=\"559.882\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.9844\" x=\"608.8459\" y=\"559.882\">CodeBuild</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.1436\" x=\"557.59\" y=\"576.1789\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"592.7336\" y=\"576.1789\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"10.917\" x=\"597.1838\" y=\"576.1789\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"608.1007\" y=\"576.1789\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.4824\" x=\"612.5509\" y=\"576.1789\">Push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"646.0334\" y=\"576.1789\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"650.4836\" y=\"576.1789\">Image</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"cloud.cicd.ecr\" data-source-line=\"16\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"150.8057\" x=\"548.55\" y=\"748.2769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"579.2629\" y=\"771.272\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"635.8439\" y=\"771.272\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"640.2941\" y=\"771.272\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"558.55\" y=\"787.5689\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"626.9641\" y=\"787.5689\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.9414\" x=\"631.4143\" y=\"787.5689\">Registry</text></g><!--entity alb--><g class=\"entity\" data-qualified-name=\"cloud.runtime.alb\" data-source-line=\"21\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"202.5469\" x=\"117.68\" y=\"287.4869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.2236\" x=\"127.68\" y=\"310.482\">Application</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"205.9036\" y=\"310.482\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.8311\" x=\"210.3538\" y=\"310.482\">Load</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"244.1849\" y=\"310.482\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.5918\" x=\"248.6351\" y=\"310.482\">Balancer</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.8838\" x=\"191.0115\" y=\"326.7789\">(HTTPS)</text></g><!--entity nginx--><g class=\"entity\" data-qualified-name=\"cloud.runtime.ecs.service.nginx\" data-source-line=\"25\" id=\"ent0012\"><rect fill=\"#FFFFFF\" height=\"88.1875\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"261.5332\" x=\"158.19\" y=\"519.0869\"/><polygon fill=\"#FFFFFF\" points=\"402.7232,524.0869,402.7232,538.0869,414.7232,538.0869,414.7232,530.0869,408.7232,524.0869,402.7232,524.0869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"408.7232\" x2=\"408.7232\" y1=\"524.0869\" y2=\"530.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"414.7232\" x2=\"408.7232\" y1=\"530.0869\" y2=\"530.0869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.4072\" x=\"227.3209\" y=\"545.082\">Nginx</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"267.7281\" y=\"545.082\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"272.1783\" y=\"545.082\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.0313\" x=\"221.1104\" y=\"561.3789\">Static</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"261.1417\" y=\"561.3789\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"26.8789\" x=\"265.5919\" y=\"561.3789\">Site</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"292.4708\" y=\"561.3789\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.8818\" x=\"296.921\" y=\"561.3789\">(HTML)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.8076\" x=\"264.5528\" y=\"577.6757\">Base:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"231.5332\" x=\"168.19\" y=\"593.9726\">public.ecr.aws/nginx/nginx:latest</text></g><!--entity user--><g class=\"entity\" data-qualified-name=\"user\" data-source-line=\"31\" id=\"ent0013\"><ellipse cx=\"21.9551\" cy=\"122.9469\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M21.9551,130.9469 L21.9551,157.9469 M8.9551,138.9469 L34.9551,138.9469 M21.9551,157.9469 L8.9551,172.9469 M21.9551,157.9469 L34.9551,172.9469\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.9102\" x=\"6\" y=\"188.192\">User</text></g><!--link user to alb--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"34\" id=\"lnk14\"><path d=\"M38.08,166.6169 C70.61,192.9069 139.9533,248.9456 182.5333,283.3556\" fill=\"none\" id=\"user-to-alb\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"187.2,287.1269,182.7142,278.3589,183.3111,283.9842,177.6858,284.5811,187.2,287.1269\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.5371\" x=\"120.96\" y=\"233.6255\">HTTPS</text></g><!--link alb to nginx--><g class=\"link\" data-entity-1=\"ent0009\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"35\" id=\"lnk15\"><path d=\"M226.18,340.3369 C238.13,382.5569 260.4861,461.5836 275.1061,513.2436\" fill=\"none\" id=\"alb-to-nginx\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"276.74,519.0169,278.1381,509.2677,275.3785,514.2058,270.4404,511.4462,276.74,519.0169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"241.96\" y=\"389.2255\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"272.8799\" y=\"389.2255\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"44.0039\" x=\"276.6944\" y=\"389.2255\">(Target</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"320.6983\" y=\"389.2255\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.4785\" x=\"324.5127\" y=\"389.2255\">Group)</text></g><!--link codecommit to codepipeline--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"38\" id=\"lnk16\"><path d=\"M621.96,179.1669 C621.96,208.7869 621.96,251.3069 621.96,281.0069\" fill=\"none\" id=\"codecommit-to-codepipeline\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"621.96,287.0069,625.96,278.0069,621.96,282.0069,617.96,278.0069,621.96,287.0069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.4785\" x=\"622.96\" y=\"233.6255\">Source</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"664.4385\" y=\"233.6255\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"44.1621\" x=\"668.253\" y=\"233.6255\">change</text></g><!--link codepipeline to codebuild--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"39\" id=\"lnk17\"><path d=\"M622.37,340.3369 C623.13,387.7369 624.6729,482.8277 625.4429,530.4077\" fill=\"none\" id=\"codepipeline-to-codebuild\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"625.54,536.4069,629.3938,527.3433,625.4591,531.4075,621.3949,527.4728,625.54,536.4069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.123\" x=\"623.96\" y=\"389.2255\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"654.083\" y=\"389.2255\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33.3105\" x=\"657.8975\" y=\"389.2255\">stage</text></g><!--link codebuild to ecr--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"40\" id=\"lnk18\"><path d=\"M625.71,589.8569 C625.32,630.1469 624.6367,701.7871 624.2567,742.0171\" fill=\"none\" id=\"codebuild-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"624.2,748.0169,628.2848,739.0551,624.2472,743.0171,620.2852,738.9795,624.2,748.0169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.6992\" x=\"624.96\" y=\"715.4155\">Push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"653.6592\" y=\"715.4155\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"657.4737\" y=\"715.4155\">image</text></g><!--link codepipeline to ecs--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"41\" id=\"lnk19\"><path d=\"M549.16,340.4869 C535.5,348.1669 522.52,357.9069 512.96,370.0869 C499.63,387.0569 490.135,407.3081 483.3948,428.1978 C481.7098,433.4202 480.1969,438.6826 478.8394,443.9435 C478.1606,446.574 477.5206,449.2041 476.9174,451.8287 C476.6158,453.141 477.5936,448.5879 477.31,449.8968\" fill=\"none\" id=\"codepipeline-to-ecs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"476.0398,455.7608,481.8545,447.8116,477.0983,450.8742,474.0358,446.118,476.0398,455.7608\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.0176\" x=\"513.96\" y=\"382.2255\">Deploy</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"555.9776\" y=\"382.2255\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.8027\" x=\"559.792\" y=\"382.2255\">new</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"584.5948\" y=\"382.2255\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"25.2598\" x=\"588.4092\" y=\"382.2255\">task</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.4844\" x=\"535.5723\" y=\"396.1943\">definition</text></g><!--link ecs to ecr--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"42\" id=\"lnk20\"><path d=\"M476.1559,589.6015 C476.2898,589.9767 476.4252,590.3551 476.5624,590.7367 C477.6595,593.7892 478.8625,597.0418 480.172,600.4601 C482.791,607.2966 485.8359,614.7956 489.3113,622.6819 C503.2125,654.2269 524,691.9669 551.96,718.2769 C562.97,728.6469 571.0617,735.3913 582.8617,744.3013\" fill=\"none\" id=\"ecs-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"587.65,747.9169,582.8779,739.3013,583.6598,744.9039,578.0572,745.6857,587.65,747.9169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5098\" x=\"552.96\" y=\"715.4155\">Pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"574.4698\" y=\"715.4155\"> </text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"578.2842\" y=\"715.4155\">image</text></g><?plantuml-src RLHDZzem4BtxLynoQE40MVM8HALTjXyhRLj4gFPGUXWS9rZhs9RjaDAA_xvZ9s51QWwnutapy-RvmKqXIga5t3tdgwPMi0_1-dcMEMndbGpxPjTuuRZHGUWmuwREiFKATpwkKqa1FosDcrg5Eb21xF3XTdQR5T87TYCrLqrnBfxHkZHrRVJCqYTZGGOb80yO98TdiOCxQs7ylPBwpmICXa_B73wZgp08Q8aCB1-pvGDZ_aLgYmvhy7iiJ2jr1IKgBouYHDKQJQJpSAGcJl20kbA2iVUmM2owKd77j26A8-86IsMQOWJeWSST_6CCeAHg54_uBYPv304zlr8MvSUnPDZgt3IE2rWBQtudBCLuYbtZLz8AHRflzG_7zy87HneOVSwnVVmwwxwHgjZgjC0xM3L-3uyrLkASjukXFgd6lqd3zLOlwVwGoZbYLj7Lk6FA4DmHzXIdx4HPDpf8cZRASfwyFqopknumZ6-jaZnHXoU31TmZ-O0BjzNZhvlDAf-aFgXsB2NqKW_CSXZtrpiPTNnyNtc0Hamkt47ohh_lzcSK0BeWI-G1HiatS1wLBgCpLYx9FaJdszE4j4Clvc2R7V6UqVmpid6cOsRtdYjYuqDgbWxwHYSsl4-C1AE6ni7e9_59qFWZ6PorSLYMrBTKfarAnY1Cfn-Z3Z2790oB-tYMclIdCDwG72B05sSQEnaAFf0L3i8Ttog-sIhLk7GCbUfDoFTaUC6kWWCw-OIWdPLym1xOdKSKQKFnP35Pu__gnDkQ4pchp16qQ26WVu7qVoAZ8rW4N9PIgYlr2W00?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime (serving the static site)\n- **Application Load Balancer (ALB)**: Public entry point for end users over **HTTPS**. Routes traffic to a target group.\n- **Amazon ECS on Fargate (ECS Service)**: Runs the application as a containerized workload without managing servers.\n- **Nginx container (static site)**: Serves the **HTML** static web content using **Nginx**. The container is built from the base image **public.ecr.aws/nginx/nginx:latest**.\n\n### CI/CD (build and deployment)\n- **AWS CodeCommit**: Hosts the source repository (HTML + Dockerfile + buildspec.yml).\n- **AWS CodePipeline**: Orchestrates the end-to-end pipeline (source → build → deploy).\n- **AWS CodeBuild**: Builds the Docker image from the Dockerfile and pushes it to the registry.\n- **Amazon ECR**: Stores versioned container images.\n\n### Key flows\n- **User traffic**: User → **ALB (HTTPS)** → **ECS Service task (HTTP via Target Group)** → Nginx serves static content.\n- **Delivery flow**: Commit to **CodeCommit** triggers **CodePipeline**, which runs **CodeBuild** to build/push to **ECR**, then **CodePipeline** deploys an updated ECS task definition; ECS pulls the new image from ECR and rolls out the updated tasks."
}