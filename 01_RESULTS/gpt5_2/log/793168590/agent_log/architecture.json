{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\n' High-level deployment diagram (kept abstract and readable)\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle High-Level Deployment Architecture (Flask Container + Lambda -> SageMaker)\n\nactor \"Client / Tester\\n(curl, post_test.py)\" as client\n\ncloud \"AWS Cloud\" as aws {\n\n  node \"Amazon ECR\\n(Container Registry)\" as ecr {\n    artifact \"Docker Image\\nFlask API (Python 3)\" as image\n  }\n\n  node \"Amazon SageMaker\" as sm {\n    node \"SageMaker Endpoint\\n(Managed Hosting)\" as endpoint {\n      node \"Inference Container\\nFlask 3.0.3\\nEndpoints: /ping, /invocations\" as flask\n    }\n  }\n\n  node \"AWS Lambda\" as lambda {\n    component \"Lambda Function\\nPython (boto3)\\nInvokes SageMaker Runtime\" as fn\n  }\n\n  node \"Amazon EventBridge\" as eb {\n    component \"Scheduled Rule\\n(Cron)\" as rule\n  }\n\n  node \"Amazon CloudWatch\" as cw {\n    component \"Logs & Metrics\" as logs\n  }\n\n  node \"AWS IAM\" as iam {\n    component \"Execution Roles & Policies\\n- SageMaker execution role\\n- Lambda role (InvokeEndpoint)\" as roles\n  }\n}\n\n' Relationships\nclient --> endpoint : HTTPS\\n/ping, /invocations\nclient --> ecr : docker push/pull\\n(image publish)\nimage --> flask : deployed as\\nSageMaker container\n\nrule --> fn : triggers\nfn --> endpoint : boto3 sagemaker-runtime\\nInvokeEndpoint\n\nendpoint --> logs : logs/metrics\nfn --> logs : logs\n\nroles ..> endpoint : permissions\\n(ECR pull, CW logs)\nroles ..> fn : permissions\\n(InvokeEndpoint, CW logs)\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1028px\" preserveAspectRatio=\"none\" style=\"width:951px;height:1028px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 951 1028\" width=\"951px\" zoomAndPan=\"magnify\"><title>High-Level Deployment Architecture (Flask Container + Lambda -&gt; SageMaker)</title><defs/><g><g class=\"title\" data-source-line=\"11\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"628.1816\" x=\"154.7502\" y=\"22.9951\">High-Level Deployment Architecture (Flask Container + Lambda -&gt; SageMaker)</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"15\" id=\"ent0003\"><path d=\"M184.5585,83.972 C203.4866,50.8942 225.4357,55.6111 246.3518,81.9028 C262.7288,56.7437 288.0946,55.6498 304.8075,81.5179 C321.031,54.8841 349.9897,47.2588 368.1757,79.4021 C382.0684,49.0056 409.3464,49.2998 424.4569,78.2472 C442.5217,55.2612 459.199,56.2933 477.4359,78.0434 C500.1365,46.8724 519.3261,48.0946 541.0325,79.061 C560.516,47.4972 583.6797,47.7491 601.0015,81.0593 C616.4874,53.9124 636.8719,45.5241 658.407,74.9176 C678.4389,48.3637 698.5715,49.7782 715.583,78.0665 C738.3249,49.0471 759.8048,43.2969 781.2329,79.3911 C802.0316,52.1531 820.9152,57.9318 837.7378,83.6349 C854.6605,52.0776 884.0373,58.2644 899.89,84.7801 C904.3105,83.7716 906.2472,86.6835 904.9211,90.6231 C928.8579,112.7003 931.2822,134.4403 901.2807,153.3892 C933.5594,164.7557 937.8002,189.5163 912.4893,211.9125 C939.0545,231.1084 939.4398,264.283 907.4155,279.0511 C939.9593,300.177 935.9181,326.2663 907.5991,347.5554 C934.1126,362.3919 939.896,383.5977 915.1505,405.1545 C937.9658,429.7527 941.3897,449.9616 906.1613,465.9821 C942.0718,483.065 940.8517,509.0031 911.6973,531.5772 C944.1073,552.9551 936.0771,579.9829 907.9079,597.8996 C933.1081,613.353 928.7684,640.6621 905.0059,653.5629 C937.1841,671.1861 938.1577,700.3119 904.77,717.6939 C941.1848,732.0831 944.682,757.8944 913.6915,781.6815 C939.0845,807.1415 942.0448,829.9031 907.2919,849.7046 C936.2476,873.3651 939.5916,893.7971 905.1188,915.3581 C930.1255,937.6653 928.9809,966.1731 892.89,976.2001 C895.0207,973.5409 898.0931,974.396 899.3247,977.2496 C883.8453,1007.005 858.6814,1006.9525 837.4799,983.9582 C816.8325,1008.1998 793.1877,1003.9318 777.8647,977.6728 C767.5036,1009.3689 740.3227,1009.9098 719.7616,988.9219 C704.8261,1021.5106 675.7646,1021.781 660.2568,989.4465 C642.7658,1019.262 615.5249,1014.3702 602.3975,985.1685 C584.9681,1011.3437 553.6165,1015.8098 539.9102,981.3326 C523.4869,1007.5997 497.4394,1013.5716 479.7287,982.6883 C460.7748,1005.37 442.0762,1007.0583 425.842,979.7563 C409.1751,1007.1745 381.7491,1011.1377 363.2581,981.7664 C349.8199,1007.9077 320.607,1019.1476 301.8874,987.3617 C283.5255,1014.8591 259.8219,1017.1754 243.3308,985.5099 C212.2746,1010.2961 189.0452,1008.7703 172.89,969.2001 C175.5543,969.6224 176.8628,971.1945 175.035,973.7395 C147.3018,952.0744 153.4035,932.9763 178.7617,914.6602 C143.956,895.2715 145.4296,869.5486 177.2687,848.6525 C151.5842,828.5041 152.3079,802.7545 179.9022,784.8036 C150.7794,761.6435 143.8292,741.0587 179.1546,717.1861 C148.7834,700.019 154.7463,675.966 180.8204,660.4562 C147.8325,644.3469 141.4571,618.2748 173.6302,595.0068 C144.5997,570.4925 149.7809,547.3252 180.8405,529.4165 C149.8802,515.1627 145.3388,495.7474 173.163,473.4322 C136.9714,450.0579 138.7772,428.9474 173.2399,405.6531 C146.8666,385.0724 148.8048,357.1894 177.9618,340.6419 C150.1812,325.4159 144.1401,295.9502 171.9696,275.6008 C149.6077,255.2831 149.4047,235.0339 176.852,219.0138 C147.3709,196.2737 147.8776,173.2572 177.4113,151.0025 C148.685,129.3238 141.0753,97.1724 179.89,77.7801 C184.5194,77.4763 185.6417,79.9687 184.5585,83.972\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"85.9141\" x=\"493.433\" y=\"95.7752\">AWS Cloud</text></g><!--cluster ecr--><g class=\"cluster\" data-qualified-name=\"aws.ecr\" data-source-line=\"17\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"196.89,349.4201,206.89,339.4201,433.89,339.4201,433.89,473.0101,423.89,483.0101,196.89,483.0101,196.89,349.4201\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"423.89\" x2=\"433.89\" y1=\"349.4201\" y2=\"339.4201\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"196.89\" x2=\"423.89\" y1=\"349.4201\" y2=\"349.4201\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"423.89\" x2=\"423.89\" y1=\"349.4201\" y2=\"483.0101\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"98.0957\" x=\"262.3421\" y=\"365.4152\">Amazon ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"160.9863\" x=\"230.8968\" y=\"381.7121\">(Container Registry)</text></g><!--cluster sm--><g class=\"cluster\" data-qualified-name=\"aws.sm\" data-source-line=\"21\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"188.89,576.0101,198.89,566.0101,567.89,566.0101,567.89,810.9001,557.89,820.9001,188.89,820.9001,188.89,576.0101\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"557.89\" x2=\"567.89\" y1=\"576.0101\" y2=\"566.0101\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"188.89\" x2=\"557.89\" y1=\"576.0101\" y2=\"576.0101\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"557.89\" x2=\"557.89\" y1=\"576.0101\" y2=\"820.9001\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"155.6133\" x=\"296.5834\" y=\"592.0052\">Amazon SageMaker</text></g><!--cluster endpoint--><g class=\"cluster\" data-qualified-name=\"aws.sm.endpoint\" data-source-line=\"22\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"220.89,632.0101,230.89,622.0101,535.89,622.0101,535.89,778.9001,525.89,788.9001,220.89,788.9001,220.89,632.0101\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"525.89\" x2=\"535.89\" y1=\"632.0101\" y2=\"622.0101\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"220.89\" x2=\"525.89\" y1=\"632.0101\" y2=\"632.0101\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"525.89\" x2=\"525.89\" y1=\"632.0101\" y2=\"788.9001\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"163.6592\" x=\"292.5604\" y=\"648.0052\">SageMaker Endpoint</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"151.1494\" x=\"298.8153\" y=\"664.3021\">(Managed Hosting)</text></g><!--cluster lambda--><g class=\"cluster\" data-qualified-name=\"aws.lambda\" data-source-line=\"27\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"631.89,366.7701,641.89,356.7701,883.89,356.7701,883.89,471.6601,873.89,481.6601,631.89,481.6601,631.89,366.7701\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"873.89\" x2=\"883.89\" y1=\"366.7701\" y2=\"356.7701\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"631.89\" x2=\"873.89\" y1=\"366.7701\" y2=\"366.7701\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"873.89\" x2=\"873.89\" y1=\"366.7701\" y2=\"481.6601\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"103.6807\" x=\"702.0497\" y=\"382.7652\">AWS Lambda</text></g><!--cluster eb--><g class=\"cluster\" data-qualified-name=\"aws.eb\" data-source-line=\"31\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"642.89,139.0801,652.89,129.0801,882.89,129.0801,882.89,227.6701,872.89,237.6701,642.89,237.6701,642.89,139.0801\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"872.89\" x2=\"882.89\" y1=\"139.0801\" y2=\"129.0801\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"642.89\" x2=\"872.89\" y1=\"139.0801\" y2=\"139.0801\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"872.89\" x2=\"872.89\" y1=\"139.0801\" y2=\"237.6701\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"164.2334\" x=\"676.7733\" y=\"155.0752\">Amazon EventBridge</text></g><!--cluster cw--><g class=\"cluster\" data-qualified-name=\"aws.cw\" data-source-line=\"35\" id=\"ent0013\"><polygon fill=\"#FFFFFF\" points=\"560.89,877.9001,570.89,867.9001,798.89,867.9001,798.89,950.2001,788.89,960.2001,560.89,960.2001,560.89,877.9001\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"788.89\" x2=\"798.89\" y1=\"877.9001\" y2=\"867.9001\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"560.89\" x2=\"788.89\" y1=\"877.9001\" y2=\"877.9001\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"788.89\" x2=\"788.89\" y1=\"877.9001\" y2=\"960.2001\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"162.0049\" x=\"594.8876\" y=\"893.8952\">Amazon CloudWatch</text></g><!--cluster iam--><g class=\"cluster\" data-qualified-name=\"aws.iam\" data-source-line=\"39\" id=\"ent0015\"><polygon fill=\"#FFFFFF\" points=\"373.89,122.7801,383.89,112.7801,617.89,112.7801,617.89,243.9701,607.89,253.9701,373.89,253.9701,373.89,122.7801\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"607.89\" x2=\"617.89\" y1=\"122.7801\" y2=\"112.7801\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"373.89\" x2=\"607.89\" y1=\"122.7801\" y2=\"122.7801\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"607.89\" x2=\"607.89\" y1=\"122.7801\" y2=\"253.9701\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"71.21\" x=\"456.285\" y=\"138.7752\">AWS IAM</text></g><!--entity image--><g class=\"entity\" data-qualified-name=\"aws.ecr.image\" data-source-line=\"18\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"169.7813\" x=\"221\" y=\"403.4201\"/><polygon fill=\"#FFFFFF\" points=\"373.7813,408.4201,373.7813,422.4201,385.7813,422.4201,385.7813,414.4201,379.7813,408.4201,373.7813,408.4201\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"379.7813\" x2=\"379.7813\" y1=\"408.4201\" y2=\"414.4201\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"385.7813\" x2=\"379.7813\" y1=\"414.4201\" y2=\"414.4201\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"251.9829\" y=\"429.4152\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"301.5024\" y=\"429.4152\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"305.9526\" y=\"429.4152\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"231\" y=\"445.7121\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"266.9229\" y=\"445.7121\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"271.373\" y=\"445.7121\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"293.5215\" y=\"445.7121\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.9902\" x=\"297.9717\" y=\"445.7121\">(Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"351.9619\" y=\"445.7121\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"14.3691\" x=\"356.4121\" y=\"445.7121\">3)</text></g><!--entity flask--><g class=\"entity\" data-qualified-name=\"aws.sm.endpoint.flask\" data-source-line=\"23\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"245.07,696.0101,255.07,686.0101,492.7116,686.0101,492.7116,754.9007,482.7116,764.9007,245.07,764.9007,245.07,696.0101\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"482.7116\" x2=\"492.7116\" y1=\"696.0101\" y2=\"686.0101\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"245.07\" x2=\"482.7116\" y1=\"696.0101\" y2=\"696.0101\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"482.7116\" x2=\"482.7116\" y1=\"696.0101\" y2=\"764.9007\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"66.0967\" x=\"294.4103\" y=\"719.0052\">Inference</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"360.507\" y=\"719.0052\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"364.9572\" y=\"719.0052\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"325.8932\" y=\"735.3021\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"361.8161\" y=\"735.3021\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.6221\" x=\"366.2663\" y=\"735.3021\">3.0.3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"74.3203\" x=\"260.07\" y=\"751.599\">Endpoints:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"334.3903\" y=\"751.599\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.7031\" x=\"338.8405\" y=\"751.599\">/ping,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"378.5436\" y=\"751.599\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"84.7178\" x=\"382.9938\" y=\"751.599\">/invocations</text></g><!--entity fn--><g class=\"entity\" data-qualified-name=\"aws.lambda.fn\" data-source-line=\"28\" id=\"ent0010\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"219.9717\" x=\"647.91\" y=\"396.7701\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.3691\" x=\"697.3294\" y=\"419.7652\">Lambda</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"753.6986\" y=\"419.7652\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"60.3135\" x=\"758.1488\" y=\"419.7652\">Function</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"705.7376\" y=\"436.0621\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"754.266\" y=\"436.0621\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.3379\" x=\"758.7162\" y=\"436.0621\">(boto3)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.8672\" x=\"657.91\" y=\"452.359\">Invokes</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"711.7772\" y=\"452.359\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.1006\" x=\"716.2274\" y=\"452.359\">SageMaker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"794.328\" y=\"452.359\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"59.1035\" x=\"798.7782\" y=\"452.359\">Runtime</text></g><!--entity rule--><g class=\"entity\" data-qualified-name=\"aws.eb.rule\" data-source-line=\"32\" id=\"ent0012\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"128.7734\" x=\"693.5\" y=\"169.0801\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.2197\" x=\"703.5\" y=\"192.0752\">Scheduled</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"776.7197\" y=\"192.0752\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.1035\" x=\"781.1699\" y=\"192.0752\">Rule</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8936\" x=\"735.9399\" y=\"208.3721\">(Cron)</text></g><!--entity logs--><g class=\"entity\" data-qualified-name=\"aws.cw.logs\" data-source-line=\"36\" id=\"ent0014\"><rect fill=\"#FFFFFF\" height=\"36.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"123.1816\" x=\"618.3\" y=\"907.9001\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.5459\" x=\"628.3\" y=\"930.8952\">Logs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"660.8459\" y=\"930.8952\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"10.917\" x=\"665.2961\" y=\"930.8952\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"676.2131\" y=\"930.8952\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.8184\" x=\"680.6633\" y=\"930.8952\">Metrics</text></g><!--entity roles--><g class=\"entity\" data-qualified-name=\"aws.iam.roles\" data-source-line=\"40\" id=\"ent0016\"><rect fill=\"#FFFFFF\" height=\"85.1875\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"212.2266\" x=\"389.78\" y=\"152.7801\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.1318\" x=\"404.008\" y=\"175.7752\">Execution</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"473.1399\" y=\"175.7752\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.0898\" x=\"477.5901\" y=\"175.7752\">Roles</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"515.6799\" y=\"175.7752\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"10.917\" x=\"520.1301\" y=\"175.7752\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"531.0471\" y=\"175.7752\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.2813\" x=\"535.4973\" y=\"175.7752\">Policies</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"399.78\" y=\"192.0721\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"404.8318\" y=\"192.0721\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.1006\" x=\"409.282\" y=\"192.0721\">SageMaker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"487.3825\" y=\"192.0721\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.8994\" x=\"491.8327\" y=\"192.0721\">execution</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"560.7321\" y=\"192.0721\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"26.8242\" x=\"565.1823\" y=\"192.0721\">role</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"5.0518\" x=\"447.3205\" y=\"208.369\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"452.3723\" y=\"208.369\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.3691\" x=\"456.8225\" y=\"208.369\">Lambda</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"513.1916\" y=\"208.369\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"26.8242\" x=\"517.6418\" y=\"208.369\">role</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"119.8066\" x=\"435.99\" y=\"224.6658\">(InvokeEndpoint)</text></g><!--entity client--><g class=\"entity\" data-qualified-name=\"client\" data-source-line=\"13\" id=\"ent0002\"><ellipse cx=\"71.8916\" cy=\"157.5801\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M71.8916,165.5801 L71.8916,192.5801 M58.8916,173.5801 L84.8916,173.5801 M71.8916,192.5801 L58.8916,207.5801 M71.8916,192.5801 L84.8916,207.5801\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.5303\" x=\"22.6592\" y=\"222.8252\">Client</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"63.1895\" y=\"222.8252\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"67.6396\" y=\"222.8252\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"72.3564\" y=\"222.8252\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.3174\" x=\"76.8066\" y=\"222.8252\">Tester</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.1279\" x=\"6\" y=\"239.1221\">(curl,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"42.1279\" y=\"239.1221\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"91.2051\" x=\"46.5781\" y=\"239.1221\">post_test.py)</text></g><!--link client to endpoint--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"45\" id=\"lnk17\"><path d=\"M59.78,242.8501 C45.76,308.2501 31.77,427.4101 92.89,499.0101 C158.34,575.6801 213.99,536.5601 313.89,550.0101 C324.64,551.4601 500.95,550.6301 508.89,558.0101 C535.73,582.9651 540.7525,623.6776 538.9325,658.5901 C538.4775,667.3182 537.5948,675.6838 536.5185,683.3501 C536.384,684.3084 536.2464,685.2558 536.1063,686.1916 C536.0362,686.6594 536.8806,681.1946 536.8093,681.6566\" fill=\"none\" id=\"client-to-endpoint\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"535.8942,687.5864,541.22,679.3018,536.6567,682.6449,533.3136,678.0817,535.8942,687.5864\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.5371\" x=\"129.8519\" y=\"428.8588\">HTTPS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.0313\" x=\"93.89\" y=\"442.8275\">/ping,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"127.9213\" y=\"442.8275\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"72.6152\" x=\"131.7357\" y=\"442.8275\">/invocations</text></g><!--link client to ecr--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"46\" id=\"lnk18\"><path d=\"M138.08,221.4701 C235.71,258.5001 406.89,323.4201 406.89,323.4201 C410.6763,327.9863 413.8184,333.0459 416.4177,338.4082 C416.5802,338.7433 414.1932,333.6472 414.3514,333.9847\" fill=\"none\" id=\"client-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"416.8988,339.4171,416.6994,329.5703,414.776,334.8901,409.4562,332.9667,416.8988,339.4171\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"40.8223\" x=\"384.89\" y=\"291.5588\">docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"425.7123\" y=\"291.5588\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"55.0137\" x=\"429.5267\" y=\"291.5588\">push/pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.0586\" x=\"387.7552\" y=\"305.5275\">(image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"429.8138\" y=\"305.5275\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.0469\" x=\"433.6283\" y=\"305.5275\">publish)</text></g><!--link image to flask--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"47\" id=\"lnk19\"><path d=\"M311.76,459.4501 C323,511.5901 346.3363,619.8147 359.2763,679.8747\" fill=\"none\" id=\"image-to-flask\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"360.54,685.7401,362.5547,676.0995,359.4869,680.8523,354.7342,677.7845,360.54,685.7401\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"55.3945\" x=\"330.89\" y=\"519.1488\">deployed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"386.2845\" y=\"519.1488\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"13.6055\" x=\"390.099\" y=\"519.1488\">as</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"66.9434\" x=\"333.8255\" y=\"533.1175\">SageMaker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.8594\" x=\"338.8675\" y=\"547.0863\">container</text></g><!--link rule to fn--><g class=\"link\" data-entity-1=\"ent0012\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"49\" id=\"lnk20\"><path d=\"M757.89,221.8401 C757.89,264.2201 757.89,343.2101 757.89,390.5001\" fill=\"none\" id=\"rule-to-fn\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"757.89,396.5001,761.89,387.5001,757.89,391.5001,753.89,387.5001,757.89,396.5001\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.7754\" x=\"758.89\" y=\"298.5588\">triggers</text></g><!--link fn to endpoint--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"50\" id=\"lnk21\"><path d=\"M688.38,466.0201 C648.15,485.6201 605.31,506.5501 604.89,507.0101 C571.31,544.6751 552.1325,597.9401 541.315,642.3251 C539.9628,647.8732 538.7413,653.2826 537.6385,658.5054 C537.0871,661.1168 537.7219,657.7941 537.2285,660.3062\" fill=\"none\" id=\"fn-to-endpoint\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"536.072,666.1937,541.7317,658.1334,537.0357,661.2875,533.8817,656.5915,536.072,666.1937\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.6406\" x=\"647.8197\" y=\"519.1488\">boto3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"118.5\" x=\"605.89\" y=\"533.1175\">sagemaker-runtime</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"93.3281\" x=\"618.4759\" y=\"547.0863\">InvokeEndpoint</text></g><!--link endpoint to logs--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"52\" id=\"lnk22\"><path d=\"M536.0925,737.1733 C537.0145,738.3779 538.005,739.672 539.0593,741.0494 C541.1677,743.8042 543.5312,746.8921 546.1114,750.2632 C556.4322,763.7476 570.2206,781.7626 585.0288,801.1101 C614.645,839.8051 644.6937,879.0652 662.8837,902.8352\" fill=\"none\" id=\"endpoint-to-logs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"666.53,907.6001,664.2371,898.0219,663.4914,903.6293,657.8839,902.8836,666.53,907.6001\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"73.4824\" x=\"622.89\" y=\"849.0388\">logs/metrics</text></g><!--link fn to logs--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"53\" id=\"lnk23\"><path d=\"M755.96,466.0801 C751.35,537.9701 737.56,710.7701 704.89,851.9001 C700.38,871.3801 694.8169,887.3751 689.1469,902.0151\" fill=\"none\" id=\"fn-to-logs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"686.98,907.6101,693.9604,900.6622,688.7858,902.9476,686.5004,897.7729,686.98,907.6101\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.5449\" x=\"748.89\" y=\"730.0988\">logs</text></g><!--link roles to endpoint--><g class=\"link\" data-entity-1=\"ent0016\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"55\" id=\"lnk24\"><path d=\"M498.43,238.2501 C502.185,300.2151 509.465,420.3601 515.8488,525.7088 C517.4447,552.046 518.9846,577.4585 520.3994,600.8059 C520.7531,606.6427 521.099,612.3505 521.436,617.9114 C521.4781,618.6065 521.1572,613.3103 521.199,614.0008\" fill=\"none\" id=\"roles-to-endpoint\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"521.562,619.9898,525.0102,610.7643,521.2595,614.999,517.0249,611.2483,521.562,619.9898\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"71.9941\" x=\"536.6927\" y=\"428.8588\">permissions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.9805\" x=\"514.89\" y=\"442.8275\">(ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"543.8705\" y=\"442.8275\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"25.7051\" x=\"547.6849\" y=\"442.8275\">pull,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"573.39\" y=\"442.8275\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.2441\" x=\"577.2045\" y=\"442.8275\">CW</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"597.4486\" y=\"442.8275\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.2266\" x=\"601.263\" y=\"442.8275\">logs)</text></g><!--link roles to fn--><g class=\"link\" data-entity-1=\"ent0016\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"56\" id=\"lnk25\"><path d=\"M543.03,238.4501 C593.72,283.6801 668.8039,350.7045 715.5639,392.4445\" fill=\"none\" id=\"roles-to-fn\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"720.04,396.4401,715.9896,387.4627,716.3099,393.1105,710.6621,393.4308,720.04,396.4401\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"71.9941\" x=\"642.805\" y=\"284.5588\">permissions</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"101.8242\" x=\"627.89\" y=\"298.5275\">(InvokeEndpoint,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.2441\" x=\"652.1595\" y=\"312.4963\">CW</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"672.4037\" y=\"312.4963\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.2266\" x=\"676.2181\" y=\"312.4963\">logs)</text></g><?plantuml-src RLJ1Rjim3BthAxWSjWIhxQwzTS20BElG00iG90Lw2J0eCcCBaIL3afjsG_zzb6GdwTeUwbWa7n_Ve_oXn9tK2DE7zR9h5DJUj-wcA2m_v9NqTRVj75fXj4VjSs6QWX-SubiNdfcaWCjsncQjujeJGF5uTPbV5gLqddsGMgYkF88Nz9oPfZ4wR-cLiKzm9wiwK_Y82afibNbkg0sKabUMDp3M1l39MmuzaliAUyGMg3-T2ZzXpEsbRdd8TZKlpK7g2dPSEJoB4EtMQ49U-sU5O55uhYjrddAml7sGfQ_XwkhoxBpXJmjqZbUubdyGlb2GUUa99LB_5Qd_E56VMb5BJmqwYp3-gRZRmupKuoIoXS_mYpVRaaFs3TQ4kU1xj3G4ZM8iZ6PA1em2xj5vj1iz5frL5z0QvtzxEilRvya8k0CHCnaJodGbZ4XOc8MVCKZEm5_60BGXyKVJXlyn6cvdAm8ySLbXHIRP7X25fHgWFswzt14X6FqmWkZ1l26c6vrccIxdC5u--veGhrEf374gVNdJyZXYp7DDto7b78DmgylMIEs9te9hEYxXZYOc9tjkVRml7m3cUeSMjS2Jm0FBw_molzxe0TZTGD4It0KKKZyQmRsalOtOkv0VOL_-6u4aJMR5F9LyImoE-mIZti-VdHO1TADxRSPRuytrPAFdr72FxgG5h3hjPOEflNvNkDj70lzkPLcbDDo-xRmMDPQT8h5Mz3zOQurEWbawU1StxiW3zw9EMtHuPo1JEVW82_HMYgIHegEtuiodYsG_RzwYt3wXw88Wi38A0-3IA2aaketEphJ0OvurOOXik23X5SP9lC76VhW06EcyX2_82bMoivQjO-bUG4RtwxWrDt1tVxzSR_GxE_2gWAx03PHfwTlErKNRAKN2nWMdawsIhfwmz1egulA4cdZ_oGbEuvs64yDQCXOSIIMQyadQgaBh6BtzHpMk3OJlJHCmCfkMPTYZGGh6ZZK183X4nU5HDCcv0ViiH3IY6Nd-gcMBjf7E1JbeMFfCG9Zx0cOFiMfoLXNPlyv_pUjKzGy0?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Core runtime components\n- **Flask inference container (Python, Flask 3.0.3)**\n  - Containerized web app exposing **`/ping`** (health) and **`/invocations`** (inference-style request).\n  - Built via the repoâ€™s **Dockerfile** and intended to run as a **SageMaker-hosted inference container**.\n\n- **Amazon SageMaker Endpoint**\n  - Hosts the Flask container as a managed, scalable HTTPS endpoint.\n  - Receives inference calls from:\n    - a direct client/tester (e.g., `curl`, `post_test.py`), and\n    - an AWS Lambda function (via `boto3` `sagemaker-runtime` `InvokeEndpoint`).\n\n- **AWS Lambda (Python + boto3)**\n  - Implements a lightweight invoker (`lambda_function.py`) that calls the SageMaker endpoint using **SageMaker Runtime**.\n  - Useful for scheduled checks, orchestration, or integration into event-driven workflows.\n\n### Supporting AWS services\n- **Amazon ECR (Elastic Container Registry)**\n  - Stores the built Docker image for the Flask inference service.\n  - SageMaker pulls the image from ECR when creating/updating the endpoint.\n\n- **Amazon EventBridge (scheduled rule)**\n  - Optional/illustrated trigger to run the Lambda on a schedule (e.g., periodic endpoint invocation/health check).\n\n- **Amazon CloudWatch (logs & metrics)**\n  - Centralized logging/metrics for:\n    - SageMaker endpoint/container logs and health signals\n    - Lambda execution logs\n\n- **AWS IAM (roles & policies)**\n  - Required permissions include:\n    - **SageMaker execution role**: pull image from ECR, write logs/metrics to CloudWatch.\n    - **Lambda role**: `sagemaker:InvokeEndpoint` (via runtime) and CloudWatch logging.\n\n### Main flows\n1. **Build & publish**: Developer/CI builds Docker image and pushes to **ECR**.\n2. **Deploy**: **SageMaker Endpoint** is configured to pull the image from ECR and run the Flask container.\n3. **Invoke**:\n   - Direct: client/tester calls the endpoint over HTTPS (`/ping`, `/invocations`).\n   - Indirect: EventBridge triggers Lambda; Lambda calls `InvokeEndpoint` on SageMaker.\n4. **Observe**: Lambda and SageMaker emit logs/metrics to **CloudWatch**."
}