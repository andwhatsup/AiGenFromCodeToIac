{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle Axum (Rust) on AWS ECS with CodeDeploy Blue/Green\n\nactor \"Client\" as client\n\ncloud \"AWS\" as aws {\n\n  node \"VPC\" as vpc {\n    node \"Public Subnets\" as pub {\n      node \"Application Load Balancer\" as alb {\n        artifact \"HTTPS Listener :443\\nTarget Groups (Blue/Green)\" as listener\n      }\n    }\n\n    node \"Private Subnets\" as priv {\n      node \"ECS Cluster\" as ecs {\n        node \"ECS Service\\n(Blue/Green via CodeDeploy)\" as svc {\n          node \"Fargate Task\" as task {\n            component \"Axum API Container\\nRust + Axum 0.7 + Hyper 1.x\\nTokio 1.x + Tower/tower-http\\nListens: 0.0.0.0:3000\" as api\n            component \"CloudWatch Logs Agent\\nawslogs driver\" as logsagent\n          }\n        }\n      }\n    }\n  }\n\n  database \"Amazon CloudWatch Logs\\nLog Group: /ecs/axum-service\" as cwlogs\n\n  node \"AWS CodeDeploy\" as codedeploy {\n    component \"Deployment Group\\nECSAllAtOnce\\nTraffic shifting between\\nBlue/Green target groups\" as dg\n  }\n\n  node \"CI/CD\" as cicd {\n    component \"Docker Build (multi-stage)\\nBuilder: rust:1.67\\nRuntime: debian:buster-slim\" as dockerbuild\n    component \"Container Registry\\n(Amazon ECR)\" as ecr\n  }\n}\n\nclient --> listener : HTTPS\nlistener --> api : Forward to :3000\n\napi --> cwlogs : stdout/stderr\\n(tracing subscriber)\nlogsagent --> cwlogs : awslogs\n\ndockerbuild --> ecr : Push image\ncodedeploy --> svc : Update task set\\n& shift traffic\nsvc --> ecr : Pull image\nalb ..> codedeploy : Blue/Green\\ntraffic control\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1280px\" preserveAspectRatio=\"none\" style=\"width:1466px;height:1280px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1466 1280\" width=\"1466px\" zoomAndPan=\"magnify\"><title>Axum (Rust) on AWS ECS with CodeDeploy Blue/Green</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"428.8525\" x=\"512.0569\" y=\"22.9951\">Axum (Rust) on AWS ECS with CodeDeploy Blue/Green</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"13\" id=\"ent0003\"><path d=\"M82.0762,196.5489 C100.8169,159.4292 142.7307,143.321 168.6555,189.0404 C199.8941,152.4328 240.3812,149.2346 264.8155,196.8125 C291.5215,149.6465 335.6633,158.5549 360.9412,198.3904 C391.4288,152.6314 428.309,154.9581 461.5582,195.1578 C487.7699,148.0523 518.0737,143.8335 551.2735,188.3124 C577.3775,137.988 620.924,139.15 646.9356,188.4011 C676.7749,145.866 713.2449,146.5721 734.9272,196.1897 C763.8747,152.0473 796.3507,142.3343 828.9731,192.526 C855.8732,154.5076 885.229,143.8007 916.9202,187.3609 C950.8152,130.4909 985.7478,131.8258 1021.7381,185.3718 C1048.9173,144.4057 1083.1817,152.3029 1103.7894,192.052 C1131.0107,146.3924 1174.825,143.2005 1198.0064,195.9209 C1233.4237,150.3922 1279.4429,146.5282 1306.8641,204.3437 C1329.8303,154.6439 1360.773,159.1364 1392.3382,195.8369 C1398.9944,195.3413 1403.2523,198.227 1400.643,205.6072 C1442.2704,232.4992 1447.4273,284.9574 1399.0237,310.459 C1444.1203,339.656 1452.1941,369.6286 1406.4539,405.8975 C1451.1896,432.0366 1442.4437,478.1935 1401.9253,500.2403 C1455.9098,535.4609 1450.3873,577.0859 1403.2952,613.5286 C1446.4403,644.3224 1444.6518,679.0258 1403.2117,709.7462 C1451.9028,738.2019 1444.8189,780.7056 1404.5299,810.3274 C1442.3288,840.568 1455.923,876.3523 1403.4493,905.5687 C1455.1834,931.2533 1456.0616,980.6 1405.8414,1008.6505 C1459.9663,1042.9457 1456.7447,1076.5878 1406.4655,1111.5165 C1444.1747,1151.8134 1434.2819,1184.8545 1385.3382,1205.7169 C1387.4767,1206.6365 1387.8985,1209.0079 1386.0297,1210.5062 C1364.2794,1251.104 1338.6146,1258.2633 1305.8374,1222.0129 C1273.0253,1260.9498 1242.1742,1258.5509 1212.388,1218.4359 C1178.1712,1261.3494 1138.7812,1264.7148 1112.634,1210.1757 C1094.1724,1265.1502 1052.8812,1271.2148 1017.9687,1225.6682 C986.5301,1267.6413 943.8144,1263.8787 927.1567,1211.4495 C905.6171,1258.9361 855.2074,1264.6935 824.3547,1222.0749 C798.6494,1261.8431 753.7969,1269.5887 728.7727,1221.3352 C708.5017,1262.8755 668.3055,1258.3382 644.6405,1225.1565 C617.4663,1270.2404 581.5306,1267.5585 553.4649,1226.0956 C522.8599,1273.3862 487.4309,1267.2445 459.408,1223.4297 C433.0258,1262.5202 386.3398,1262.6299 362.5936,1220.2955 C329.2473,1265.0114 288.3866,1264.6991 264.7331,1210.6878 C237.2787,1251.2047 201.2182,1255.7298 173.0335,1211.4779 C137.2866,1262.0559 86.9739,1252.2484 63.3382,1198.7169 C73.1647,1198.0603 79.4437,1203.9504 75.1173,1214.1181 C27.9151,1187.7902 16.179,1134.2069 72.2545,1105.1653 C20.2283,1073.1614 25.9209,1032.9041 75.7521,1004.4369 C19.6527,975.6434 17.1128,942.0249 65.0401,902.3191 C9.848,869.8667 16.8331,833.2089 62.7787,798.5524 C16.4347,771.1341 13.4783,733.197 57.3651,700.7824 C9.7953,661.8275 19.5982,631.1959 66.0554,600.3795 C18.8149,573.0557 17.211,544.2959 60.9287,511.7128 C11.6708,476.5848 10.6742,436.9536 65.4271,406.2628 C18.5685,369.3699 28.0173,335.7738 78.2281,312.0733 C18.0735,277.7353 6,231.1452 70.3382,188.8369 C77.7863,185.4501 82.373,188.1477 82.0762,196.5489\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"36.3604\" x=\"709.658\" y=\"206.832\">AWS</text></g><!--cluster vpc--><g class=\"cluster\" data-qualified-name=\"aws.vpc\" data-source-line=\"15\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"79.3382,233.8369,89.3382,223.8369,794.3382,223.8369,794.3382,1031.6269,784.3382,1041.6269,79.3382,1041.6269,79.3382,233.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"784.3382\" x2=\"794.3382\" y1=\"233.8369\" y2=\"223.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"79.3382\" x2=\"784.3382\" y1=\"233.8369\" y2=\"233.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"784.3382\" x2=\"784.3382\" y1=\"233.8369\" y2=\"1041.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"31.3701\" x=\"417.1532\" y=\"249.832\">VPC</text></g><!--cluster pub--><g class=\"cluster\" data-qualified-name=\"aws.vpc.pub\" data-source-line=\"16\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"348.3382,281.8369,358.3382,271.8369,704.3382,271.8369,704.3382,501.4369,694.3382,511.4369,348.3382,511.4369,348.3382,281.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"694.3382\" x2=\"704.3382\" y1=\"281.8369\" y2=\"271.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"348.3382\" x2=\"694.3382\" y1=\"281.8369\" y2=\"281.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"694.3382\" x2=\"694.3382\" y1=\"281.8369\" y2=\"511.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"117.5781\" x=\"463.5492\" y=\"297.832\">Public Subnets</text></g><!--cluster alb--><g class=\"cluster\" data-qualified-name=\"aws.vpc.pub.alb\" data-source-line=\"17\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"380.3382,337.8369,390.3382,327.8369,672.3382,327.8369,672.3382,469.4369,662.3382,479.4369,380.3382,479.4369,380.3382,337.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"662.3382\" x2=\"672.3382\" y1=\"337.8369\" y2=\"327.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"380.3382\" x2=\"662.3382\" y1=\"337.8369\" y2=\"337.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"662.3382\" x2=\"662.3382\" y1=\"337.8369\" y2=\"479.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"206.083\" x=\"419.2967\" y=\"353.832\">Application Load Balancer</text></g><!--cluster priv--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv\" data-source-line=\"22\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"103.3382,582.4369,113.3382,572.4369,770.3382,572.4369,770.3382,1007.6269,760.3382,1017.6269,103.3382,1017.6269,103.3382,582.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"760.3382\" x2=\"770.3382\" y1=\"582.4369\" y2=\"572.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"103.3382\" x2=\"760.3382\" y1=\"582.4369\" y2=\"582.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"760.3382\" x2=\"760.3382\" y1=\"582.4369\" y2=\"1017.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"126.1572\" x=\"369.7596\" y=\"598.432\">Private Subnets</text></g><!--cluster ecs--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv.ecs\" data-source-line=\"23\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"127.3382,630.4369,137.3382,620.4369,746.3382,620.4369,746.3382,983.6269,736.3382,993.6269,127.3382,993.6269,127.3382,630.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"736.3382\" x2=\"746.3382\" y1=\"630.4369\" y2=\"620.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"127.3382\" x2=\"736.3382\" y1=\"630.4369\" y2=\"630.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"736.3382\" x2=\"736.3382\" y1=\"630.4369\" y2=\"993.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"91.2598\" x=\"387.2083\" y=\"646.432\">ECS Cluster</text></g><!--cluster svc--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv.ecs.svc\" data-source-line=\"24\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"159.3382,686.4369,169.3382,676.4369,714.3382,676.4369,714.3382,951.6269,704.3382,961.6269,159.3382,961.6269,159.3382,686.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"704.3382\" x2=\"714.3382\" y1=\"686.4369\" y2=\"676.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"159.3382\" x2=\"704.3382\" y1=\"686.4369\" y2=\"686.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"704.3382\" x2=\"704.3382\" y1=\"686.4369\" y2=\"961.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"92.9961\" x=\"386.3402\" y=\"702.432\">ECS Service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"227.4043\" x=\"319.1361\" y=\"718.7289\">(Blue/Green via CodeDeploy)</text></g><!--cluster task--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv.ecs.svc.task\" data-source-line=\"25\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"191.3382,774.4369,201.3382,764.4369,674.3382,764.4369,674.3382,919.6269,664.3382,929.6269,191.3382,929.6269,191.3382,774.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"664.3382\" x2=\"674.3382\" y1=\"774.4369\" y2=\"764.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"191.3382\" x2=\"664.3382\" y1=\"774.4369\" y2=\"774.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"664.3382\" x2=\"664.3382\" y1=\"774.4369\" y2=\"929.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"103.0859\" x=\"377.2953\" y=\"790.432\">Fargate Task</text></g><!--cluster codedeploy--><g class=\"cluster\" data-qualified-name=\"aws.codedeploy\" data-source-line=\"36\" id=\"ent0015\"><polygon fill=\"#FFFFFF\" points=\"826.3382,766.4369,836.3382,756.4369,1092.3382,756.4369,1092.3382,927.6269,1082.3382,937.6269,826.3382,937.6269,826.3382,766.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1082.3382\" x2=\"1092.3382\" y1=\"766.4369\" y2=\"756.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"826.3382\" x2=\"1082.3382\" y1=\"766.4369\" y2=\"766.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1082.3382\" x2=\"1082.3382\" y1=\"766.4369\" y2=\"937.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"135.3242\" x=\"887.6761\" y=\"782.432\">AWS CodeDeploy</text></g><!--cluster cicd--><g class=\"cluster\" data-qualified-name=\"aws.cicd\" data-source-line=\"40\" id=\"ent0017\"><polygon fill=\"#FFFFFF\" points=\"1124.3382,782.5869,1134.3382,772.5869,1376.3382,772.5869,1376.3382,1179.7169,1366.3382,1189.7169,1124.3382,1189.7169,1124.3382,782.5869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1366.3382\" x2=\"1376.3382\" y1=\"782.5869\" y2=\"772.5869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1124.3382\" x2=\"1366.3382\" y1=\"782.5869\" y2=\"782.5869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1366.3382\" x2=\"1366.3382\" y1=\"782.5869\" y2=\"1189.7169\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"42.4922\" x=\"1225.0921\" y=\"798.582\">CI/CD</text></g><!--entity cwlogs--><g class=\"entity\" data-qualified-name=\"aws.cwlogs\" data-source-line=\"34\" id=\"ent0014\"><path d=\"M348.6282,1126.6269 C348.6282,1116.6269 463.3343,1116.6269 463.3343,1116.6269 C463.3343,1116.6269 578.0403,1116.6269 578.0403,1126.6269 L578.0403,1168.2206 C578.0403,1178.2206 463.3343,1178.2206 463.3343,1178.2206 C463.3343,1178.2206 348.6282,1178.2206 348.6282,1168.2206 L348.6282,1126.6269\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M348.6282,1126.6269 C348.6282,1136.6269 463.3343,1136.6269 463.3343,1136.6269 C463.3343,1136.6269 578.0403,1136.6269 578.0403,1126.6269\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"372.0848\" y=\"1153.622\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"428.6658\" y=\"1153.622\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"84.4717\" x=\"433.116\" y=\"1153.622\">CloudWatch</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"517.5877\" y=\"1153.622\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.5459\" x=\"522.0379\" y=\"1153.622\">Logs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.252\" x=\"358.6282\" y=\"1169.9189\">Log</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"383.8802\" y=\"1169.9189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"47.6465\" x=\"388.3304\" y=\"1169.9189\">Group:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"435.9769\" y=\"1169.9189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"127.6133\" x=\"440.427\" y=\"1169.9189\">/ecs/axum-service</text></g><!--entity listener--><g class=\"entity\" data-qualified-name=\"aws.vpc.pub.alb.listener\" data-source-line=\"18\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"224.3252\" x=\"404.1782\" y=\"399.8369\"/><polygon fill=\"#FFFFFF\" points=\"611.5034,404.8369,611.5034,418.8369,623.5034,418.8369,623.5034,410.8369,617.5034,404.8369,611.5034,404.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"617.5034\" x2=\"617.5034\" y1=\"404.8369\" y2=\"410.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"623.5034\" x2=\"617.5034\" y1=\"410.8369\" y2=\"410.8369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.96\" x=\"440.5273\" y=\"425.832\">HTTPS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"485.4873\" y=\"425.832\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.3281\" x=\"489.9375\" y=\"425.832\">Listener</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"546.2656\" y=\"425.832\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.4385\" x=\"550.7158\" y=\"425.832\">:443</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.876\" x=\"414.1782\" y=\"442.1289\">Target</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"460.0542\" y=\"442.1289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.2236\" x=\"464.5044\" y=\"442.1289\">Groups</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"514.728\" y=\"442.1289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"89.3252\" x=\"519.1782\" y=\"442.1289\">(Blue/Green)</text></g><!--entity api--><g class=\"entity\" data-qualified-name=\"aws.vpc.priv.ecs.svc.task.api\" data-source-line=\"26\" id=\"ent0012\"><rect fill=\"#FFFFFF\" height=\"85.1875\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"227.8945\" x=\"207.3882\" y=\"828.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.373\" x=\"251.4175\" y=\"851.432\">Axum</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"291.7906\" y=\"851.432\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"296.2408\" y=\"851.432\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"318.3892\" y=\"851.432\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"322.8394\" y=\"851.432\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.3838\" x=\"217.3882\" y=\"867.7289\">Rust</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"248.772\" y=\"867.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"253.2222\" y=\"867.7289\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"264.9527\" y=\"867.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.373\" x=\"269.4029\" y=\"867.7289\">Axum</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"309.7759\" y=\"867.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.2646\" x=\"314.2261\" y=\"867.7289\">0.7</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"336.4908\" y=\"867.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"340.941\" y=\"867.7289\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"352.6714\" y=\"867.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"42.0684\" x=\"357.1216\" y=\"867.7289\">Hyper</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"399.19\" y=\"867.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.6426\" x=\"403.6402\" y=\"867.7289\">1.x</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.6797\" x=\"218.4751\" y=\"884.0257\">Tokio</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"256.1548\" y=\"884.0257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.6426\" x=\"260.605\" y=\"884.0257\">1.x</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"282.2476\" y=\"884.0257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"286.6978\" y=\"884.0257\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"298.4283\" y=\"884.0257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"121.3174\" x=\"302.8785\" y=\"884.0257\">Tower/tower-http</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.9697\" x=\"247.4629\" y=\"900.3226\">Listens:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"301.4327\" y=\"900.3226\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"89.3252\" x=\"305.8828\" y=\"900.3226\">0.0.0.0:3000</text></g><!--entity logsagent--><g class=\"entity\" data-qualified-name=\"aws.vpc.priv.ecs.svc.task.logsagent\" data-source-line=\"27\" id=\"ent0013\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"187.3574\" x=\"470.6582\" y=\"844.7369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"84.4717\" x=\"480.6582\" y=\"867.732\">CloudWatch</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"565.1299\" y=\"867.732\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.5459\" x=\"569.5801\" y=\"867.732\">Logs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"602.126\" y=\"867.732\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"41.4395\" x=\"606.5762\" y=\"867.732\">Agent</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.959\" x=\"513.5391\" y=\"884.0289\">awslogs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"569.4981\" y=\"884.0289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"41.1865\" x=\"573.9483\" y=\"884.0289\">driver</text></g><!--entity dg--><g class=\"entity\" data-qualified-name=\"aws.codedeploy.dg\" data-source-line=\"37\" id=\"ent0016\"><rect fill=\"#FFFFFF\" height=\"85.1875\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"198.377\" x=\"850.1482\" y=\"828.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"85.6338\" x=\"882.8299\" y=\"851.432\">Deployment</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"968.4636\" y=\"851.432\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"42.9297\" x=\"972.9138\" y=\"851.432\">Group</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"96.1338\" x=\"901.2698\" y=\"867.7289\">ECSAllAtOnce</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.3311\" x=\"866.3894\" y=\"884.0257\">Traffic</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"910.7205\" y=\"884.0257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.124\" x=\"915.1707\" y=\"884.0257\">shifting</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"967.2947\" y=\"884.0257\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"60.5391\" x=\"971.7449\" y=\"884.0257\">between</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.4014\" x=\"860.1482\" y=\"900.3226\">Blue/Green</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"938.5496\" y=\"900.3226\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"42.8135\" x=\"942.9998\" y=\"900.3226\">target</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"985.8133\" y=\"900.3226\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.2617\" x=\"990.2635\" y=\"900.3226\">groups</text></g><!--entity dockerbuild--><g class=\"entity\" data-qualified-name=\"aws.cicd.dockerbuild\" data-source-line=\"41\" id=\"ent0018\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"219.3906\" x=\"1140.6382\" y=\"836.5869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"1158.2432\" y=\"859.582\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1207.7627\" y=\"859.582\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.1436\" x=\"1212.2129\" y=\"859.582\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1247.3565\" y=\"859.582\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.6172\" x=\"1251.8067\" y=\"859.582\">(multi-stage)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"54.2295\" x=\"1189.3433\" y=\"875.8789\">Builder:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1243.5728\" y=\"875.8789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.3008\" x=\"1248.023\" y=\"875.8789\">rust:1.67</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.8203\" x=\"1150.6382\" y=\"892.1757\">Runtime:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1214.4585\" y=\"892.1757\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"131.1201\" x=\"1218.9087\" y=\"892.1757\">debian:buster-slim</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"aws.cicd.ecr\" data-source-line=\"42\" id=\"ent0019\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"150.8057\" x=\"1156.9382\" y=\"1121.1269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"1166.9382\" y=\"1144.122\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1235.3523\" y=\"1144.122\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.9414\" x=\"1239.8025\" y=\"1144.122\">Registry</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"62.043\" x=\"1182.1892\" y=\"1160.4189\">(Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1244.2322\" y=\"1160.4189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.8105\" x=\"1248.6824\" y=\"1160.4189\">ECR)</text></g><!--entity client--><g class=\"entity\" data-qualified-name=\"client\" data-source-line=\"11\" id=\"ent0002\"><ellipse cx=\"516.3334\" cy=\"51.2969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M516.3334,59.2969 L516.3334,86.2969 M503.3334,67.2969 L529.3334,67.2969 M516.3334,86.2969 L503.3334,101.2969 M516.3334,86.2969 L529.3334,101.2969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.5303\" x=\"496.0682\" y=\"116.542\">Client</text></g><!--link client to listener--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"46\" id=\"lnk20\"><path d=\"M516.3382,120.1469 C516.3382,190.4369 516.3382,332.6269 516.3382,393.5769\" fill=\"none\" id=\"client-to-listener\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"516.3382,399.5769,520.3382,390.5769,516.3382,394.5769,512.3382,390.5769,516.3382,399.5769\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.5371\" x=\"517.3382\" y=\"161.9755\">HTTPS</text></g><!--link listener to api--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"47\" id=\"lnk21\"><path d=\"M503.4582,455.8469 C490.5682,483.1969 470.2782,526.6069 453.3382,564.4369 C411.3482,658.1869 366.3681,763.5519 341.3681,822.5819\" fill=\"none\" id=\"listener-to-api\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"339.0282,828.1069,346.2213,821.3794,340.9781,823.5028,338.8548,818.2595,339.0282,828.1069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.8965\" x=\"469.3382\" y=\"546.5755\">Forward</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"518.2347\" y=\"546.5755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"12.0469\" x=\"522.0492\" y=\"546.5755\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"534.096\" y=\"546.5755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.582\" x=\"537.9105\" y=\"546.5755\">:3000</text></g><!--link api to cwlogs--><g class=\"link\" data-entity-1=\"ent0012\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"49\" id=\"lnk22\"><path d=\"M319.0182,913.8769 C318.5382,960.2269 324.2082,1035.1869 360.3382,1086.6269 C368.5982,1098.3869 374.9564,1104.8682 387.1264,1112.8782\" fill=\"none\" id=\"api-to-cwlogs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"392.1382,1116.1769,386.8196,1107.8876,387.9617,1113.428,382.4213,1114.5701,392.1382,1116.1769\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"78.0938\" x=\"381.2161\" y=\"1069.7655\">stdout/stderr</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.8281\" x=\"361.3382\" y=\"1083.7343\">(tracing</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"408.1663\" y=\"1083.7343\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"67.207\" x=\"411.9808\" y=\"1083.7343\">subscriber)</text></g><!--link logsagent to cwlogs--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"50\" id=\"lnk23\"><path d=\"M555.0182,897.3469 C536.3582,948.0369 496.5808,1056.1062 476.5308,1110.5762\" fill=\"none\" id=\"logsagent-to-cwlogs\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"474.4582,1116.2069,481.3209,1109.1426,476.1854,1111.5147,473.8134,1106.3792,474.4582,1116.2069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"47.9648\" x=\"496.3382\" y=\"1076.7655\">awslogs</text></g><!--link dockerbuild to ecr--><g class=\"link\" data-entity-1=\"ent0018\" data-entity-2=\"ent0019\" data-link-type=\"dependency\" data-source-line=\"52\" id=\"lnk24\"><path d=\"M1248.1082,905.9469 C1244.4682,961.5869 1237.6807,1065.0097 1234.4207,1114.7397\" fill=\"none\" id=\"dockerbuild-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1234.0282,1120.7269,1238.6084,1112.0078,1234.3553,1115.7376,1230.6255,1111.4845,1234.0282,1120.7269\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.6992\" x=\"1238.3382\" y=\"1076.7655\">Push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1267.0374\" y=\"1076.7655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"1270.8519\" y=\"1076.7655\">image</text></g><!--link codedeploy to svc--><g class=\"link\" data-entity-1=\"ent0015\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"53\" id=\"lnk25\"><path d=\"M1092.4311,844.6248 C1092.5041,844.3571 1092.5773,844.0878 1092.6508,843.8168 C1092.7977,843.2747 1092.9455,842.726 1093.0941,842.1706 C1093.6883,839.9491 1094.2947,837.6217 1094.9073,835.1967 C1099.8076,815.7966 1105.097,790.1438 1107.6207,762.3806 C1112.6682,706.8544 1106.6532,642.8869 1064.3382,603.6169 C989.4082,534.0869 920.8282,549.1269 834.3382,603.6169 C780.3382,637.6369 748.6182,701.4394 730.2645,758.1906 C725.676,772.3784 721.923,786.1255 718.8661,798.8564 C717.3376,805.2219 715.9831,811.3332 714.7853,817.1186 C714.6356,817.8418 715.6832,812.6801 715.5384,813.3929\" fill=\"none\" id=\"codedeploy-to-svc\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"714.3435,819.2727,720.0557,811.2496,715.3392,814.3729,712.216,809.6564,714.3435,819.2727\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"43.459\" x=\"845.3382\" y=\"539.5755\">Update</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"888.7972\" y=\"539.5755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"25.2598\" x=\"892.6117\" y=\"539.5755\">task</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"917.8714\" y=\"539.5755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.3398\" x=\"921.6859\" y=\"539.5755\">set</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"9.3574\" x=\"853.4417\" y=\"553.5443\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"862.7992\" y=\"553.5443\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.1211\" x=\"866.6136\" y=\"553.5443\">shift</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"892.7347\" y=\"553.5443\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"35.373\" x=\"896.5492\" y=\"553.5443\">traffic</text></g><!--link svc to ecr--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0019\" data-link-type=\"dependency\" data-source-line=\"54\" id=\"lnk26\"><path d=\"M714.4736,892.0061 C714.8098,892.7752 715.1562,893.5624 715.5129,894.367 C721.2195,907.2409 729.5445,924.5725 740.3682,943.3631 C762.0157,980.9444 793.6582,1024.3619 834.3382,1049.6269 C852.7082,1061.0369 861.0982,1053.5469 882.3382,1057.6269 C1003.3882,1080.8769 1035.1282,1081.6669 1153.3382,1116.6269 C1157.5582,1117.8669 1156.1709,1117.3553 1160.5009,1118.7853\" fill=\"none\" id=\"svc-to-ecr\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1166.1982,1120.6669,1158.9066,1114.0463,1161.4504,1119.0989,1156.3978,1121.6427,1166.1982,1120.6669\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5098\" x=\"1037.3382\" y=\"1076.7655\">Pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1058.848\" y=\"1076.7655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"1062.6624\" y=\"1076.7655\">image</text></g><!--link alb to codedeploy--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0015\" data-link-type=\"dependency\" data-source-line=\"55\" id=\"lnk27\"><path d=\"M672.5815,428.4184 C674.2239,428.3914 676.0966,428.3688 678.1861,428.3558 C686.544,428.3036 698.3697,428.4044 712.7912,428.9925 C741.6342,430.1688 780.8601,433.2944 823.492,441.0444 C908.7557,456.5444 1007.6432,490.5419 1064.3382,564.4369 C1105.1182,617.5869 1110.6007,692.4469 1105.6532,754.7706 C1103.1795,785.9325 1098.0982,813.9603 1093.5179,834.5733 C1093.2316,835.8616 1092.9473,837.1209 1092.6657,838.3503 C1092.5953,838.6576 1093.8741,833.1167 1093.8041,833.4203\" fill=\"none\" id=\"alb-to-codedeploy\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"1092.4551,839.2666,1098.3762,831.3964,1093.5793,834.3947,1090.581,829.5977,1092.4551,839.2666\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"67.2012\" x=\"1064.2611\" y=\"539.5755\">Blue/Green</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"35.373\" x=\"1057.3382\" y=\"553.5443\">traffic</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1092.7113\" y=\"553.5443\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.8594\" x=\"1096.5257\" y=\"553.5443\">control</text></g><?plantuml-src TLLDRziu4BtpLqnzMCHOM7BIOWleKC1HFu4kreZTvk8BHT8o4OeKo96LjCX_tw4esqgm2mCIDJESUPptXduZrLvR1QlxpRfh31mGsr3akUTzLciyT5KNb1VEehAO2TVal0-6Lo6-5veSOR5tVj4QRf4IvCURPRRCfGx8tcWhJ2VFoNDwbwvfdCrQ-cGiF6ZRSiyR20SkNQzj3NjkWffug6JhB1NVu9DHu9L0Rcip3UazR--rn0FSt2mdzeO__gr2uBNQw5yAhid9K2DbMJrs3LpTTG7du6p41v_A3VHqO2YTL1zLQzmJt9fEvL-yKfOnBj1vc9L64vOPy01YM38cZEiap2Z9OAQ-m6_602mbWjdFTJcOZwqWCy39lkugemLikieg34D8srLZo2berROKn54JoE-EIxZbr6UXVAfaBl40tAFU4qgOVTrkrnluJXGegpmKxzwztTajzxL2-E9TrmQukXnjFkGoO_IOxfcbvnImrqUEwYLYihs27FjO6khi25A9C05vYTaeVzH2xUm42Xmrd_G_8Gj7CKbmIl6PZXFHR7bu6CAG5Y_Yu28TQcGaVBN-HjajSXAytzb8F_oPjB3CtjFowrDB_RhE7gbTxa6xk2JprlNAvnYVYpWVEvjw6mhQD_oAjylbCd7Iwl_3K4QTt7CK1-Ao3h2goRopSPxYfwHUZZsBtpnw9wcUsUlLYQEH9ycHLpn4rJJy5mdcLJr2xUh4Vm4vqP9pElaY91wIeljO-QBTE1SNEb88VSeq7QdPamEci2QkXp8xIqIlZ5dXFpOolVLyloVDXuFUOvprIc5FjE_iH0AOT5eFEXrAolfqn8Ig_9QN7nCOBUH_m73YWMYyxRIHSDLq1lKY8FLpJeMYKVa2F95VN6T_lOywiAWRLO1KbUQsg0RnBeBHJQe_vAlYpjUbpcg2ErMJ9lmJwNbi_wVoRZvEW1yEy1olYdXbm6BnuJnmKC0mh-niY5wI4Ja-EzzpBm4T30gZMuZiqP-Oef20qdMOqqjvqlGLUYvYQqDN1U5rfVoSdUNqSkieFCOc1nmY232vrrquW6ve8vkG7lrn8WluqSeuWCFS1KL2_YCH2vXePZ5iciwOCLsyjxBimrHBnUIktTan0yI_7U_Clm00?></g></svg>",
  "architecture_description": "## High-level architecture (deployment view)\n\n### Runtime / serving path\n- **Client** sends HTTPS requests to an **Application Load Balancer (ALB)**.\n- The **ALB HTTPS listener (:443)** forwards traffic to one of two **target groups (Blue/Green)**.\n- Target groups route to an **Amazon ECS Service (Fargate)** running the containerized **Rust Axum API**.\n  - **App container**: Rust + Axum (0.7.x) on Hyper (1.x), Tokio (1.x), Tower/tower-http middleware.\n  - **Network**: container listens on **0.0.0.0:3000** (as indicated in `src/main.rs` and task definition).\n\n### Observability\n- The ECS task uses the **awslogs log driver** to ship container stdout/stderr (including `tracing` / `tracing-subscriber` output) to **Amazon CloudWatch Logs**.\n- Log destination is the configured log group: **`/ecs/axum-service`**.\n\n### Delivery / deployment\n- A **multi-stage Docker build** produces a small runtime image (builder `rust:1.67`, runtime `debian:buster-slim`).\n- The built image is pushed to a **container registry (Amazon ECR)**.\n- **AWS CodeDeploy** performs **blue/green deployments** for the ECS service (as referenced in the README), updating the task set and shifting ALB traffic between the blue and green target groups (deployment config like `CodeDeployDefault.ECSAllAtOnce`).\n\n### Network placement (typical for this pattern)\n- **ALB** in **public subnets**.\n- **ECS tasks** in **private subnets** within a **VPC**.\n\nThis architecture matches the repo artifacts: Dockerfile + ECS task definition + CloudWatch Logs configuration + CodeDeploy ECS blue/green deployment flow."
}