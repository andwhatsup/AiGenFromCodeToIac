{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ntitle High-level Deployment Architecture (Terraform via Docker Compose -> AWS EC2 Web Server)\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\nnode \"Developer / CI Runner\" as runner {\n  artifact \"Repo Workspace\\n(YAML, Bash, Terraform HCL)\" as repo\n  node \"Docker Engine\" as docker {\n    node \"Terraform Runner Container\\nhashicorp/terraform:1.4.5\" as tf {\n      artifact \"Terraform code\\n(providers: aws, archive, local, tls, http)\" as tfcode\n      artifact \"Mounted AWS creds\\n(~/.aws, AWS_PROFILE)\" as creds\n      artifact \"SSH private key\\nmy-net-keypair.id_rsa\" as sshkey\n    }\n  }\n}\n\ncloud \"AWS Account\" as aws {\n  node \"VPC (existing / configured)\" as vpc {\n    node \"Security Group\\nInbound: allowlisted runner public IP\" as sg\n    node \"EC2 Instance\\nAmazon Linux 2\" as ec2 {\n      component \"Nginx\" as nginx\n      component \"PHP-FPM\" as php\n      artifact \"Provisioning script\\nnginx-php-inst.sh\" as script\n    }\n  }\n}\n\nrepo -- tfcode\ncreds .. tf : used by\nsshkey .. tf : used for SSH/provisioning\n\nrunner --> docker : docker compose up\n\ntf --> aws : Terraform apply\\n(AWS API via provider)\n\ntf --> vpc : create/modify resources\nvpc --> sg\nsg --> ec2 : attached\n\ntf --> ec2 : provision via SSH\\n(run script)\nscript ..> nginx : installs/configures\nscript ..> php : installs/configures\n\nrunner --> ec2 : HTTP(S) access\\n(allowed by SG)\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1384px\" preserveAspectRatio=\"none\" style=\"width:1038px;height:1384px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1038 1384\" width=\"1038px\" zoomAndPan=\"magnify\"><title>High-level Deployment Architecture (Terraform via Docker Compose -&gt; AWS EC2 Web Server)</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"740.7285\" x=\"142.0381\" y=\"22.9951\">High-level Deployment Architecture (Terraform via Docker Compose -&gt; AWS EC2 Web Server)</text></g><!--cluster runner--><g class=\"cluster\" data-qualified-name=\"runner\" data-source-line=\"11\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,53.2969,26,43.2969,920,43.2969,920,583.6469,910,593.6469,16,593.6469,16,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"910\" x2=\"920\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"910\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"910\" x2=\"910\" y1=\"53.2969\" y2=\"593.6469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"172.874\" x=\"377.563\" y=\"69.292\">Developer / CI Runner</text></g><!--cluster docker--><g class=\"cluster\" data-qualified-name=\"runner.docker\" data-source-line=\"13\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"56,225.8969,66,215.8969,872,215.8969,872,543.6469,862,553.6469,56,553.6469,56,225.8969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"862\" x2=\"872\" y1=\"225.8969\" y2=\"215.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"56\" x2=\"862\" y1=\"225.8969\" y2=\"225.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"862\" x2=\"862\" y1=\"225.8969\" y2=\"553.6469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.9346\" x=\"403.0327\" y=\"241.892\">Docker Engine</text></g><!--cluster tf--><g class=\"cluster\" data-qualified-name=\"runner.docker.tf\" data-source-line=\"14\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"96,289.8969,106,279.8969,824,279.8969,824,503.6469,814,513.6469,96,513.6469,96,289.8969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"814\" x2=\"824\" y1=\"289.8969\" y2=\"279.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"96\" x2=\"814\" y1=\"289.8969\" y2=\"289.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"814\" x2=\"814\" y1=\"289.8969\" y2=\"513.6469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"223.4941\" x=\"344.2529\" y=\"305.892\">Terraform Runner Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"204.5723\" x=\"353.7139\" y=\"322.1889\">hashicorp/terraform:1.4.5</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"22\" id=\"ent0009\"><path d=\"M445.571,693.7854 C456.5239,673.9942 477.3446,672.143 489.7325,692.1948 C506.2403,664.2197 524.6952,669.3538 541.8446,691.5281 C555.7384,670.7294 574.7404,672.1554 587.3276,692.9566 C601.4094,668.7454 628.4644,670.6368 642.4663,693.0511 C652.6023,668.6446 671.4449,671.1953 685.9505,688.4952 C701.6261,665.6091 721.7147,663.9955 737.1614,688.7414 C752.0361,661.5456 776.3763,664.8676 788.7287,691.1726 C806.4028,671.8508 822.2106,672.8212 835.7567,695.7656 C847.4492,671.2432 869.057,670.5966 883.5431,692.9155 C902.5555,669.5796 924.1138,674.3321 937,699.6469 C941.8917,697.6445 944.5602,699.8451 944.2603,704.9502 C963.1683,723.0038 965.0521,738.3619 938.7853,751.0504 C957.7194,760.175 964.1415,778.7832 943.401,792.3428 C969.0241,806.2184 971.2425,823.1187 948.0306,841.5856 C970.1429,852.7024 969.3294,870.8331 948.5368,882.481 C970.317,900.2961 970.0786,915.2236 945.6271,930.2208 C966.988,945.7023 971.4784,960.6153 949.2801,979.3365 C971.3537,988.0009 971.6133,1006.7659 954.4499,1020.3734 C975.4109,1038.1525 971.8838,1056.8343 947.6152,1068.1419 C967.4968,1077.9251 971.6349,1099.6037 951.2838,1112.6995 C970.1837,1126.9109 968.1886,1143.8316 946.2246,1152.9003 C970.7949,1168.4246 964.743,1190.5581 941.5211,1201.4525 C963.5216,1213.1622 963.257,1228.2533 946.1649,1244.209 C970.4438,1263.3192 963.5317,1281.1078 940.6259,1295.0803 C956.0747,1313.6799 955.8523,1331.3952 930,1340.2869 C931.8776,1340.8799 931.8645,1342.1124 930.6537,1343.362 C918.1427,1363.7288 903.253,1365.5771 887.2965,1347.2197 C871.9172,1369.3176 853.906,1373.2936 837.8847,1347.8875 C824.3006,1371.5534 801.6467,1374.1851 787.7478,1348.2055 C771.0104,1368.612 751.9512,1373.5542 736.9502,1346.3526 C725.1082,1367.0771 701.244,1369.1975 687.0772,1349.1999 C670.359,1371.4185 655.2641,1369.9206 637.8019,1350.0714 C622.2403,1372.3311 607.9711,1369.0962 594.1734,1348.2847 C574.6967,1377.3217 554.4387,1372.4785 537.6498,1345.5692 C522.3439,1365.5178 508.251,1366.6705 495.1316,1343.4172 C473.1534,1371.9417 443.5547,1369.7213 432,1333.2869 C434.6932,1331.744 435.9448,1333.1533 436.2816,1335.7337 C415.3002,1321.5935 415.2697,1305.425 434.2937,1289.5623 C413.1009,1277.4345 414.2019,1261.3719 435.3685,1250.4069 C415.3701,1240.749 410.0816,1218.913 431.1471,1205.4033 C408.0689,1192.1364 409.2259,1167.335 430.738,1153.7151 C408.5596,1140.5117 409.3589,1118.3788 433.0863,1107.5084 C411.8528,1094.84 406.8822,1078.6516 428.5607,1061.74 C409.4167,1050.1104 414.2402,1034.38 430.5031,1024.6023 C410.7057,1009.762 407.0175,991.3928 430.7982,976.8217 C404.1515,963.8062 404.8896,939.9013 430.869,926.9606 C411.5816,912.552 405.1359,898.0093 428.4983,881.3823 C411.3677,864.646 412.6849,850.91 432.1034,837.1528 C410.1294,822.4018 409.4706,804.9834 432.4749,790.5913 C414.7344,776.6416 411.7569,758.1844 434.1205,745.705 C414.4546,725.975 409.2917,707.8362 439,692.6469 C441.2068,689.8785 444.3908,690.6284 445.571,693.7854\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"104.9111\" x=\"632.0444\" y=\"710.642\">AWS Account</text></g><!--cluster vpc--><g class=\"cluster\" data-qualified-name=\"aws.vpc\" data-source-line=\"23\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"472,753.6469,482,743.6469,905,743.6469,905,1298.2869,895,1308.2869,472,1308.2869,472,753.6469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"895\" x2=\"905\" y1=\"753.6469\" y2=\"743.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"472\" x2=\"895\" y1=\"753.6469\" y2=\"753.6469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"895\" x2=\"895\" y1=\"753.6469\" y2=\"1308.2869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"212.2217\" x=\"578.3892\" y=\"769.642\">VPC (existing / configured)</text></g><!--cluster ec2--><g class=\"cluster\" data-qualified-name=\"aws.vpc.ec2\" data-source-line=\"25\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"512,1023.3969,522,1013.3969,865,1013.3969,865,1258.2869,855,1268.2869,512,1268.2869,512,1023.3969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"855\" x2=\"865\" y1=\"1023.3969\" y2=\"1013.3969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"512\" x2=\"855\" y1=\"1023.3969\" y2=\"1023.3969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"855\" x2=\"855\" y1=\"1023.3969\" y2=\"1268.2869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"101.8623\" x=\"633.5688\" y=\"1039.392\">EC2 Instance</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"124.7764\" x=\"622.1118\" y=\"1055.6889\">Amazon Linux 2</text></g><!--entity repo--><g class=\"entity\" data-qualified-name=\"runner.repo\" data-source-line=\"12\" id=\"ent0003\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"233.7793\" x=\"125.11\" y=\"91.2969\"/><polygon fill=\"#FFFFFF\" points=\"341.8893,96.2969,341.8893,110.2969,353.8893,110.2969,353.8893,102.2969,347.8893,96.2969,341.8893,96.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"347.8893\" x2=\"347.8893\" y1=\"96.2969\" y2=\"102.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"353.8893\" x2=\"347.8893\" y1=\"102.2969\" y2=\"102.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.793\" x=\"178.2072\" y=\"117.292\">Repo</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"214.0001\" y=\"117.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"77.3418\" x=\"218.4503\" y=\"117.292\">Workspace</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"47.9199\" x=\"135.11\" y=\"133.5889\">(YAML,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"183.0299\" y=\"133.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.8008\" x=\"187.4801\" y=\"133.5889\">Bash,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"226.2809\" y=\"133.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.1436\" x=\"230.7311\" y=\"133.5889\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"300.8746\" y=\"133.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.5645\" x=\"305.3248\" y=\"133.5889\">HCL)</text></g><!--entity tfcode--><g class=\"entity\" data-qualified-name=\"runner.docker.tf.tfcode\" data-source-line=\"15\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"244.4502\" x=\"119.77\" y=\"343.8969\"/><polygon fill=\"#FFFFFF\" points=\"347.2202,348.8969,347.2202,362.8969,359.2202,362.8969,359.2202,354.8969,353.2202,348.8969,347.2202,348.8969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"353.2202\" x2=\"353.2202\" y1=\"348.8969\" y2=\"354.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"359.2202\" x2=\"353.2202\" y1=\"354.8969\" y2=\"354.8969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.1436\" x=\"182.8169\" y=\"369.892\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"252.9604\" y=\"369.892\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.7627\" x=\"257.4106\" y=\"369.892\">code</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"76.1113\" x=\"129.77\" y=\"386.1889\">(providers:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"205.8813\" y=\"386.1889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.7734\" x=\"210.3315\" y=\"386.1889\">aws,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"242.105\" y=\"386.1889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.1436\" x=\"246.5552\" y=\"386.1889\">archive,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"302.6987\" y=\"386.1889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.0713\" x=\"307.1489\" y=\"386.1889\">local,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.123\" x=\"207.1084\" y=\"402.4857\">tls,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"228.2314\" y=\"402.4857\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.2002\" x=\"232.6816\" y=\"402.4857\">http)</text></g><!--entity creds--><g class=\"entity\" data-qualified-name=\"runner.docker.tf.creds\" data-source-line=\"16\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"183.6377\" x=\"399.18\" y=\"352.0469\"/><polygon fill=\"#FFFFFF\" points=\"565.8177,357.0469,565.8177,371.0469,577.8177,371.0469,577.8177,363.0469,571.8177,357.0469,565.8177,357.0469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"571.8177\" x2=\"571.8177\" y1=\"357.0469\" y2=\"363.0469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"577.8177\" x2=\"571.8177\" y1=\"363.0469\" y2=\"363.0469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.3799\" x=\"415.5819\" y=\"378.042\">Mounted</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"476.9617\" y=\"378.042\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"481.4119\" y=\"378.042\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"513.7186\" y=\"378.042\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.2471\" x=\"518.1688\" y=\"378.042\">creds</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"46.4023\" x=\"409.18\" y=\"394.3389\">(/.aws,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"455.5823\" y=\"394.3389\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"102.7852\" x=\"460.0325\" y=\"394.3389\">AWS_PROFILE)</text></g><!--entity sshkey--><g class=\"entity\" data-qualified-name=\"runner.docker.tf.sshkey\" data-source-line=\"17\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"182.9746\" x=\"617.51\" y=\"352.0469\"/><polygon fill=\"#FFFFFF\" points=\"783.4846,357.0469,783.4846,371.0469,795.4846,371.0469,795.4846,363.0469,789.4846,357.0469,783.4846,357.0469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"789.4846\" x2=\"789.4846\" y1=\"357.0469\" y2=\"363.0469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"795.4846\" x2=\"789.4846\" y1=\"363.0469\" y2=\"363.0469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3008\" x=\"648.1443\" y=\"378.042\">SSH</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"676.4451\" y=\"378.042\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.499\" x=\"680.8953\" y=\"378.042\">private</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"730.3943\" y=\"378.042\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.0059\" x=\"734.8445\" y=\"378.042\">key</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"152.9746\" x=\"627.51\" y=\"394.3389\">my-net-keypair.id_rsa</text></g><!--entity sg--><g class=\"entity\" data-qualified-name=\"aws.vpc.sg\" data-source-line=\"24\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"521.06,875.5069,531.06,865.5069,752.9448,865.5069,752.9448,934.3975,742.9448,944.3975,521.06,944.3975,521.06,875.5069\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"742.9448\" x2=\"752.9448\" y1=\"875.5069\" y2=\"865.5069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"521.06\" x2=\"742.9448\" y1=\"875.5069\" y2=\"875.5069\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"742.9448\" x2=\"742.9448\" y1=\"875.5069\" y2=\"944.3975\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.4902\" x=\"579.5673\" y=\"898.502\">Security</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"637.0576\" y=\"898.502\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"42.9297\" x=\"641.5078\" y=\"898.502\">Group</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.8037\" x=\"536.06\" y=\"914.7989\">Inbound:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"597.8637\" y=\"914.7989\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"74.4365\" x=\"602.3139\" y=\"914.7989\">allowlisted</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"676.7504\" y=\"914.7989\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"46.7441\" x=\"681.2006\" y=\"914.7989\">runner</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"42.123\" x=\"602.4301\" y=\"931.0957\">public</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"644.5532\" y=\"931.0957\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"12.5713\" x=\"649.0034\" y=\"931.0957\">IP</text></g><!--entity nginx--><g class=\"entity\" data-qualified-name=\"aws.vpc.ec2.nginx\" data-source-line=\"26\" id=\"ent0013\"><rect fill=\"#FFFFFF\" height=\"36.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"60.4072\" x=\"540.8\" y=\"1207.9869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.4072\" x=\"550.8\" y=\"1230.982\">Nginx</text></g><!--entity php--><g class=\"entity\" data-qualified-name=\"aws.vpc.ec2.php\" data-source-line=\"27\" id=\"ent0014\"><rect fill=\"#FFFFFF\" height=\"36.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"81.0381\" x=\"681.48\" y=\"1207.9869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.0381\" x=\"691.48\" y=\"1230.982\">PHP-FPM</text></g><!--entity script--><g class=\"entity\" data-qualified-name=\"aws.vpc.ec2.script\" data-source-line=\"28\" id=\"ent0015\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"158.6729\" x=\"588.66\" y=\"1077.3969\"/><polygon fill=\"#FFFFFF\" points=\"730.3329,1082.3969,730.3329,1096.3969,742.3329,1096.3969,742.3329,1088.3969,736.3329,1082.3969,730.3329,1082.3969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"736.3329\" x2=\"736.3329\" y1=\"1082.3969\" y2=\"1088.3969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"742.3329\" x2=\"736.3329\" y1=\"1088.3969\" y2=\"1088.3969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"85.21\" x=\"598.66\" y=\"1103.392\">Provisioning</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"683.87\" y=\"1103.392\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.0127\" x=\"688.3202\" y=\"1103.392\">script</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"121.7207\" x=\"602.1361\" y=\"1119.6889\">nginx-php-inst.sh</text></g><!--link repo to tfcode--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0006\" data-link-type=\"association\" data-source-line=\"33\" id=\"lnk16\"><path d=\"M242,147.2969 C242,194.5269 242,291.6269 242,343.8269\" fill=\"none\" id=\"repo-tfcode\" style=\"stroke:#000000;stroke-width:2;\"/></g><!--link creds to tf--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0005\" data-link-type=\"association\" data-source-line=\"34\" id=\"lnk17\"><path d=\"M521.39,407.9569 C542.85,426.9369 572.41,452.7369 599,474.7869 C614.53,487.6569 634.34,502.7669 636.76,504.5969\" fill=\"none\" id=\"creds-tf\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.8574\" x=\"600\" y=\"464.9255\">used</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"628.8574\" y=\"464.9255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.7188\" x=\"632.6719\" y=\"464.9255\">by</text></g><!--link sshkey to tf--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0005\" data-link-type=\"association\" data-source-line=\"35\" id=\"lnk18\"><path d=\"M693.2,408.0369 C672.67,443.3869 639.17,501.0469 637.1,504.6069\" fill=\"none\" id=\"sshkey-tf\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.8574\" x=\"697.2734\" y=\"457.9255\">used</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"726.1309\" y=\"457.9255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"16.5\" x=\"729.9453\" y=\"457.9255\">for</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"101.7188\" x=\"671\" y=\"471.8943\">SSH/provisioning</text></g><!--link runner to docker--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"37\" id=\"lnk19\"><path d=\"M912,120.1469 C912.05,121.2269 912.65,138.5169 904,146.8969 C866.35,183.3269 821.99,135.3969 790,176.8969 C785.93,182.1769 786.04,186.5369 790,191.8969 C797.18,201.6169 807.61,191.1869 816,199.8969 C819.5163,203.5437 822.7815,207.4192 825.8134,211.4814 C826.5714,212.4969 827.3147,213.5241 828.0438,214.5623 C828.2261,214.8218 824.9942,210.1476 825.1746,210.4085\" fill=\"none\" id=\"runner-to-docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"828.5879,215.343,826.7577,205.6657,825.7435,211.2309,820.1783,210.2168,828.5879,215.343\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"40.8223\" x=\"791\" y=\"189.0355\">docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"831.8223\" y=\"189.0355\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"54.2227\" x=\"835.6367\" y=\"189.0355\">compose</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"889.8594\" y=\"189.0355\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"15.2227\" x=\"893.6738\" y=\"189.0355\">up</text></g><!--link tf to aws--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"39\" id=\"lnk20\"><path d=\"M625.6581,513.6765 C625.5122,513.7744 625.3651,513.8732 625.2168,513.9729 C624.9201,514.1723 624.6185,514.3754 624.3122,514.5822 C621.8611,516.2361 619.1013,518.123 616.0747,520.2298 C603.9681,528.6572 587.5913,540.6038 569.6175,555.2381 C533.67,584.5069 491.335,624.5269 464,668.6469 C462.4006,671.2288 460.8769,673.8955 459.4256,676.6269 C458.7,677.9926 457.9924,679.3745 457.3026,680.77 C456.9576,681.4678 456.6171,682.169 456.281,682.8732 C456.1129,683.2254 455.946,683.5783 455.7801,683.9319 C455.6971,684.1087 458.1446,678.8453 458.0622,679.0225\" fill=\"none\" id=\"tf-to-aws\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"455.5321,684.4629,462.9542,677.989,457.6405,679.9292,455.7003,674.6155,455.5321,684.4629\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.123\" x=\"499\" y=\"629.7855\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"559.123\" y=\"629.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33.0234\" x=\"562.9375\" y=\"629.7855\">apply</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"32.373\" x=\"509.0928\" y=\"643.7543\">(AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"541.4658\" y=\"643.7543\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.9844\" x=\"545.2803\" y=\"643.7543\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"564.2646\" y=\"643.7543\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"17.7891\" x=\"568.0791\" y=\"643.7543\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"54.9434\" x=\"520.0088\" y=\"657.723\">provider)</text></g><!--link tf to vpc--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"41\" id=\"lnk21\"><path d=\"M637,513.8268 C637,515.3161 637,517.0089 637,518.8894 C637,526.4114 637,536.9374 637,549.4661 C637,574.5234 637,607.5913 637,640.6581 C637,673.725 637,706.7909 637,731.8445 C637,734.9762 637,737.9827 637,740.8484 C637,741.5648 637,742.2724 637,742.971 C637,743.1456 637,737.3197 637,737.4932\" fill=\"none\" id=\"tf-to-vpc\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"637,743.4932,641,734.4932,637,738.4932,633,734.4932,637,743.4932\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"83.707\" x=\"638\" y=\"636.7855\">create/modify</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"58.6816\" x=\"650.5127\" y=\"650.7543\">resources</text></g><!--link vpc to sg--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"42\" id=\"lnk22\"><path d=\"M637,776.5969 C637,779.0169 637,822.4669 637,859.0169\" fill=\"none\" id=\"vpc-to-sg\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"637,865.0169,641,856.0169,637,860.0169,633,856.0169,637,865.0169\" style=\"stroke:#000000;stroke-width:2;\"/></g><!--link sg to ec2--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"43\" id=\"lnk23\"><path d=\"M667.09,944.7569 C682.45,961.5769 702.62,979.6269 725,989.3969 C737.65,994.9169 839.19,987.6869 849,997.3969 C865.65,1013.8769 867.8475,1040.0044 865.7862,1062.2906 C865.6574,1063.6835 865.512,1065.0614 865.3523,1066.421 C865.2725,1067.1008 865.1892,1067.776 865.1026,1068.4462 C865.081,1068.6138 865.8445,1062.8327 865.8225,1062.9996\" fill=\"none\" id=\"sg-to-ec2\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"865.0371,1068.948,870.1808,1060.549,865.6916,1063.991,862.2496,1059.5018,865.0371,1068.948\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"53.3203\" x=\"726\" y=\"986.5355\">attached</text></g><!--link tf to ec2--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"45\" id=\"lnk24\"><path d=\"M647.2482,513.7547 C647.3795,513.8536 647.5119,513.9533 647.6454,514.054 C647.9124,514.2555 648.1837,514.4605 648.4594,514.6693 C650.6642,516.3394 653.1421,518.2438 655.8527,520.3691 C666.6947,528.87 681.2581,540.9031 696.9538,555.5944 C728.345,584.9769 764.265,624.9919 784,668.6469 C814.75,736.6569 788.53,762.2869 803,835.5069 C817.5,908.8869 835.92,923.7469 849,997.3969 C849.5125,1000.28 849.9922,1003.2126 850.4413,1006.1777 C850.6658,1007.6603 850.8826,1009.1509 851.0921,1010.6476 C851.1968,1011.396 850.4996,1006.1994 850.6007,1006.9504\" fill=\"none\" id=\"tf-to-ec2\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"851.4007,1012.8969,854.1649,1003.4439,850.734,1007.9415,846.2364,1004.5106,851.4007,1012.8969\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"54.8613\" x=\"804\" y=\"818.6455\">provision</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"858.8613\" y=\"818.6455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"17.7891\" x=\"862.6758\" y=\"818.6455\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"880.4648\" y=\"818.6455\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.2578\" x=\"884.2793\" y=\"818.6455\">SSH</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.8262\" x=\"822.8877\" y=\"832.6143\">(run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"847.7139\" y=\"832.6143\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.1211\" x=\"851.5283\" y=\"832.6143\">script)</text></g><!--link script to nginx--><g class=\"link\" data-entity-1=\"ent0015\" data-entity-2=\"ent0013\" data-link-type=\"dependency\" data-source-line=\"46\" id=\"lnk25\"><path d=\"M606.08,1133.2069 C594.28,1141.1369 583.35,1150.9769 576,1162.9869 C567.87,1176.2869 566.8201,1188.3061 567.8801,1201.5161\" fill=\"none\" id=\"script-to-nginx\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"568.36,1207.4969,571.6273,1198.2058,567.9601,1202.5129,563.6529,1198.8457,568.36,1207.4969\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"109.1074\" x=\"577\" y=\"1175.1255\">installs/configures</text></g><!--link script to php--><g class=\"link\" data-entity-1=\"ent0015\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"47\" id=\"lnk26\"><path d=\"M680.39,1133.4769 C690.73,1156.2569 702.6689,1182.5639 711.5389,1202.0939\" fill=\"none\" id=\"script-to-php\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"714.02,1207.5569,713.9403,1197.7083,711.9524,1203.0044,706.6563,1201.0165,714.02,1207.5569\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"109.1074\" x=\"700\" y=\"1175.1255\">installs/configures</text></g><!--link runner to ec2--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"49\" id=\"lnk27\"><path d=\"M920.1002,177.9647 C920.2701,179.307 920.441,180.667 920.6128,182.0441 C920.9564,184.7984 921.3037,187.6209 921.6534,190.5067 C922.3527,196.2784 923.0614,202.3034 923.7688,208.5419 C929.4275,258.4494 935,322.0169 935,378.8369 C935,378.8369 935,378.8369 935,905.9469 C935,952.5519 916.105,1001.3044 896.915,1038.8006 C887.32,1057.5488 877.6513,1073.4828 870.2338,1084.9273 C868.3794,1087.7885 870.0253,1085.3978 868.4887,1087.6716\" fill=\"none\" id=\"runner-to-ec2\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"865.1291,1092.6428,873.4826,1087.4257,867.9287,1088.5001,866.8543,1082.9462,865.1291,1092.6428\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"47.9004\" x=\"937.3271\" y=\"636.7855\">HTTP(S)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"985.2275\" y=\"636.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"40.4355\" x=\"989.042\" y=\"636.7855\">access</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"50.8594\" x=\"936\" y=\"650.7543\">(allowed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"986.8594\" y=\"650.7543\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"14.7188\" x=\"990.6738\" y=\"650.7543\">by</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1005.3926\" y=\"650.7543\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5977\" x=\"1009.207\" y=\"650.7543\">SG)</text></g><?plantuml-src TLHTQ-Cu57tthxYJfmHYknDsNl8ma4qxaq2xO-goPI4mAFADBIfBGfBpCKFtj--LdAGkPH-25UdetAjpZlIfmfrG28ldikXQ2OttnitptB93LWlVTDlEeULQULG-uxhDsS59jdNXcmfQSEbEszH8fZmHvFlPJNQJLyBvv9DGN7RLbJodxrAthLQPeRz9ueMN22jHDwd4FKguHIFrgQLIiB2y4Hwvxop2-0cjPLIdXRrWSAlv2reWBgCTGlerL82xvGoUSGibsZtQIPAu5w4Ciwm5rx1A7uIgOSUamy4A3noA2fR-HBrOAiXKBOUGWsNcMLI-WTdiPZ3VikC3EiTgBCKlXC-qc2XDnntTXiDeGotci5p3OwSKsX4m1pOEuNS2mAmNEyOzZ1xHQ7ZMziKPnd6Znlyi7kwdy2TppHJUJhvQtazw4i8JmRbMhyMTgid6k5prCw761VH6qlT2qYdFQ8FTg8RAa8_MvFw2cd_E_iY-H3A_EnCD6twZuqHF3Hkhzw92w-P0iPWIbCpRunIavanEmKkQ3D6Qd4d3lW-q3xgZc5NHJ6wnSiJyRvv5HfhxMJp--BQ-l-iv8k03HLckm5YnPnxX1KyRrPvIXJwbiM72PgBwQHsB1CurD1iPNfFmUqqIBdLNmIWqiE0yj1EXr45KeHVpxs89OpnImaEWSj90xKHDCQtwplQ6lnE_HDvPuK_mtUhERDHQROcv8gcar0T9F7JcSp1CjvM2mxheMwm7D27UQ-KedY4ZYvRzqWhkXUgEC8jevBEhLzTOm-Wl2iOn0a94ZXy1nQf8lnKF4M8Qyq7J8fZhX5RXk8vROVn6HQwKuAcWdZBNz0t7rVUQXhH2cbvCZxv1beLapO4UbmgsfwGtu_qq1Gp8pzmCwXDTBrHAb_uSzFbbmC_lGMVeQTb5I71kFhX3p1X9gHX7XujrV4qkuPrSTmK7vo5X5AEyrPNOdUZIETrPZYu9gm55xhWwZeBoPAVtZ3TONMdwwMlxiHWTYChJ8SvQJPB-IqV_sXj4MuAa50wNNwFbXZ1I_Nz0GtNwwgkdfs9SJe1nQZrSg1YwA3gKtoV_0G00?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### 1) Provisioning / execution environment (local dev or CI runner)\n- **Repo workspace**: Docker Compose YAML + Terraform HCL (implied) + Bash provisioning script.\n- **Docker Compose** starts a **Terraform runner container** using **`hashicorp/terraform:1.4.5`**.\n- The container mounts:\n  - **AWS credentials** (`~/.aws`) and uses **`AWS_PROFILE`** to authenticate.\n  - An **SSH private key** (`my-net-keypair.id_rsa`) used to connect to the EC2 instance for provisioning.\n- Terraform uses providers: **hashicorp/aws (~> 6.27.0)**, **archive**, **local**, **tls**, **http**.\n\n### 2) Target cloud environment (AWS)\n- **AWS Account** hosting an (existing/configured) **VPC** (README indicates variables must match VPC configuration).\n- **Security Group** configured to **allowlist the runner’s public IP** for inbound access (and typically SSH during provisioning).\n- **EC2 instance** running **Amazon Linux 2**.\n  - Provisioned via SSH to install/configure **Nginx** and **PHP-FPM** using `nginx-php-inst.sh`.\n\n### 3) Key relationships / flows\n- **Runner → Docker Engine → Terraform container**: `docker compose up` launches Terraform.\n- **Terraform container → AWS APIs**: `terraform apply` creates/updates AWS resources in the VPC (EC2, SG, etc.).\n- **Terraform container → EC2 (SSH)**: uses the mounted SSH key to run the provisioning script.\n- **Runner → EC2 (HTTP/HTTPS)**: user accesses the deployed web server; access is controlled by the Security Group allowlist."
}