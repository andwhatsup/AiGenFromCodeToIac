data.aws_availability_zones.available: Reading...
data.aws_ami.al2023: Reading...
aws_iam_role.node: Refreshing state... [id=rke-node-role]
module.vpc.aws_vpc.this[0]: Refreshing state... [id=vpc-47e41a36858b7e6a9]
aws_kms_key.main: Refreshing state... [id=142bfa0b-9a2b-42e7-991f-3f82cbbcb627]
data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
aws_iam_role_policy_attachment.node_ssm: Refreshing state... [id=rke-node-role-20260126220538465400000001]
aws_iam_role_policy_attachment.node_ecr: Refreshing state... [id=rke-node-role-20260126220538467100000002]
aws_iam_instance_profile.node: Refreshing state... [id=rke-node-profile]
aws_kms_alias.main: Refreshing state... [id=alias/rke-main]
module.vpc.aws_default_route_table.default[0]: Refreshing state... [id=rtb-f7dfaddd79e929f18]
module.vpc.aws_default_security_group.this[0]: Refreshing state... [id=sg-5a3e4313a3e25ac24]
module.vpc.aws_internet_gateway.this[0]: Refreshing state... [id=igw-25bb1b1cc5f96a157]
aws_security_group.workers: Refreshing state... [id=sg-cabc233cace2c8c89]
module.vpc.aws_default_network_acl.this[0]: Refreshing state... [id=acl-cc89a8e62d09446e8]
aws_security_group.ops[0]: Refreshing state... [id=sg-08a54ddc13a8df36a]
module.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-37b43faf447471f9c]
module.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-0f01d2b3f594b418d]
module.vpc.aws_route_table.private[0]: Refreshing state... [id=rtb-6ca7de9e22e767e0a]
aws_security_group.endpoints[0]: Refreshing state... [id=sg-fb8e98e4f439e4e71]
aws_security_group.control_plane: Refreshing state... [id=sg-144fdd32c9a677f2b]
module.vpc.aws_route_table.public[0]: Refreshing state... [id=rtb-4a7f90c8a3a83ca2f]
module.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-88f85f1e2e9d2c299]
module.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-f272625583b37ce30]
module.vpc.aws_eip.nat[0]: Refreshing state... [id=eipalloc-49267b922936a8e92]
module.vpc.aws_route_table_association.private[0]: Refreshing state... [id=rtbassoc-45c1fdcb5dfa39c16]
module.vpc.aws_route_table_association.private[1]: Refreshing state... [id=rtbassoc-cddbf9aa9d7af2851]
aws_vpc_endpoint.ecr_api[0]: Refreshing state... [id=vpce-bb24f7b4b37c0f060]
module.vpc.aws_route.public_internet_gateway[0]: Refreshing state... [id=r-rtb-4a7f90c8a3a83ca2f1080289494]
aws_vpc_endpoint.ec2messages[0]: Refreshing state... [id=vpce-dfdb883af26a6883f]
aws_vpc_endpoint.ssmmessages[0]: Refreshing state... [id=vpce-302f4839c23283b97]
aws_vpc_endpoint.logs[0]: Refreshing state... [id=vpce-2bbd169514571a783]
aws_vpc_endpoint.ecr_dkr[0]: Refreshing state... [id=vpce-785ddcdd327c891a7]
aws_vpc_endpoint.s3[0]: Refreshing state... [id=vpce-9f6c5b064c7480730]
aws_security_group_rule.cp_to_workers_all: Refreshing state... [id=sgrule-2074117028]
aws_security_group_rule.workers_to_cp_all: Refreshing state... [id=sgrule-1589312753]
aws_vpc_endpoint.ssm[0]: Refreshing state... [id=vpce-8ed412310afc07677]
module.vpc.aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-aad8ab3f408ee9c69]
module.vpc.aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-8f5c7871ea43c2821]
module.vpc.aws_nat_gateway.this[0]: Refreshing state... [id=nat-ecb8f37b037f76acb]
module.vpc.aws_route.private_nat_gateway[0]: Refreshing state... [id=r-rtb-6ca7de9e22e767e0a1080289494]
data.aws_ami.al2023: Read complete after 3s [id=ami-07c1fa5792ef8fe27]
aws_launch_template.control_plane: Refreshing state... [id=lt-452b9ae657fc83353]
aws_launch_template.workers: Refreshing state... [id=lt-796ac7544cf595b60]
aws_instance.ops[0]: Refreshing state... [id=i-7a51d16f8015da94b]
aws_instance.control_plane[0]: Refreshing state... [id=i-4a8e706f63291aed2]
aws_autoscaling_group.workers: Refreshing state... [id=rke-workers]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  ~ update in-place

Terraform will perform the following actions:

  # aws_launch_template.control_plane will be updated in-place
  ~ resource "aws_launch_template" "control_plane" {
        id                                   = "lt-452b9ae657fc83353"
      ~ latest_version                       = 1 -> (known after apply)
        name                                 = "rke-cp-20260126220553711600000010"
        tags                                 = {}
        # (17 unchanged attributes hidden)

      ~ tag_specifications {
          + resource_type = "instance"
          + tags          = {
              + "Name" = "rke-control-plane"
              + "Role" = "control-plane"
            }
        }
      - tag_specifications {}

        # (3 unchanged blocks hidden)
    }

  # aws_launch_template.workers will be updated in-place
  ~ resource "aws_launch_template" "workers" {
        id                                   = "lt-796ac7544cf595b60"
      ~ latest_version                       = 1 -> (known after apply)
        name                                 = "rke-worker-2026012622054880970000000e"
        tags                                 = {}
        # (17 unchanged attributes hidden)

      ~ tag_specifications {
          + resource_type = "instance"
          + tags          = {
              + "Name" = "rke-worker"
              + "Role" = "worker"
            }
        }
      - tag_specifications {}

        # (3 unchanged blocks hidden)
    }

  # aws_security_group.control_plane will be updated in-place
  ~ resource "aws_security_group" "control_plane" {
        id                     = "sg-144fdd32c9a677f2b"
      ~ ingress                = [
          - {
              - cidr_blocks      = []
              - description      = "All from workers"
              - from_port        = 0
              - ipv6_cidr_blocks = []
              - prefix_list_ids  = []
              - protocol         = "-1"
              - security_groups  = [
                  - "sg-cabc233cace2c8c89",
                ]
              - self             = false
              - to_port          = 0
            },
            # (4 unchanged elements hidden)
        ]
        name                   = "rke-control-plane"
        tags                   = {}
        # (8 unchanged attributes hidden)
    }

  # aws_security_group.workers will be updated in-place
  ~ resource "aws_security_group" "workers" {
        id                     = "sg-cabc233cace2c8c89"
      ~ ingress                = [
          - {
              - cidr_blocks      = []
              - description      = "All from control plane"
              - from_port        = 0
              - ipv6_cidr_blocks = []
              - prefix_list_ids  = []
              - protocol         = "-1"
              - security_groups  = [
                  - "sg-144fdd32c9a677f2b",
                ]
              - self             = false
              - to_port          = 0
            },
            # (2 unchanged elements hidden)
        ]
        name                   = "rke-workers"
        tags                   = {}
        # (8 unchanged attributes hidden)
    }

Plan: 0 to add, 4 to change, 0 to destroy.
