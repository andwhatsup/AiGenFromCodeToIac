{
  "plantuml_diagram": "@startuml\n' NOTE: AWS include disabled in this environment (no network access).\n' Header kept minimal to ensure diagram renders.\n\ntitle MLflow Tracking Server - High Level Deployment Architecture\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\nactor \"User / ML Engineer\" as user\n\ncloud \"Internet\" as internet\n\nnode \"Deployment Platform\\n(Containers)\" as platform {\n  node \"MLflow Tracking Service\\n(Docker container)\" as app {\n    artifact \"nginx\\n(Basic Auth, TLS termination optional)\" as nginx\n    artifact \"supervisord\\n(process manager)\" as supervisor\n    component \"MLflow Tracking Server\\nPython + mlflow==2.4.1\\nGunicorn + gevent\" as mlflow\n\n    supervisor --> nginx : manages\n    supervisor --> mlflow : manages\n    nginx --> mlflow : reverse proxy\\nHTTP\n  }\n\n  database \"PostgreSQL\\nBackend Store\\n(postgres:15.3-alpine)\" as pg\n}\n\ncloud \"Object Storage\\n(Amazon S3 or S3-compatible)\" as s3 {\n  storage \"Artifacts Bucket\" as bucket\n}\n\ncloud \"Container Registry\\n(Amazon ECR Public)\" as ecr\n\nnode \"CI/CD\\n(GitHub Actions)\" as cicd {\n  component \"Build & Publish\\nDocker image\" as build\n  component \"Terraform Validate\\n(workflow)\" as tf\n}\n\nnode \"Heroku Platform\" as heroku {\n  node \"Heroku Dyno\\n(Container Runtime)\" as dyno\n  dyno -- app : runs same image\n}\n\nuser --> internet\ninternet --> nginx : HTTPS (Basic Auth)\nmlflow --> pg : SQL (psycopg2)\\nTracking metadata\nmlflow --> bucket : S3 API (boto3)\\nArtifacts\n\nbuild --> ecr : push image\nbuild --> heroku : deploy (heroku.yml)\n\nnote right of mlflow\nMLflow supports alternative backend stores:\n- PostgreSQL (psycopg2-binary)\n- MySQL (pymysql)\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1200px\" preserveAspectRatio=\"none\" style=\"width:789px;height:1200px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 789 1200\" width=\"789px\" zoomAndPan=\"magnify\"><title>MLflow Tracking Server - High Level Deployment Architecture</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"488.6396\" x=\"143.4483\" y=\"22.9951\">MLflow Tracking Server - High Level Deployment Architecture</text></g><!--cluster platform--><g class=\"cluster\" data-qualified-name=\"platform\" data-source-line=\"15\" id=\"ent0004\"><polygon fill=\"none\" points=\"16,441.4869,26,431.4869,497,431.4869,497,1173.7769,487,1183.7769,16,1183.7769,16,441.4869\" style=\"stroke:#181818;stroke-width:1;\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"487\" x2=\"497\" y1=\"441.4869\" y2=\"431.4869\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"16\" x2=\"487\" y1=\"441.4869\" y2=\"441.4869\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"487\" x2=\"487\" y1=\"441.4869\" y2=\"1183.7769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"168.6973\" x=\"168.1514\" y=\"457.482\">Deployment Platform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"98.2939\" x=\"203.353\" y=\"473.7789\">(Containers)</text></g><!--cluster app--><g class=\"cluster\" data-qualified-name=\"platform.app\" data-source-line=\"16\" id=\"ent0005\"><polygon fill=\"none\" points=\"48,513.4869,58,503.4869,465,503.4869,465,962.6869,455,972.6869,48,972.6869,48,513.4869\" style=\"stroke:#181818;stroke-width:1;\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"455\" x2=\"465\" y1=\"513.4869\" y2=\"503.4869\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"48\" x2=\"455\" y1=\"513.4869\" y2=\"513.4869\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"455\" x2=\"455\" y1=\"513.4869\" y2=\"972.6869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"192.541\" x=\"156.2295\" y=\"529.482\">MLflow Tracking Service</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"148.1074\" x=\"178.4463\" y=\"545.7789\">(Docker container)</text></g><!--cluster s3--><g class=\"cluster\" data-qualified-name=\"s3\" data-source-line=\"29\" id=\"ent0013\"><path d=\"M538.657,1068.5743 C542.3666,1061.8524 549.2472,1062.9014 552.8867,1068.6544 C557.5057,1059.6225 565.4253,1060.2604 570.1078,1068.5914 C573.3857,1058.9192 580.5629,1059.023 587.0249,1065.1908 C592.2847,1059.0217 596.6107,1058.4707 601.1633,1065.9248 C604.8584,1057.3536 613.2404,1056.0465 618.4619,1064.3612 C623.0648,1056.5239 629.3647,1056.3089 634.5045,1063.7993 C637.5117,1055.3202 643.9714,1054.5227 649.1002,1061.8388 C655.7124,1054.6806 661.5303,1054.2274 667.1609,1062.9548 C672.3103,1055.1457 679.1859,1056.7887 683.3355,1064.0292 C687.9562,1057.8509 694.2282,1057.4029 698.4432,1064.4913 C703.1886,1058.1771 710.7981,1057.8981 714.1024,1066.0512 C719.8815,1057.7857 726.7387,1058.9928 731.0969,1067.4916 C736.8198,1060.9311 742.3125,1062.3876 746.4796,1069.2715 C754.6786,1059.9612 765.2559,1062.3201 768,1074.6869 C768.6691,1074.6345 769.0157,1075.1409 768.6492,1075.7319 C778.6827,1081.2521 781.1269,1087.4131 771.9596,1096.06 C779.8852,1098.9376 781.41,1106.2658 774.2993,1111.432 C782.5362,1118.4751 782.2146,1124.5225 772.4807,1129.7849 C782.4762,1142.7721 776.6694,1153.6859 761,1154.9769 C762.9555,1154.783 763.7658,1156.0754 762.7648,1157.7577 C757.5514,1164.8813 750.3598,1164.9811 745.196,1157.6972 C740.6329,1166.2444 735.9617,1166.4363 730.1791,1158.8311 C725.3998,1166.6618 717.8939,1167.0057 713.9216,1158.0496 C709.071,1163.9537 702.6581,1164.2446 698.7944,1156.9209 C694.67,1164.5284 689.2548,1166.0243 683.4911,1158.5884 C678.5663,1165.302 672.3866,1166.4862 667.49,1158.5576 C663.5907,1167.0738 656.5204,1167.8405 651.5616,1159.5625 C646.5182,1169.4382 639.9171,1169.0766 633.7535,1160.6525 C628.1928,1167.0428 622.2746,1164.3545 619.5195,1157.6117 C613.956,1166.1871 608.5627,1165.1206 602.9407,1157.6723 C596.6281,1167.0409 590.5257,1167.5075 584.3604,1157.5309 C578.9107,1163.8045 573.8963,1165.0669 568.6619,1157.2904 C564.1348,1163.7262 559.2234,1164.2565 554.7577,1157.2271 C543.6006,1168.0115 530.4447,1164.237 529,1147.9769 C530.2084,1147.8995 530.5594,1148.7711 530.0134,1149.716 C517.4403,1146.9312 516.587,1139.5449 523.0822,1130.0422 C514.6344,1125.7974 512.5582,1120.4206 519.5895,1113.0029 C514.2136,1104.7458 515.557,1098.2487 525.8208,1095.5876 C515.0109,1082.8891 519.4654,1070.4091 536,1067.6869 C537.133,1066.717 538.3548,1067.0567 538.657,1068.5743\" fill=\"none\" style=\"stroke:#181818;stroke-width:1;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"118.3438\" x=\"589.3281\" y=\"1085.682\">Object Storage</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"239.7842\" x=\"528.6079\" y=\"1101.9789\">(Amazon S3 or S3-compatible)</text></g><!--cluster cicd--><g class=\"cluster\" data-qualified-name=\"cicd\" data-source-line=\"35\" id=\"ent0016\"><polygon fill=\"none\" points=\"191,53.2969,201,43.2969,536,43.2969,536,157.8969,526,167.8969,191,167.8969,191,53.2969\" style=\"stroke:#181818;stroke-width:1;\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"526\" x2=\"536\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"191\" x2=\"526\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"526\" x2=\"526\" y1=\"53.2969\" y2=\"167.8969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"42.4922\" x=\"338.2539\" y=\"69.292\">CI/CD</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"130.9014\" x=\"294.0493\" y=\"85.5889\">(GitHub Actions)</text></g><!--cluster heroku--><g class=\"cluster\" data-qualified-name=\"heroku\" data-source-line=\"40\" id=\"ent0019\"><polygon fill=\"none\" points=\"264,249.8969,274,239.8969,514,239.8969,514,364.4869,504,374.4869,264,374.4869,264,249.8969\" style=\"stroke:#181818;stroke-width:1;\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"504\" x2=\"514\" y1=\"249.8969\" y2=\"239.8969\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"264\" x2=\"504\" y1=\"249.8969\" y2=\"249.8969\"/><line style=\"stroke:#181818;stroke-width:1;\" x1=\"504\" x2=\"504\" y1=\"249.8969\" y2=\"374.4869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"130.2861\" x=\"319.8569\" y=\"265.892\">Heroku Platform</text></g><!-- (SVG truncated for brevity in this field) -->\n</svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime / serving path\n- **Client access**: Users (ML engineers) access the service over the **Internet**.\n- **Reverse proxy**: An **nginx** layer provides **Basic Auth** (and can optionally terminate TLS) and forwards requests to the application.\n- **Application**: **MLflow Tracking Server** running in a **Docker container**, implemented in **Python** using **mlflow==2.4.1**, served via **Gunicorn** with **gevent** workers.\n- **Process management**: **supervisord** runs inside the container to manage the nginx and MLflow processes.\n\n### Data stores\n- **Backend store (metadata)**: A **PostgreSQL** database (docker-compose uses `postgres:15.3-alpine`) stores MLflow tracking metadata (experiments, runs, params, metrics). Connectivity is via **psycopg2-binary**.\n- **Artifact store**: Artifacts (models, files, etc.) are stored in **S3 (or S3-compatible object storage)**, accessed by MLflow via **boto3** and configured through `MLFLOW_ARTIFACT_URI`.\n- **Optional DB support**: The image also includes **PyMySQL**, indicating MLflow can be configured to use **MySQL** as an alternative backend store.\n\n### Build & deployment\n- **CI/CD**: **GitHub Actions** builds the Docker image and publishes it to a **container registry** (referenced as **Amazon ECR Public** in workflows). A separate workflow validates Terraform.\n- **Deployment target**: The same container image can be deployed to **Heroku** (via `heroku.yml` / `app.json`), running as a **Heroku Dyno**.\n\n### Key relationships\n- User → Internet → nginx (HTTPS + Basic Auth)\n- nginx → MLflow (HTTP reverse proxy)\n- MLflow → PostgreSQL (SQL metadata)\n- MLflow → S3 bucket (artifact storage)\n- GitHub Actions → ECR Public (push image) → Heroku (deploy image)"
}