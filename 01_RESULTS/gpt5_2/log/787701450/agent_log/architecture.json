{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle Serverless Event-Driven NLP Pipeline (S3 + EventBridge + SQS + Step Functions + Comprehend + Glue)\n\ncloud \"AWS Account / Region\" as aws {\n\n  node \"Amazon S3\" as s3 {\n    artifact \"Input Bucket\\nPrefix: /text/\" as s3_text\n    artifact \"Intermediate Bucket\\nPrefix: /comprehend/\" as s3_comp\n    artifact \"Datalake Bucket\\nPrefix: /datalake/...\" as s3_dl\n  }\n\n  node \"Amazon EventBridge\" as eb {\n    component \"Event Rule(s)\\nS3 ObjectCreated\" as eb_rules\n  }\n\n  node \"Amazon SQS\" as sqs {\n    queue \"Queue A\\n(Text pipeline trigger)\" as q_text\n    queue \"Queue B\\n(Comprehend pipeline trigger)\" as q_comp\n  }\n\n  node \"AWS Step Functions\" as sfn {\n    component \"State Machine\\nS3ObjectCreatedText\\n(ASL JSON)\" as sm_text\n    component \"State Machine\\nS3ObjectCreatedComprehend\\n(ASL JSON)\" as sm_comp\n  }\n\n  node \"Amazon Comprehend\" as comprehend {\n    component \"NLP APIs\\n(detectLanguage, entities, keyPhrases,\\npii, sentiment, syntax, targetedSentiment,\\ntoxicContent)\" as nlp\n  }\n\n  node \"AWS Glue\" as glue {\n    component \"Glue Jobs / Crawlers\\nETL + Data Catalog\" as glue_jobs\n  }\n\n  s3_text --> eb_rules : S3 event\\nObjectCreated\n  eb_rules --> q_text : Send message\n  q_text --> sm_text : StartExecution\n\n  sm_text --> s3_text : s3:GetObject\n  sm_text --> nlp : Comprehend Detect*\n  sm_text --> s3_comp : s3:PutObject\n\n  s3_comp --> eb_rules : S3 event\\nObjectCreated\n  eb_rules --> q_comp : Send message\n  q_comp --> sm_comp : StartExecution\n\n  sm_comp --> s3_comp : s3:GetObject\n  sm_comp --> s3_dl : s3:PutObject\n\n  glue_jobs --> s3_dl : ETL / Catalog\n}\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"854px\" preserveAspectRatio=\"none\" style=\"width:968px;height:854px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 968 854\" width=\"968px\" zoomAndPan=\"magnify\"><title>Serverless Event-Driven NLP Pipeline (S3 + EventBridge + SQS + Step Functions + Comprehend + Glue)</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"822.876\" x=\"65.9622\" y=\"22.9951\">Serverless Event-Driven NLP Pipeline (S3 + EventBridge + SQS + Step Functions + Comprehend + Glue)</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"11\" id=\"ent0002\"><path d=\"M59.016,81.8907 C74.7238,55.5932 104.7486,51.7959 120.9725,81.3178 C140.0388,50.474 162.5524,51.7194 181.0773,81.8514 C194.6909,49.4127 218.2649,50.3326 238.6522,75.0251 C263.7775,43.2969 286.9655,51.5662 302.7681,84.2981 C319.9064,55.0641 348.7359,58.0576 365.3386,84.8957 C381.9331,58.4684 401.0838,58.8336 420.4134,81.8491 C436.4678,48.5433 468.0129,53.3704 485.1961,80.642 C499.8676,51.4617 522.7971,53.7445 539.3771,78.7331 C559.9265,48.8299 587.1074,53.0996 605.4502,81.2447 C621.8549,54.5313 647.3638,43.519 668.4941,76.2313 C685.4684,53.0849 701.7085,52.1194 718.9278,75.9683 C739.7688,47.5242 759.7821,50.6895 780.7382,75.8354 C801.3567,47.3033 832.3672,47.1485 847.3935,81.7404 C865.8382,55.2057 888.5715,51.2557 906.9645,81.7945 C908.7162,81.8035 909.516,83.0087 908.4861,84.5524 C935.5466,100.0137 939.4183,121.2063 914.5743,142.1538 C941.1597,158.2639 945.0444,182.3364 918.648,202.05 C953.7267,220.9574 947.0015,248.0274 919.5578,267.8 C941.4783,286.2945 941.8877,309.6618 911.6699,320.3267 C938.5772,341.525 939.1495,362.5802 912.0463,384.0973 C939.3251,397.2712 944.5427,424.3338 915.0023,440.4862 C941.6432,457.9712 946.541,484.4485 913.9323,500.8839 C941.6481,517.1038 940.6788,540.107 915.4579,557.7472 C944.183,572.3157 947.3918,603.3885 917.6937,620.0535 C948.8927,640.8972 945.0394,659.7425 917.2922,680.1927 C943.2224,700.3282 939.0778,729.3357 907.8585,740.5371 C936.2288,760.1761 929.8027,788.6588 899.9645,800.6545 C906.0288,797.7533 909.9164,800.9164 910.3899,807.0826 C894.9115,834.8149 862.9902,840.339 846.1208,808.5854 C826.8124,837.8229 806.2211,841.2304 785.5702,809.9281 C770.3279,836.7831 738.6787,842.4411 721.2793,812.364 C703.8204,842.1403 679.1506,835.8272 664.2017,809.7969 C647.3029,837.2536 622.0439,843.9579 601.9444,813.2211 C584.7771,841.5524 564.374,847.4793 541.351,819.525 C519.4609,846.4322 494.5381,847.4875 478.0745,813.8533 C463.2839,839.5124 438.6325,847.0803 418.747,819.5346 C399.2748,847.1268 371.4288,846.6897 359.1448,812.59 C340.1933,842.4431 320.0284,843.9618 299.4289,814.2421 C278.0654,838.2456 260.4113,838.2069 241.7822,811.1546 C225.6841,841.465 203.0605,837.889 184.6174,813.6101 C163.2861,846.4356 132.293,836.6174 116.4185,807.5932 C88.9876,841.0067 61.0782,826.5975 46.9645,793.6545 C49.4326,793.7912 49.5987,795.1745 48.8322,797.0766 C24.9999,777.3872 22.3606,752.3958 55.0758,738.7607 C20.123,727.2852 15.1376,701.8195 43.8583,678.4927 C18.3788,661.211 17.7096,636.1912 43.0013,618.188 C13.6905,603.4607 14.0126,580.3528 40.2778,562.8884 C6.2864,542.8696 11.3471,518.389 40.5632,498.6509 C14.2446,480.4794 8.9484,462.0913 38.4438,441.8376 C6,420.5595 11.6648,391.8337 46.084,378.6387 C19.3651,357.9748 16.4264,338.3903 48.2889,319.9264 C20.7765,300.4315 27.8917,284.9864 50.6836,267.8026 C19.615,248.2478 16.0538,228.5982 43.6634,202.7145 C21.1807,181.921 22.5496,163.1592 48.7279,146.7709 C17.1968,125.4396 13.8963,90.9166 53.9645,74.7945 C58.2602,74.7569 60.7987,77.6012 59.016,81.8907\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"174.4531\" x=\"389.7379\" y=\"92.7896\">AWS Account / Region</text></g><!--cluster s3--><g class=\"cluster\" data-qualified-name=\"aws.s3\" data-source-line=\"13\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"329.9645,651.9645,339.9645,641.9645,890.9645,641.9645,890.9645,743.5645,880.9645,753.5645,329.9645,753.5645,329.9645,651.9645\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"880.9645\" x2=\"890.9645\" y1=\"651.9645\" y2=\"641.9645\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"329.9645\" x2=\"880.9645\" y1=\"651.9645\" y2=\"651.9645\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"880.9645\" x2=\"880.9645\" y1=\"651.9645\" y2=\"753.5645\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"87.3018\" x=\"562.8136\" y=\"667.9596\">Amazon S3</text></g><!--cluster eb--><g class=\"cluster\" data-qualified-name=\"aws.eb\" data-source-line=\"19\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"497.9645,119.7945,507.9645,109.7945,737.9645,109.7945,737.9645,208.3845,727.9645,218.3845,497.9645,218.3845,497.9645,119.7945\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"727.9645\" x2=\"737.9645\" y1=\"119.7945\" y2=\"109.7945\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"497.9645\" x2=\"727.9645\" y1=\"119.7945\" y2=\"119.7945\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"727.9645\" x2=\"727.9645\" y1=\"119.7945\" y2=\"218.3845\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"164.2334\" x=\"531.8478\" y=\"135.7896\">Amazon EventBridge</text></g><!--cluster sqs--><g class=\"cluster\" data-qualified-name=\"aws.sqs\" data-source-line=\"23\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"171.9645,275.3845,181.9645,265.3845,645.9645,265.3845,645.9645,353.9845,635.9645,363.9845,171.9645,363.9845,171.9645,275.3845\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"635.9645\" x2=\"645.9645\" y1=\"275.3845\" y2=\"265.3845\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"171.9645\" x2=\"635.9645\" y1=\"275.3845\" y2=\"275.3845\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"635.9645\" x2=\"635.9645\" y1=\"275.3845\" y2=\"363.9845\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"99.5449\" x=\"355.192\" y=\"291.3796\">Amazon SQS</text></g><!--cluster sfn--><g class=\"cluster\" data-qualified-name=\"aws.sfn\" data-source-line=\"28\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"175.9645,434.9845,185.9645,424.9845,642.9645,424.9845,642.9645,539.8745,632.9645,549.8745,175.9645,549.8745,175.9645,434.9845\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"632.9645\" x2=\"642.9645\" y1=\"434.9845\" y2=\"424.9845\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"175.9645\" x2=\"632.9645\" y1=\"434.9845\" y2=\"434.9845\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"632.9645\" x2=\"632.9645\" y1=\"434.9845\" y2=\"549.8745\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"159.6055\" x=\"325.6618\" y=\"450.9796\">AWS Step Functions</text></g><!--cluster comprehend--><g class=\"cluster\" data-qualified-name=\"aws.comprehend\" data-source-line=\"33\" id=\"ent0015\"><polygon fill=\"#FFFFFF\" points=\"62.9645,620.8745,72.9645,610.8745,305.9645,610.8745,305.9645,774.6545,295.9645,784.6545,62.9645,784.6545,62.9645,620.8745\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"295.9645\" x2=\"305.9645\" y1=\"620.8745\" y2=\"610.8745\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"62.9645\" x2=\"295.9645\" y1=\"620.8745\" y2=\"620.8745\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"295.9645\" x2=\"295.9645\" y1=\"620.8745\" y2=\"784.6545\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"167.8291\" x=\"96.5499\" y=\"636.8696\">Amazon Comprehend</text></g><!--cluster glue--><g class=\"cluster\" data-qualified-name=\"aws.glue\" data-source-line=\"37\" id=\"ent0017\"><polygon fill=\"#FFFFFF\" points=\"685.9645,443.1345,695.9645,433.1345,877.9645,433.1345,877.9645,531.7245,867.9645,541.7245,685.9645,541.7245,685.9645,443.1345\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"867.9645\" x2=\"877.9645\" y1=\"443.1345\" y2=\"433.1345\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"685.9645\" x2=\"867.9645\" y1=\"443.1345\" y2=\"443.1345\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"867.9645\" x2=\"867.9645\" y1=\"443.1345\" y2=\"541.7245\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"76.9863\" x=\"739.4713\" y=\"459.1296\">AWS Glue</text></g><!--entity s3_text--><g class=\"entity\" data-qualified-name=\"aws.s3.s3_text\" data-source-line=\"14\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"119.0859\" x=\"346.4245\" y=\"681.9645\"/><polygon fill=\"#FFFFFF\" points=\"448.5104,686.9645,448.5104,700.9645,460.5104,700.9645,460.5104,692.9645,454.5104,686.9645,448.5104,686.9645\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"454.5104\" x2=\"454.5104\" y1=\"686.9645\" y2=\"692.9645\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"460.5104\" x2=\"454.5104\" y1=\"692.9645\" y2=\"692.9645\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.251\" x=\"356.4245\" y=\"707.9596\">Input</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"392.6755\" y=\"707.9596\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.3848\" x=\"397.1257\" y=\"707.9596\">Bucket</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.6318\" x=\"357.7712\" y=\"724.2565\">Prefix:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"402.403\" y=\"724.2565\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.3105\" x=\"406.8532\" y=\"724.2565\">/text/</text></g><!--entity s3_comp--><g class=\"entity\" data-qualified-name=\"aws.s3.s3_comp\" data-source-line=\"15\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"176.918\" x=\"500.5045\" y=\"681.9645\"/><polygon fill=\"#FFFFFF\" points=\"660.4225,686.9645,660.4225,700.9645,672.4225,700.9645,672.4225,692.9645,666.4225,686.9645,660.4225,686.9645\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"666.4225\" x2=\"666.4225\" y1=\"686.9645\" y2=\"692.9645\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"672.4225\" x2=\"666.4225\" y1=\"692.9645\" y2=\"692.9645\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.5693\" x=\"512.2613\" y=\"707.9596\">Intermediate</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"602.8307\" y=\"707.9596\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.3848\" x=\"607.2809\" y=\"707.9596\">Bucket</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.6318\" x=\"510.5045\" y=\"724.2565\">Prefix:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"555.1363\" y=\"724.2565\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"97.8359\" x=\"559.5865\" y=\"724.2565\">/comprehend/</text></g><!--entity s3_dl--><g class=\"entity\" data-qualified-name=\"aws.s3.s3_dl\" data-source-line=\"16\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"162.5898\" x=\"712.6745\" y=\"681.9645\"/><polygon fill=\"#FFFFFF\" points=\"858.2643,686.9645,858.2643,700.9645,870.2643,700.9645,870.2643,692.9645,864.2643,686.9645,858.2643,686.9645\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"864.2643\" x2=\"864.2643\" y1=\"686.9645\" y2=\"692.9645\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"870.2643\" x2=\"864.2643\" y1=\"692.9645\" y2=\"692.9645\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"62.6172\" x=\"731.2433\" y=\"707.9596\">Datalake</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"793.8605\" y=\"707.9596\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.3848\" x=\"798.3107\" y=\"707.9596\">Bucket</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.6318\" x=\"722.6745\" y=\"724.2565\">Prefix:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"767.3063\" y=\"724.2565\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"83.5078\" x=\"771.7565\" y=\"724.2565\">/datalake/...</text></g><!--entity eb_rules--><g class=\"entity\" data-qualified-name=\"aws.eb.eb_rules\" data-source-line=\"20\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"143.5527\" x=\"546.1845\" y=\"149.7945\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.1064\" x=\"571.0219\" y=\"172.7896\">Event</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"611.1283\" y=\"172.7896\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.3213\" x=\"615.5785\" y=\"172.7896\">Rule(s)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"17.7939\" x=\"556.1845\" y=\"189.0865\">S3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"573.9784\" y=\"189.0865\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"101.3086\" x=\"578.4286\" y=\"189.0865\">ObjectCreated</text></g><!--entity q_text--><g class=\"entity\" data-qualified-name=\"aws.sqs.q_text\" data-source-line=\"24\" id=\"ent0010\"><path d=\"M193.1745,305.3845 L356.7575,305.3845 C361.7575,305.3845 361.7575,326.6814 361.7575,326.6814 C361.7575,326.6814 361.7575,347.9782 356.7575,347.9782 L193.1745,347.9782 C188.1745,347.9782 188.1745,326.6814 188.1745,326.6814 C188.1745,326.6814 188.1745,305.3845 193.1745,305.3845\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M356.7575,305.3845 C351.7575,305.3845 351.7575,326.6814 351.7575,326.6814 C351.7575,347.9782 356.7575,347.9782 356.7575,347.9782\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.9922\" x=\"239.9562\" y=\"323.3796\">Queue</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"285.9484\" y=\"323.3796\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"9.5771\" x=\"290.3986\" y=\"323.3796\">A</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.4014\" x=\"193.1745\" y=\"339.6765\">(Text</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"229.5759\" y=\"339.6765\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.542\" x=\"234.0261\" y=\"339.6765\">pipeline</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"289.568\" y=\"339.6765\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.7393\" x=\"294.0182\" y=\"339.6765\">trigger)</text></g><!--entity q_comp--><g class=\"entity\" data-qualified-name=\"aws.sqs.q_comp\" data-source-line=\"25\" id=\"ent0011\"><path d=\"M401.4045,305.3845 L624.5285,305.3845 C629.5285,305.3845 629.5285,326.6814 629.5285,326.6814 C629.5285,326.6814 629.5285,347.9782 624.5285,347.9782 L401.4045,347.9782 C396.4045,347.9782 396.4045,326.6814 396.4045,326.6814 C396.4045,326.6814 396.4045,305.3845 401.4045,305.3845\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M624.5285,305.3845 C619.5285,305.3845 619.5285,326.6814 619.5285,326.6814 C619.5285,347.9782 624.5285,347.9782 624.5285,347.9782\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.9922\" x=\"477.9431\" y=\"323.3796\">Queue</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"523.9353\" y=\"323.3796\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"9.6045\" x=\"528.3855\" y=\"323.3796\">B</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"95.9424\" x=\"401.4045\" y=\"339.6765\">(Comprehend</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"497.3469\" y=\"339.6765\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.542\" x=\"501.7971\" y=\"339.6765\">pipeline</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"557.3391\" y=\"339.6765\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.7393\" x=\"561.7893\" y=\"339.6765\">trigger)</text></g><!--entity sm_text--><g class=\"entity\" data-qualified-name=\"aws.sfn.sm_text\" data-source-line=\"29\" id=\"ent0013\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"170.042\" x=\"191.9445\" y=\"464.9845\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.0576\" x=\"226.9093\" y=\"487.9796\">State</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"263.967\" y=\"487.9796\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"58.6045\" x=\"268.4172\" y=\"487.9796\">Machine</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"150.042\" x=\"201.9445\" y=\"504.2765\">S3ObjectCreatedText</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.7256\" x=\"238.8927\" y=\"520.5734\">(ASL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"270.6183\" y=\"520.5734\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.9697\" x=\"275.0685\" y=\"520.5734\">JSON)</text></g><!--entity sm_comp--><g class=\"entity\" data-qualified-name=\"aws.sfn.sm_comp\" data-source-line=\"30\" id=\"ent0014\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"229.583\" x=\"397.1745\" y=\"464.9845\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.0576\" x=\"461.9098\" y=\"487.9796\">State</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"498.9675\" y=\"487.9796\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"58.6045\" x=\"503.4177\" y=\"487.9796\">Machine</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"209.583\" x=\"407.1745\" y=\"504.2765\">S3ObjectCreatedComprehend</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.7256\" x=\"473.8932\" y=\"520.5734\">(ASL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"505.6188\" y=\"520.5734\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"39.9697\" x=\"510.069\" y=\"520.5734\">JSON)</text></g><!--entity nlp--><g class=\"entity\" data-qualified-name=\"aws.comprehend.nlp\" data-source-line=\"34\" id=\"ent0016\"><rect fill=\"#FFFFFF\" height=\"117.7813\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"204.8438\" x=\"78.5445\" y=\"650.8745\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"26.7148\" x=\"150.6627\" y=\"673.8696\">NLP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"177.3775\" y=\"673.8696\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"29.4424\" x=\"181.8277\" y=\"673.8696\">APIs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"123.792\" x=\"88.5445\" y=\"690.1665\">(detectLanguage,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"212.3365\" y=\"690.1665\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.6016\" x=\"216.7867\" y=\"690.1665\">entities,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"84.3076\" x=\"138.8126\" y=\"706.4634\">keyPhrases,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.1162\" x=\"102.7188\" y=\"722.7602\">pii,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"123.835\" y=\"722.7602\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"75.2227\" x=\"128.2852\" y=\"722.7602\">sentiment,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"203.5079\" y=\"722.7602\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.2559\" x=\"207.9581\" y=\"722.7602\">syntax,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"137.1289\" x=\"112.4019\" y=\"739.0571\">targetedSentiment,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"95.0674\" x=\"133.4327\" y=\"755.354\">toxicContent)</text></g><!--entity glue_jobs--><g class=\"entity\" data-qualified-name=\"aws.glue.glue_jobs\" data-source-line=\"38\" id=\"ent0018\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"160.2803\" x=\"701.8245\" y=\"473.1345\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.2246\" x=\"711.8245\" y=\"496.1296\">Glue</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"744.0491\" y=\"496.1296\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.875\" x=\"748.4993\" y=\"496.1296\">Jobs</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"777.3743\" y=\"496.1296\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"781.8245\" y=\"496.1296\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"786.5413\" y=\"496.1296\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.1133\" x=\"790.9915\" y=\"496.1296\">Crawlers</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.1973\" x=\"713.2293\" y=\"512.4265\">ETL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"738.4265\" y=\"512.4265\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"742.8767\" y=\"512.4265\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"754.6072\" y=\"512.4265\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.4277\" x=\"759.0574\" y=\"512.4265\">Data</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"792.4851\" y=\"512.4265\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.7646\" x=\"796.9353\" y=\"512.4265\">Catalog</text></g><!--link s3_text to eb_rules--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"41\" id=\"lnk19\"><path d=\"M417.2345,681.5045 C429.3545,656.1145 451.2545,619.7345 482.9645,602.8745 C505.3445,590.9745 693.3545,613.1045 710.9645,594.8745 C719.9145,585.6045 718.5645,576.2845 710.9645,565.8745 C704.0845,556.4545 693.2045,567.0245 685.9645,557.8745 C596.5145,444.7645 711.8245,369.3245 660.9645,234.3845 C656.7045,223.1045 653.2222,216.8539 645.9122,207.5939\" fill=\"none\" id=\"s3_text-to-eb_rules\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"642.1945,202.8845,644.6314,212.4271,645.2926,206.809,650.9107,207.4702,642.1945,202.8845\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"15.252\" x=\"681.7604\" y=\"392.1232\">S3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"697.0123\" y=\"392.1232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.1777\" x=\"700.8268\" y=\"392.1232\">event</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"86.8359\" x=\"664.9645\" y=\"406.0919\">ObjectCreated</text></g><!--link eb_rules to q_text--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"42\" id=\"lnk20\"><path d=\"M545.7445,196.0945 C497.3145,210.0845 432.7945,231.2145 378.9645,257.3845 C351.3845,270.8045 327.2518,286.8221 306.9118,301.5721\" fill=\"none\" id=\"eb_rules-to-q_text\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"302.0545,305.0945,311.6886,303.0491,306.1022,302.1592,306.9922,296.5728,302.0545,305.0945\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.2227\" x=\"429.9645\" y=\"246.5232\">Send</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"460.1872\" y=\"246.5232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"53.9297\" x=\"464.0016\" y=\"246.5232\">message</text></g><!--link q_text to sm_text--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0013\" data-link-type=\"dependency\" data-source-line=\"43\" id=\"lnk21\"><path d=\"M275.2045,348.2845 C275.5445,377.1045 276.0953,423.8349 276.4953,458.5049\" fill=\"none\" id=\"q_text-to-sm_text\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"276.5645,464.5045,280.4604,455.4589,276.5068,459.5048,272.4609,455.5512,276.5645,464.5045\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"88.5703\" x=\"276.9645\" y=\"399.1232\">StartExecution</text></g><!--link sm_text to s3_text--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"45\" id=\"lnk22\"><path d=\"M264.6845,534.1545 C259.8545,553.7345 258.1045,577.8245 270.9645,594.8745 C278.7545,605.2045 287.7945,596.3345 298.9645,602.8745 C333.9345,623.3245 361.9826,653.1927 381.6726,677.2327\" fill=\"none\" id=\"sm_text-to-s3_text\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"385.4745,681.8745,382.8662,672.3773,382.3063,678.0064,376.6772,677.4464,385.4745,681.8745\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"78.3984\" x=\"271.9645\" y=\"585.0132\">s3:GetObject</text></g><!--link sm_text to nlp--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0016\" data-link-type=\"dependency\" data-source-line=\"46\" id=\"lnk23\"><path d=\"M191.4945,529.1145 C175.7545,538.3545 161.3545,550.3645 151.9645,565.8745 C136.6345,591.2145 139.3737,617.5779 149.0337,644.8879\" fill=\"none\" id=\"sm_text-to-nlp\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"151.0345,650.5445,151.8043,640.7258,149.3671,645.8307,144.2622,643.3935,151.0345,650.5445\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"77.5547\" x=\"152.9645\" y=\"578.0132\">Comprehend</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.0137\" x=\"168.735\" y=\"591.9819\">Detect*</text></g><!--link sm_text to s3_comp--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"47\" id=\"lnk24\"><path d=\"M316.4045,534.2445 C343.2445,555.3045 380.5545,580.9445 417.9645,594.8745 C445.2445,605.0245 456.8045,590.1145 482.9645,602.8745 C519.6745,620.7745 547.604,651.7599 566.514,676.7499\" fill=\"none\" id=\"sm_text-to-s3_comp\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"570.1345,681.5345,567.8935,671.944,567.1174,677.5474,561.514,676.7713,570.1345,681.5345\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"76.5586\" x=\"418.9645\" y=\"585.0132\">s3:PutObject</text></g><!--link s3_comp to eb_rules--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"49\" id=\"lnk25\"><path d=\"M606.7845,681.8545 C625.3845,656.3445 657.1045,619.5345 694.9645,602.8745 C713.3945,594.7645 861.6645,609.0345 875.9645,594.8745 C932.1445,539.2445 909.6845,489.4045 877.9645,416.9845 C834.2345,317.1245 731.2767,243.5226 669.1067,205.8726\" fill=\"none\" id=\"s3_comp-to-eb_rules\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"663.9745,202.7645,669.6008,210.8481,668.2514,205.3546,673.7449,204.0051,663.9745,202.7645\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"15.252\" x=\"890.7604\" y=\"392.1232\">S3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"906.0123\" y=\"392.1232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.1777\" x=\"909.8268\" y=\"392.1232\">event</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"86.8359\" x=\"873.9645\" y=\"406.0919\">ObjectCreated</text></g><!--link eb_rules to q_comp--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"50\" id=\"lnk26\"><path d=\"M593.8145,202.8245 C585.2545,212.4245 575.8145,223.6145 567.9645,234.3845 C551.0745,257.5645 537.3761,280.8928 526.9061,299.8428\" fill=\"none\" id=\"eb_rules-to-q_comp\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"524.0045,305.0945,531.8581,299.1513,526.4225,300.7181,524.8558,295.2825,524.0045,305.0945\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.2227\" x=\"568.9645\" y=\"246.5232\">Send</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"599.1872\" y=\"246.5232\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"53.9297\" x=\"603.0016\" y=\"246.5232\">message</text></g><!--link q_comp to sm_comp--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"51\" id=\"lnk27\"><path d=\"M512.8445,348.2845 C512.6745,377.1045 512.3991,423.8346 512.1991,458.5046\" fill=\"none\" id=\"q_comp-to-sm_comp\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"512.1645,464.5045,516.2163,455.5277,512.1933,459.5046,508.2165,455.4816,512.1645,464.5045\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"88.5703\" x=\"512.9645\" y=\"399.1232\">StartExecution</text></g><!--link sm_comp to s3_comp--><g class=\"link\" data-entity-1=\"ent0014\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"53\" id=\"lnk28\"><path d=\"M505.5545,533.9545 C503.3545,552.3445 502.7845,575.3245 508.9645,594.8745 C519.4545,628.0545 539.4887,655.432 558.4787,676.992\" fill=\"none\" id=\"sm_comp-to-s3_comp\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"562.4445,681.4945,559.4975,672.0969,559.1397,677.7424,553.4941,677.3846,562.4445,681.4945\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"78.3984\" x=\"509.9645\" y=\"585.0132\">s3:GetObject</text></g><!--link sm_comp to s3_dl--><g class=\"link\" data-entity-1=\"ent0014\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"54\" id=\"lnk29\"><path d=\"M584.2445,534.3145 C619.2745,552.3345 661.0045,576.2645 694.9645,602.8745 C724.8745,626.3145 750.1282,654.3146 768.9382,677.1346\" fill=\"none\" id=\"sm_comp-to-s3_dl\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"772.7545,681.7645,770.1166,672.2755,769.5742,677.9063,763.9434,677.3639,772.7545,681.7645\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"76.5586\" x=\"681.9645\" y=\"585.0132\">s3:PutObject</text></g><!--link glue_jobs to s3_dl--><g class=\"link\" data-entity-1=\"ent0018\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"56\" id=\"lnk30\"><path d=\"M783.4345,525.9745 C785.7145,565.5245 789.7295,635.2344 792.0595,675.6944\" fill=\"none\" id=\"glue_jobs-to-s3_dl\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"792.4045,681.6845,795.8804,672.4694,792.117,676.6928,787.8937,672.9294,792.4045,681.6845\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5977\" x=\"787.9645\" y=\"585.0132\">ETL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"809.5622\" y=\"585.0132\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"4.043\" x=\"813.3766\" y=\"585.0132\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"817.4196\" y=\"585.0132\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.084\" x=\"821.234\" y=\"585.0132\">Catalog</text></g><?plantuml-src dLJVJ-9047xlNp7of7T0FNdZuH94psZGGslY2ubPsg6iRBTbTohenV_zPjjIYc1oEHxORkURR-QR7psAS2Ormk0f6EU9WZbHPlk-RyIg6qkQvzFSeWbJJQYf6wQ9BrPMYQbrPqUomNPcgUbaIcXY0l_rxBHxwaVIadSaTQZog2Rt-HocIPBgRiPNpxCBgJDXH09sBg9q9NKCCw4iDYmSCair1m_eJI4O34deM3KXAoEo9ndH7CxEJXll4x6-HMj5Z85yH_Z1HeyaCKk0vXMDOYDSlZ9tvy98Fk5kD8Qnp52vaXm7FVXUsi-DZ6BaMt0Vk7_237xbEYJ9-la5gyeCpb57VBbIEPvuNgZIF88MQuP16AQv9l3X0MDsQO6mmFM3Fvu7e5CkKMkGYFTKGz0hZBR7Dk2VC2Hd8YHeNUii9pZFmmNIH8yDzstT1vzmJNxby-mkUsw49i582i9zxx1ElEPmhpvnN0WIIYmE-4ULnUzsknk2IB7xnvwoHY4B94uhYNM7eLLWu25NU6nF9feRy7lwmXqV6kJqeyhlsJ307Wp2_IdJMDgAVPbZplRxuXXCzF4ZrmYoJPF9o3X6Sr9uBRS5t74xPxT6YxzohYhNp8gRlpiiPNOplQyz8DUXMn7EcTfftv7kikOi1i48ReBVTsL8csmJ_cUchP13V0Sqb9NTkXNGxU3iAt5RD1XVM-QFa3ZoY3SsvpLi0zibIRHjME3RU6w4vUU9pgHiWtN6XF_uyKsJMBU1X8cP8GfgqqHJkfRXiFmWbMbhTQ3iRWiBQymF-pawCzoaKyjBEUIFdKB3-Lu-ZdY1tRZ3q4rs6jSKpoyCteIfLWqwdP_rF4AVbnVGJV14xrIS7MgGyoZ7pE5T-PBo4yMWvPQqwgp3S0teSerXxkQd29uqSBqDplRwLqXbt4yWhWy36WDyKNJbspwNAr39DSutNANSmlA_SYlQFRarQJLuNydTufefVfBR14NgW8gwYpiert9_qstluoy0?></g></svg>",
  "architecture_description": "## High-level architecture (deployment view)\n\nThis codebase defines a **serverless, event-driven NLP processing pipeline** implemented primarily as **AWS Step Functions state machines (Amazon States Language JSON)** using **AWS SDK service integrations** (no long-running compute service is required by the repo itself; Python is only for dev tooling).\n\n### Core components\n- **Amazon S3 (3 logical prefixes/buckets)**\n  - **/text/**: landing area for raw input text objects.\n  - **/comprehend/**: intermediate storage for NLP enrichment results produced by the first state machine.\n  - **/datalake/...**: curated outputs for downstream analytics/consumption.\n\n- **Amazon EventBridge**\n  - Receives/handles **S3 ObjectCreated** events (as described in the docs) and routes them onward.\n\n- **Amazon SQS (2 queues)**\n  - **Queue A**: buffers events for the “text pipeline” execution.\n  - **Queue B**: buffers events for the “comprehend pipeline”/second-stage execution.\n  - Provides decoupling, backpressure, and retry semantics between event ingestion and workflow execution.\n\n- **AWS Step Functions (2 state machines, ASL JSON)**\n  - **S3ObjectCreatedText**: triggered from Queue A; reads the new object from **/text/**, calls **Amazon Comprehend Detect*** APIs via service integrations, and writes results to **/comprehend/**.\n  - **S3ObjectCreatedComprehend**: triggered from Queue B; reads intermediate results from **/comprehend/** and writes curated outputs to **/datalake/...**.\n\n- **Amazon Comprehend**\n  - NLP enrichment APIs invoked by Step Functions (e.g., detectDominantLanguage, detectEntities, detectKeyPhrases, detectPiiEntities, detectSentiment, detectSyntax, detectTargetedSentiment, detectToxicContent).\n\n- **AWS Glue**\n  - Glue jobs/crawlers operate on the **datalake S3 location** for ETL and/or Data Catalog population.\n\n### End-to-end flow\n1. A file is uploaded to **S3 /text/**.\n2. **S3 ObjectCreated** event is routed through **EventBridge** to **SQS Queue A**.\n3. **Step Functions (S3ObjectCreatedText)** starts, reads the object from S3, calls **Comprehend**, and stores enrichment output in **S3 /comprehend/**.\n4. The new object in **/comprehend/** emits another **S3 ObjectCreated** event, routed via **EventBridge** to **SQS Queue B**.\n5. **Step Functions (S3ObjectCreatedComprehend)** starts, reads intermediate results, and writes curated data to **S3 /datalake/...**.\n6. **AWS Glue** consumes the datalake data for ETL and cataloging."
}