digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_caller_identity.current" [label="data.aws_caller_identity.current"];
  "data.aws_iam_policy_document.glue_assume" [label="data.aws_iam_policy_document.glue_assume"];
  "data.aws_iam_policy_document.sfn_assume" [label="data.aws_iam_policy_document.sfn_assume"];
  "data.aws_region.current" [label="data.aws_region.current"];
  "aws_cloudwatch_event_rule.s3_comprehend_object_created" [label="aws_cloudwatch_event_rule.s3_comprehend_object_created"];
  "aws_cloudwatch_event_rule.s3_text_object_created" [label="aws_cloudwatch_event_rule.s3_text_object_created"];
  "aws_cloudwatch_event_target.to_sqs_comprehend" [label="aws_cloudwatch_event_target.to_sqs_comprehend"];
  "aws_cloudwatch_event_target.to_sqs_text" [label="aws_cloudwatch_event_target.to_sqs_text"];
  "aws_cloudwatch_log_group.sfn" [label="aws_cloudwatch_log_group.sfn"];
  "aws_glue_catalog_database.datalake" [label="aws_glue_catalog_database.datalake"];
  "aws_glue_crawler.datalake" [label="aws_glue_crawler.datalake"];
  "aws_iam_policy.glue" [label="aws_iam_policy.glue"];
  "aws_iam_policy.sfn" [label="aws_iam_policy.sfn"];
  "aws_iam_role.glue" [label="aws_iam_role.glue"];
  "aws_iam_role.sfn" [label="aws_iam_role.sfn"];
  "aws_iam_role_policy_attachment.glue" [label="aws_iam_role_policy_attachment.glue"];
  "aws_iam_role_policy_attachment.sfn" [label="aws_iam_role_policy_attachment.sfn"];
  "aws_kms_alias.s3" [label="aws_kms_alias.s3"];
  "aws_kms_key.s3" [label="aws_kms_key.s3"];
  "aws_s3_bucket.data" [label="aws_s3_bucket.data"];
  "aws_s3_bucket_notification.data" [label="aws_s3_bucket_notification.data"];
  "aws_s3_bucket_ownership_controls.data" [label="aws_s3_bucket_ownership_controls.data"];
  "aws_s3_bucket_public_access_block.data" [label="aws_s3_bucket_public_access_block.data"];
  "aws_s3_bucket_server_side_encryption_configuration.data" [label="aws_s3_bucket_server_side_encryption_configuration.data"];
  "aws_s3_bucket_versioning.data" [label="aws_s3_bucket_versioning.data"];
  "aws_sfn_state_machine.comprehend" [label="aws_sfn_state_machine.comprehend"];
  "aws_sfn_state_machine.text" [label="aws_sfn_state_machine.text"];
  "aws_sqs_queue.comprehend" [label="aws_sqs_queue.comprehend"];
  "aws_sqs_queue.comprehend_dlq" [label="aws_sqs_queue.comprehend_dlq"];
  "aws_sqs_queue.text" [label="aws_sqs_queue.text"];
  "aws_sqs_queue.text_dlq" [label="aws_sqs_queue.text_dlq"];
  "aws_sqs_queue_policy.comprehend" [label="aws_sqs_queue_policy.comprehend"];
  "aws_sqs_queue_policy.text" [label="aws_sqs_queue_policy.text"];
  "aws_cloudwatch_event_rule.s3_comprehend_object_created" -> "aws_s3_bucket.data";
  "aws_cloudwatch_event_rule.s3_text_object_created" -> "aws_s3_bucket.data";
  "aws_cloudwatch_event_target.to_sqs_comprehend" -> "aws_cloudwatch_event_rule.s3_comprehend_object_created";
  "aws_cloudwatch_event_target.to_sqs_comprehend" -> "aws_sqs_queue.comprehend";
  "aws_cloudwatch_event_target.to_sqs_text" -> "aws_cloudwatch_event_rule.s3_text_object_created";
  "aws_cloudwatch_event_target.to_sqs_text" -> "aws_sqs_queue.text";
  "aws_glue_crawler.datalake" -> "aws_glue_catalog_database.datalake";
  "aws_glue_crawler.datalake" -> "aws_iam_role.glue";
  "aws_glue_crawler.datalake" -> "aws_s3_bucket.data";
  "aws_iam_policy.glue" -> "aws_kms_key.s3";
  "aws_iam_policy.glue" -> "aws_s3_bucket.data";
  "aws_iam_policy.sfn" -> "aws_kms_key.s3";
  "aws_iam_policy.sfn" -> "aws_s3_bucket.data";
  "aws_iam_role.glue" -> "data.aws_iam_policy_document.glue_assume";
  "aws_iam_role.sfn" -> "data.aws_iam_policy_document.sfn_assume";
  "aws_iam_role_policy_attachment.glue" -> "aws_iam_policy.glue";
  "aws_iam_role_policy_attachment.glue" -> "aws_iam_role.glue";
  "aws_iam_role_policy_attachment.sfn" -> "aws_iam_policy.sfn";
  "aws_iam_role_policy_attachment.sfn" -> "aws_iam_role.sfn";
  "aws_kms_alias.s3" -> "aws_kms_key.s3";
  "aws_s3_bucket.data" -> "data.aws_caller_identity.current";
  "aws_s3_bucket.data" -> "data.aws_region.current";
  "aws_s3_bucket_notification.data" -> "aws_s3_bucket_ownership_controls.data";
  "aws_s3_bucket_ownership_controls.data" -> "aws_s3_bucket.data";
  "aws_s3_bucket_public_access_block.data" -> "aws_s3_bucket.data";
  "aws_s3_bucket_server_side_encryption_configuration.data" -> "aws_kms_key.s3";
  "aws_s3_bucket_server_side_encryption_configuration.data" -> "aws_s3_bucket.data";
  "aws_s3_bucket_versioning.data" -> "aws_s3_bucket.data";
  "aws_sfn_state_machine.comprehend" -> "aws_cloudwatch_log_group.sfn";
  "aws_sfn_state_machine.comprehend" -> "aws_iam_role.sfn";
  "aws_sfn_state_machine.text" -> "aws_cloudwatch_log_group.sfn";
  "aws_sfn_state_machine.text" -> "aws_iam_role.sfn";
  "aws_sqs_queue.comprehend" -> "aws_sqs_queue.comprehend_dlq";
  "aws_sqs_queue.text" -> "aws_sqs_queue.text_dlq";
  "aws_sqs_queue_policy.comprehend" -> "aws_cloudwatch_event_rule.s3_comprehend_object_created";
  "aws_sqs_queue_policy.comprehend" -> "aws_sqs_queue.comprehend";
  "aws_sqs_queue_policy.text" -> "aws_cloudwatch_event_rule.s3_text_object_created";
  "aws_sqs_queue_policy.text" -> "aws_sqs_queue.text";
}
