{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ntitle Serverless Playwright Runner (Lambda Container) - Deployment\n\nskinparam shadowing false\nskinparam componentStyle rectangle\n\nactor \"Caller\" as caller\n\ncloud \"Internet\" as internet\n\nnode \"AWS Account\" as aws {\n\n  node \"Amazon ECR\" as ecr {\n    artifact \"Lambda Container Image\\n(Node.js + Playwright Chromium)\" as image\n  }\n\n  node \"AWS Lambda\" as lambda {\n    node \"Lambda Function\\nRuntime: Node.js (container image)\\nHandler: index.handler\" as fn {\n      component \"Playwright Runner\\n(playwright-aws-lambda, playwright-core)\" as app\n      component \"Headless Chromium\\n(@playwright/browser-chromium)\" as chromium\n    }\n  }\n}\n\ncaller --> fn : Invoke (event.url)\nfn --> internet : Outbound HTTPS\\npage.goto(event.url)\nfn ..> ecr : Pull container image\napp --> chromium : Launch browser\\nrun automation\n\nnote right of fn\nContainer image built via Dockerfile.\nMakefile targets build/push to ECR.\nTerraform expected to provision ECR + Lambda.\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"739px\" preserveAspectRatio=\"none\" style=\"width:1039px;height:739px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1039 739\" width=\"1039px\" zoomAndPan=\"magnify\"><title>Serverless Playwright Runner (Lambda Container) - Deployment</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"507.8828\" x=\"258.8903\" y=\"22.9951\">Serverless Playwright Runner (Lambda Container) - Deployment</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"13\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"16,190.8369,26,180.8369,801,180.8369,801,712.9269,791,722.9269,16,722.9269,16,190.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"791\" x2=\"801\" y1=\"190.8369\" y2=\"180.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"791\" y1=\"190.8369\" y2=\"190.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"791\" x2=\"791\" y1=\"190.8369\" y2=\"722.9269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"104.9111\" x=\"352.0444\" y=\"206.832\">AWS Account</text></g><!--cluster ecr--><g class=\"cluster\" data-qualified-name=\"aws.ecr\" data-source-line=\"15\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"494,542.6869,504,532.6869,769,532.6869,769,666.5769,759,676.5769,494,676.5769,494,542.6869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"759\" x2=\"769\" y1=\"542.6869\" y2=\"532.6869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"494\" x2=\"759\" y1=\"542.6869\" y2=\"542.6869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"759\" x2=\"759\" y1=\"542.6869\" y2=\"676.5769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"98.0957\" x=\"578.4521\" y=\"558.682\">Amazon ECR</text></g><!--cluster lambda--><g class=\"cluster\" data-qualified-name=\"aws.lambda\" data-source-line=\"19\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"40,238.8369,50,228.8369,462,228.8369,462,688.9269,452,698.9269,40,698.9269,40,238.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"452\" x2=\"462\" y1=\"238.8369\" y2=\"228.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"40\" x2=\"452\" y1=\"238.8369\" y2=\"238.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"452\" x2=\"452\" y1=\"238.8369\" y2=\"698.9269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"103.6807\" x=\"195.1597\" y=\"254.832\">AWS Lambda</text></g><!--cluster fn--><g class=\"cluster\" data-qualified-name=\"aws.lambda.fn\" data-source-line=\"20\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"72,294.8369,82,284.8369,430,284.8369,430,656.9269,420,666.9269,72,666.9269,72,294.8369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"420\" x2=\"430\" y1=\"294.8369\" y2=\"284.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"72\" x2=\"420\" y1=\"294.8369\" y2=\"294.8369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"420\" x2=\"420\" y1=\"294.8369\" y2=\"666.9269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"136.1924\" x=\"178.9038\" y=\"310.832\">Lambda Function</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"282.1465\" x=\"105.9268\" y=\"327.1289\">Runtime: Node.js (container image)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"182.0547\" x=\"155.9727\" y=\"343.4257\">Handler: index.handler</text></g><!--entity image--><g class=\"entity\" data-qualified-name=\"aws.ecr.image\" data-source-line=\"16\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"207.5293\" x=\"518.24\" y=\"580.6869\"/><polygon fill=\"#FFFFFF\" points=\"708.7693,585.6869,708.7693,599.6869,720.7693,599.6869,720.7693,591.6869,714.7693,585.6869,708.7693,585.6869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"714.7693\" x2=\"714.7693\" y1=\"585.6869\" y2=\"591.6869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"720.7693\" x2=\"714.7693\" y1=\"591.6869\" y2=\"591.6869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.3691\" x=\"528.24\" y=\"606.682\">Lambda</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"584.6091\" y=\"606.682\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"589.0593\" y=\"606.682\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"657.4734\" y=\"606.682\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"661.9236\" y=\"606.682\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.6338\" x=\"541.1018\" y=\"622.9789\">(Node.js</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"598.7356\" y=\"622.9789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"603.1858\" y=\"622.9789\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"614.9163\" y=\"622.9789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.541\" x=\"619.3665\" y=\"622.9789\">Playwright</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.4697\" x=\"577.7698\" y=\"639.2757\">Chromium)</text></g><!--entity app--><g class=\"entity\" data-qualified-name=\"aws.lambda.fn.app\" data-source-line=\"21\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"193.7832\" x=\"150.11\" y=\"364.8369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.541\" x=\"182.6481\" y=\"387.832\">Playwright</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"256.1891\" y=\"387.832\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.7158\" x=\"260.6393\" y=\"387.832\">Runner</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"173.7832\" x=\"160.11\" y=\"404.1289\">(playwright-aws-lambda,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"115.1309\" x=\"189.4362\" y=\"420.4257\">playwright-core)</text></g><!--entity chromium--><g class=\"entity\" data-qualified-name=\"aws.lambda.fn.chromium\" data-source-line=\"22\" id=\"ent0010\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"255.9287\" x=\"119.04\" y=\"590.3369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.6973\" x=\"176.4267\" y=\"613.332\">Headless</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"240.124\" y=\"613.332\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.0078\" x=\"244.5742\" y=\"613.332\">Chromium</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"235.9287\" x=\"129.04\" y=\"629.6289\">(@playwright/browser-chromium)</text></g><!--entity caller--><g class=\"entity\" data-qualified-name=\"caller\" data-source-line=\"9\" id=\"ent0002\"><ellipse cx=\"422.0015\" cy=\"51.2969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M422.0015,59.2969 L422.0015,86.2969 M409.0015,67.2969 L435.0015,67.2969 M422.0015,86.2969 L409.0015,101.2969 M422.0015,86.2969 L435.0015,101.2969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.5029\" x=\"401.75\" y=\"116.542\">Caller</text></g><!--entity internet--><g class=\"entity\" data-qualified-name=\"internet\" data-source-line=\"11\" id=\"ent0003\"><path d=\"M826.8518,602.3575 C829.9475,597.3234 833.8761,597.0583 837.6835,601.5481 C840.7915,595.3762 845.1358,595.4769 849.3775,600.3476 C852.2935,595.025 856.5613,594.5476 860.1413,599.6629 C863.8898,594.7385 867.7467,593.6378 871.734,599.4039 C876.7772,594.1405 881.0082,594.2892 883.8507,601.5355 C887.9083,596.368 892.5661,596.6425 896.2525,601.974 C903.5904,604.8134 905.3277,612.1695 899.0129,617.4449 C904.8175,623.8465 904.663,628.9302 896.667,633.2884 C894.7128,639.449 889.179,639.8571 885.4302,635.1427 C882.4904,643.416 878.0231,644.458 871.8992,638.0843 C870.9668,643.8005 866.2734,645.9834 861.3854,642.711 C856.7873,646.9092 851.5043,646.3693 849.5421,639.8092 C843.0223,644.6447 839.7972,642.0106 837.5899,635.3324 C833.3816,639.788 828.3143,639.3196 825.6427,633.5389 C815.9847,632.5662 812.7638,625.3427 819.3599,617.8577 C813.2429,608.8754 816.3357,603.3004 826.8518,602.3575\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"55.8359\" x=\"832.08\" y=\"621.472\">Internet</text></g><g class=\"entity\" data-qualified-name=\"GMN15\" data-source-line=\"33\" id=\"ent0016\"><path d=\"M817.33,348.8869 L817.33,449.6838 L1032.6635,449.6838 L1032.6635,358.8869 L1022.6635,348.8869 L817.33,348.8869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M1022.6635,348.8869 L1022.6635,358.8869 L1032.6635,358.8869 L1022.6635,348.8869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"63.5273\" x=\"838.247\" y=\"365.9538\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"901.7743\" y=\"365.9538\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"40.4917\" x=\"905.9067\" y=\"365.9538\">image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"946.3984\" y=\"365.9538\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"28.812\" x=\"950.5307\" y=\"365.9538\">built</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"979.3427\" y=\"365.9538\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"19.2715\" x=\"983.475\" y=\"365.9538\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"69.9131\" x=\"885.5402\" y=\"381.0866\">Dockerfile.</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"54.5073\" x=\"823.33\" y=\"396.2194\">Makefile</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"877.8373\" y=\"396.2194\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"46.5283\" x=\"881.9696\" y=\"396.2194\">targets</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"928.498\" y=\"396.2194\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"67.8501\" x=\"932.6303\" y=\"396.2194\">build/push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"1000.4804\" y=\"396.2194\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"13.0508\" x=\"1004.6127\" y=\"396.2194\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"30.4561\" x=\"905.2687\" y=\"411.3522\">ECR.</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"65.1333\" x=\"847.0544\" y=\"426.485\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"912.1877\" y=\"426.485\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"60.436\" x=\"916.32\" y=\"426.485\">expected</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"976.756\" y=\"426.485\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"13.0508\" x=\"980.8883\" y=\"426.485\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"59.4331\" x=\"837.736\" y=\"441.6178\">provision</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"897.1691\" y=\"441.6178\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"26.3237\" x=\"901.3014\" y=\"441.6178\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"927.6252\" y=\"441.6178\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"10.8926\" x=\"931.7575\" y=\"441.6178\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"942.6501\" y=\"441.6178\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"56.4751\" x=\"946.7824\" y=\"441.6178\">Lambda.</text></g><!--link caller to fn--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"27\" id=\"lnk11\"><path d=\"M422,120.0969 C422,140.8044 422,168.1675 422,197.6564 C422,212.4009 422,227.6768 422,242.9179 C422,250.5384 422,258.1503 422,265.6827 C422,269.4489 422,273.1952 422,276.9128 C422,278.7716 422,280.6232 422,282.4666 C422,282.9274 422,277.3877 422,277.8475\" fill=\"none\" id=\"caller-to-fn\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"422,283.8475,426,274.8475,422,278.8475,418,274.8475,422,283.8475\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.9199\" x=\"423\" y=\"161.9755\">Invoke</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"462.9199\" y=\"161.9755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"63.2285\" x=\"466.7344\" y=\"161.9755\">(event.url)</text></g><!--link fn to internet--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"28\" id=\"lnk12\"><path d=\"M430.1587,400.7776 C430.5983,400.8056 431.0545,400.8348 431.5271,400.8652 C433.4173,400.9868 435.5692,401.1284 437.9649,401.2906 C447.5477,401.9393 461.0309,402.9179 477.2731,404.2739 C509.7575,406.9859 553.2775,411.2075 598.7,417.3181 C689.545,429.5394 788,449.3169 821,479.6869 C852.98,509.1169 859.2002,556.8396 860.1102,587.1896\" fill=\"none\" id=\"fn-to-internet\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"860.29,593.1869,864.0185,584.071,860.1401,588.1891,856.0221,584.3108,860.29,593.1869\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"59.543\" x=\"853.0625\" y=\"491.8255\">Outbound</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"912.6055\" y=\"491.8255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.5371\" x=\"916.4199\" y=\"491.8255\">HTTPS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"124.0195\" x=\"842\" y=\"505.7943\">page.goto(event.url)</text></g><!--link fn to ecr--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"29\" id=\"lnk13\"><path d=\"M430.381,404.4587 C430.5274,404.5308 430.6755,404.6038 430.8255,404.6777 C431.1254,404.8254 431.4324,404.9764 431.7466,405.1308 C432.3748,405.4397 433.0314,405.7619 433.7158,406.097 C435.0845,406.7672 436.5641,407.4892 438.1499,408.2596 C441.3213,409.8005 444.9172,411.5352 448.8988,413.4373 C464.825,421.0459 486.9225,431.3338 512.715,442.6131 C564.3,465.1719 630.665,491.6969 692,508.6869 C713.69,514.6969 725.84,501.0169 742,516.6869 C745.9563,520.5219 749.2266,524.9111 751.9198,529.6601 C752.2565,530.2537 752.5841,530.8529 752.903,531.4574 C753.0624,531.7597 750.4994,526.7153 750.6544,527.0201\" fill=\"none\" id=\"fn-to-ecr\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"753.3747,532.368,752.8596,522.5327,751.1078,527.9114,745.729,526.1596,753.3747,532.368\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"21.5098\" x=\"693\" y=\"498.8255\">Pull</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"714.5098\" y=\"498.8255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.8594\" x=\"718.3242\" y=\"498.8255\">container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"775.1836\" y=\"498.8255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"778.998\" y=\"498.8255\">image</text></g><!--link app to chromium--><g class=\"link\" data-entity-1=\"ent0009\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"30\" id=\"lnk14\"><path d=\"M247,433.9369 C247,477.1069 247,545.0669 247,583.9769\" fill=\"none\" id=\"app-to-chromium\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"247,589.9769,251,580.9769,247,584.9769,243,580.9769,247,589.9769\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"43.4531\" x=\"248\" y=\"491.8255\">Launch</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"291.4531\" y=\"491.8255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.2754\" x=\"295.2676\" y=\"491.8255\">browser</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.1445\" x=\"249.2744\" y=\"505.7943\">run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"269.4189\" y=\"505.7943\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"69.0352\" x=\"273.2334\" y=\"505.7943\">automation</text></g><!--link fn to GMN15--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0016\" data-link-type=\"association\" data-source-line=\"33\" id=\"lnk17\"><path d=\"M430.1962,399.2869 C430.71,399.2869 431.2237,399.2869 431.7375,399.2869 C432.765,399.2869 433.7925,399.2869 434.82,399.2869 C438.93,399.2869 443.0399,399.2869 447.1499,399.2869 C455.3698,399.2869 463.5897,399.2869 471.8096,399.2869 C488.2493,399.2869 504.6889,399.2869 521.1284,399.2869 C554.0075,399.2869 586.8863,399.2869 619.765,399.2869 C685.5225,399.2869 751.28,399.2869 817.04,399.2869\" fill=\"none\" id=\"fn-GMN15\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/></g><?plantuml-src PLFBRjj03BplLp0-sMWb1Jtw43HmMYH0sXfnW5vyeLUKjFK-X7tOIOlyUwcLxJY9BjAAr71cEBgegL6MuFhtQfcCXYx6FiohokE-R5NiqYO5yjBPI3QMqfaAzq7Z9WptGd4X58tpHQ_HHWQeTbykoykgLY6A2sMbJlK9lEBxmXdZRDdpKOYeeYPOaT-HrnG2B3K-xxrgkmWFoLhoCBr7iwaH5im0cQYVGG4tr6ltR9YH466hR8yU3OGEQxTNjeK6TQ2p2jFkdUNsLNpcWPvaHDjg4W9bT1uc2zIQ_0GmWCoFGaZjKWsJEnRkBSLSKuU34DQnh0dhWMifNR9ZdIs1Vq807Ce6_peBtnOFkKhISnNuGXzLmwDXybuTt1biQMsdFncX_1FWqxadYyuxevAPZMo6LiPxEPl8X4R8tA57z77es74O-3rP6PMpQyi-HsLe3iU9KtaYaoVCrlOMRSscpDc0cfxARZpc4OqzmCEhop3vi4TMr9_U5KDqHcwVuUorT9v6QTZt7q5l2UkSagCD3FhrzVDguzsUirh8DouTJndl9Tl5XerRXgAu6XJCuSxkt9PWIhiXvidhcU3tG_cuSsxwbUA6Trt3xUFZShNcSBLKjYwwTv-LvLLUzXoMIMjuvwTWSHdvo8pxxf7tqS51mThwP05JT0Q79GrnYnpRxAThcB5OlCM4JL8wmauXt3Yv9TyeJQNuWLiQdY2YRoc6t5PNVGeTH3S4inIFv3to7so0ddh-CQWUIhrtEnNKc5uEuHYRKX2h7yZy1m00?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Core runtime (serverless execution)\n- **AWS Lambda (Node.js runtime via container image)** hosts a single function (handler `index.handler`).\n- The function contains a **Playwright runner** (Node.js code using `playwright-aws-lambda`, `playwright-core`, `@playwright/test`) and a bundled **headless Chromium** (`@playwright/browser-chromium` / `playwright-chromium`).\n- At invocation time, the caller supplies **`event.url`**, and the function uses Playwright to open a browser and navigate to that URL (`page.goto(event.url)`).\n\n### Container build & artifact storage\n- A **Dockerfile** builds the Lambda container image, installing required system libraries and running `npx playwright install chromium` to embed Chromium.\n- The image is pushed to an **Amazon ECR repository** (implied by Makefile ECR targets). Lambda pulls this image when deploying/running.\n\n### Infrastructure provisioning\n- **Terraform-managed infrastructure is expected** (Makefile has `terraform init/plan/apply` targets and version pin), typically provisioning:\n  - ECR repository\n  - Lambda function configured to use the ECR image\n  - IAM permissions for Lambda to pull from ECR and write logs\n\n### External dependency\n- The Lambda function requires **outbound internet (HTTPS) access** to reach the target URL provided in the event payload.\n\n### Key relationships\n- **Caller → Lambda**: invokes the function with `event.url`.\n- **Lambda → Internet**: outbound HTTPS to the target site.\n- **Lambda → ECR**: pulls the container image.\n- **Playwright runner → Chromium**: launches and controls the headless browser inside the container."
}