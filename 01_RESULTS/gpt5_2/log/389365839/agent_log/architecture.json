{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\ntitle High-level Deployment Architecture (Go REST API on AWS)\n\nskinparam shadowing false\nskinparam componentStyle rectangle\n\nactor \"Client\" as client\n\ncloud \"AWS\" as aws {\n  node \"VPC\" as vpc {\n    node \"Public Subnets\" as pub {\n      node \"Application Load Balancer\\n(ALB)\" as alb\n    }\n\n    node \"Private Subnets\" as priv {\n      node \"Amazon ECS Cluster\" as ecs {\n        node \"ECS Service\" as ecs_svc {\n          artifact \"API Container\\nGo (net/http, gorilla/mux)\" as api\n        }\n      }\n\n      database \"Amazon RDS\\nPostgreSQL\" as rds\n\n      node \"AWS Secrets Manager\\nDB credentials\" as secrets\n    }\n  }\n\n  node \"Amazon ECR\\nContainer Registry\" as ecr\n}\n\nclient --> alb : HTTPS\nalb --> api : HTTP/HTTPS\\nforward\napi --> rds : SQL over TCP\\n(lib/pq)\napi ..> secrets : fetch secret\\n(DB user/pass)\n\nnote right of api\nConfig:\n- PG_DSN env var\n- Containerized (Dockerfile)\nend note\n\nnote bottom of ecr\nCI/CD (GitHub Actions):\n- Build & push image to ECR\n- Deploy to ECS\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"921px\" preserveAspectRatio=\"none\" style=\"width:1134px;height:921px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1134 921\" width=\"1134px\" zoomAndPan=\"magnify\"><title>High-level Deployment Architecture (Go REST API on AWS)</title><defs/><g><g class=\"title\" data-source-line=\"4\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"464.0508\" x=\"328.3141\" y=\"22.9951\">High-level Deployment Architecture (Go REST API on AWS)</text></g><!--cluster aws--><g class=\"cluster\" data-qualified-name=\"aws\" data-source-line=\"11\" id=\"ent0003\"><path d=\"M44.2748,193.4259 C56.4228,175.0688 76.9278,170.4463 89.6528,192.7825 C100.1514,170.33 114.8766,168.8419 129.7633,188.614 C143.7981,167.9859 164.3974,166.0716 178.5769,188.4497 C190.6319,168.4737 207.8708,165.4638 220.9667,187.3968 C235.7981,164.8439 249.9716,168.1223 264.2565,187.955 C278.3122,167.7792 294.4249,166.9902 308.2573,188.1924 C317.0538,162.8572 340.8005,160.8142 355.8365,181.7807 C370.5351,160.7565 382.9434,165.8446 395.5707,183.8873 C412.2409,164.8684 430.4074,166.955 441.1864,190.2398 C452.4095,171.7156 471.3862,170.3136 483.8927,188.7571 C497.1222,171.3684 516.2066,169.1425 527.0581,191.3494 C538.9837,167.8828 560.5455,167.5125 572.8858,190.9442 C586.5806,173.091 599.3436,171.0315 614.4222,189.3555 C632.5156,165.117 652.5504,173.6141 664.6363,195.8469 C666.9792,195.2853 668.1848,196.5541 667.741,198.862 C693.263,210.3256 692.6344,231.7122 671.5578,246.8798 C697.8299,263.2365 694.4069,280.6673 670.3977,295.8324 C693.1804,305.2338 700.3737,328.5563 676.2274,343.6759 C701.8547,354.3125 699.8089,374.7133 679.5531,388.7364 C701.9665,406.338 706.6545,422.1718 681.6599,441.6606 C702.2436,453.7762 703.565,474.9442 679.5461,484.8782 C703.3728,502.4575 707.2337,521.7799 681.6699,541.2209 C706.2547,557.7212 703.5998,574.9949 679.6518,589.465 C697.3196,603.2601 694.3126,621.8786 674.3208,630.8191 C699.8092,641.2183 699.0916,663.3936 678.9031,678.2094 C703.8124,693.2983 700.6552,711.7939 677.6478,725.6139 C701.5625,745.3285 698.9697,763.8042 671.7838,777.774 C691.5983,792.7429 692.7406,814.5234 667.0462,824.919 C687.1695,843.8229 684.486,866.2712 657.6363,876.6269 C660.8857,875.3444 662.7157,877.6076 662.0239,880.6372 C646.9453,901.2696 630.5561,900.9065 614.6012,881.6798 C602.0605,897.6237 590.0817,898.192 577.0709,882.233 C563.0711,903.8618 547.7629,903.097 531.2508,885.1411 C518.5872,905.9489 501.5413,906.6815 485.2953,889.4717 C470.9403,906.6066 454.1348,907.2254 441.9224,886.9853 C430.377,908.5575 415.8959,914.0112 397.7277,894.0289 C382.1021,912.508 367.4238,914.7365 353.5247,892.1697 C341.5524,909.8316 322.7365,910.636 310.9392,891.9647 C296.0574,910.4445 277.1799,912.085 263.6461,890.3783 C247.3522,909.2363 230.6019,906.8925 220.316,884.1244 C207.377,903.6613 193.5011,902.7253 178.7842,886.1703 C165.3234,907.3473 145.4444,901.6676 136.8375,881.2726 C122.4616,901.4776 106.1852,901.5999 94.0972,878.9887 C73.3259,903.0856 47.3588,896.6517 34.6363,869.6269 C37.2748,870.1639 38.1468,871.7153 36.8358,874.1661 C15.7637,861.1187 15.2043,838.3031 39.2659,827.6116 C19.7913,812.6161 14.9951,794.6449 39.0215,779.4287 C14.1978,765.6908 18.1087,750.3107 35.7421,733.5388 C8.2559,716.4838 13.3522,693.0939 40.1936,680.608 C19.9813,669.0508 15.0933,649.1635 38.6476,636.0865 C12.9191,622.3698 20.6658,599.7191 40.7303,587.9852 C18.2936,573.6892 14.7607,559.8766 36.2569,541.3651 C11.1869,526.0138 11.2719,508.7836 33.7793,491.0877 C12.748,473.2631 9.0814,454.794 35.0431,438.0899 C14.4916,422.6896 14.9986,407.8039 38.704,396.2787 C17.1014,381.3781 14.7008,360.5774 38.5264,345.5179 C14.1046,331.6802 15.3204,313.1699 37.8964,298.6998 C16.796,282.9008 13.2825,265.7028 38.2358,250.2262 C6,230.8779 12.4449,204.792 41.6363,188.8469 C44.7967,188.9853 45.3881,190.8249 44.2748,193.4259\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"36.3604\" x=\"331.4561\" y=\"206.842\">AWS</text></g><!--cluster vpc--><g class=\"cluster\" data-qualified-name=\"aws.vpc\" data-source-line=\"12\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"50.6363,233.8469,60.6363,223.8469,470.6363,223.8469,470.6363,850.6269,460.6363,860.6269,50.6363,860.6269,50.6363,233.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"460.6363\" x2=\"470.6363\" y1=\"233.8469\" y2=\"223.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"50.6363\" x2=\"460.6363\" y1=\"233.8469\" y2=\"233.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"460.6363\" x2=\"460.6363\" y1=\"233.8469\" y2=\"860.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"31.3701\" x=\"240.9512\" y=\"249.842\">VPC</text></g><!--cluster pub--><g class=\"cluster\" data-qualified-name=\"aws.vpc.pub\" data-source-line=\"13\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"150.6363,281.8469,160.6363,271.8469,404.6363,271.8469,404.6363,380.4369,394.6363,390.4369,150.6363,390.4369,150.6363,281.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"394.6363\" x2=\"404.6363\" y1=\"281.8469\" y2=\"271.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"150.6363\" x2=\"394.6363\" y1=\"281.8469\" y2=\"281.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"394.6363\" x2=\"394.6363\" y1=\"281.8469\" y2=\"390.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"117.5781\" x=\"214.8472\" y=\"297.842\">Public Subnets</text></g><!--cluster priv--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv\" data-source-line=\"17\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"74.6363,461.4369,84.6363,451.4369,446.6363,451.4369,446.6363,826.6269,436.6363,836.6269,74.6363,836.6269,74.6363,461.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"436.6363\" x2=\"446.6363\" y1=\"461.4369\" y2=\"451.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"74.6363\" x2=\"436.6363\" y1=\"461.4369\" y2=\"461.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"436.6363\" x2=\"436.6363\" y1=\"461.4369\" y2=\"836.6269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"126.1572\" x=\"193.5577\" y=\"477.432\">Private Subnets</text></g><!--cluster ecs--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv.ecs\" data-source-line=\"18\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"132.6363,509.4369,142.6363,499.4369,422.6363,499.4369,422.6363,673.0369,412.6363,683.0369,132.6363,683.0369,132.6363,509.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"412.6363\" x2=\"422.6363\" y1=\"509.4369\" y2=\"499.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"132.6363\" x2=\"412.6363\" y1=\"509.4369\" y2=\"509.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"412.6363\" x2=\"412.6363\" y1=\"509.4369\" y2=\"683.0369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"158.7373\" x=\"194.2677\" y=\"525.432\">Amazon ECS Cluster</text></g><!--cluster ecs_svc--><g class=\"cluster\" data-qualified-name=\"aws.vpc.priv.ecs.ecs_svc\" data-source-line=\"19\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"156.6363,557.4369,166.6363,547.4369,398.6363,547.4369,398.6363,649.0369,388.6363,659.0369,156.6363,659.0369,156.6363,557.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"388.6363\" x2=\"398.6363\" y1=\"557.4369\" y2=\"547.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"156.6363\" x2=\"388.6363\" y1=\"557.4369\" y2=\"557.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"388.6363\" x2=\"388.6363\" y1=\"557.4369\" y2=\"659.0369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"92.9961\" x=\"227.1383\" y=\"573.432\">ECS Service</text></g><!--entity ecr--><g class=\"entity\" data-qualified-name=\"aws.ecr\" data-source-line=\"30\" id=\"ent0013\"><polygon fill=\"#FFFFFF\" points=\"486.2363,321.8469,496.2363,311.8469,657.042,311.8469,657.042,364.4406,647.042,374.4406,486.2363,374.4406,486.2363,321.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"647.042\" x2=\"657.042\" y1=\"321.8469\" y2=\"311.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"486.2363\" x2=\"647.042\" y1=\"321.8469\" y2=\"321.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"647.042\" x2=\"647.042\" y1=\"321.8469\" y2=\"374.4406\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"521.9492\" y=\"344.842\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"578.5302\" y=\"344.842\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"28.3486\" x=\"582.9804\" y=\"344.842\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"501.2363\" y=\"361.1389\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"569.6504\" y=\"361.1389\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.9414\" x=\"574.1006\" y=\"361.1389\">Registry</text></g><!--entity alb--><g class=\"entity\" data-qualified-name=\"aws.vpc.pub.alb\" data-source-line=\"14\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"166.3663,321.8469,176.3663,311.8469,388.9132,311.8469,388.9132,364.4406,378.9132,374.4406,166.3663,374.4406,166.3663,321.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"378.9132\" x2=\"388.9132\" y1=\"321.8469\" y2=\"311.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"166.3663\" x2=\"378.9132\" y1=\"321.8469\" y2=\"321.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"378.9132\" x2=\"378.9132\" y1=\"321.8469\" y2=\"374.4406\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.2236\" x=\"181.3663\" y=\"344.842\">Application</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"259.5899\" y=\"344.842\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.8311\" x=\"264.0401\" y=\"344.842\">Load</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"297.8712\" y=\"344.842\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.5918\" x=\"302.3214\" y=\"344.842\">Balancer</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.9053\" x=\"253.6871\" y=\"361.1389\">(ALB)</text></g><!--entity rds--><g class=\"entity\" data-qualified-name=\"aws.vpc.priv.rds\" data-source-line=\"24\" id=\"ent0011\"><path d=\"M90.4263,768.5369 C90.4263,758.5369 145.6392,758.5369 145.6392,758.5369 C145.6392,758.5369 200.8521,758.5369 200.8521,768.5369 L200.8521,810.1306 C200.8521,820.1306 145.6392,820.1306 145.6392,820.1306 C145.6392,820.1306 90.4263,820.1306 90.4263,810.1306 L90.4263,768.5369\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M90.4263,768.5369 C90.4263,778.5369 145.6392,778.5369 145.6392,778.5369 C145.6392,778.5369 200.8521,778.5369 200.8521,768.5369\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"100.4263\" y=\"795.532\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"157.0074\" y=\"795.532\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"29.3945\" x=\"161.4576\" y=\"795.532\">RDS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.7529\" x=\"105.2627\" y=\"811.8289\">PostgreSQL</text></g><!--entity secrets--><g class=\"entity\" data-qualified-name=\"aws.vpc.priv.secrets\" data-source-line=\"26\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"236.1763,768.0369,246.1763,758.0369,431.0992,758.0369,431.0992,810.6306,421.0992,820.6306,236.1763,820.6306,236.1763,768.0369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"421.0992\" x2=\"431.0992\" y1=\"768.0369\" y2=\"758.0369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"236.1763\" x2=\"421.0992\" y1=\"768.0369\" y2=\"768.0369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"421.0992\" x2=\"421.0992\" y1=\"768.0369\" y2=\"820.6306\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"251.1763\" y=\"791.032\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"283.4829\" y=\"791.032\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.3496\" x=\"287.9331\" y=\"791.032\">Secrets</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"340.2827\" y=\"791.032\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"61.3662\" x=\"344.7329\" y=\"791.032\">Manager</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"20.3848\" x=\"277.4297\" y=\"807.3289\">DB</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"297.8145\" y=\"807.3289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"77.5811\" x=\"302.2647\" y=\"807.3289\">credentials</text></g><!--entity api--><g class=\"entity\" data-qualified-name=\"aws.vpc.priv.ecs.ecs_svc.api\" data-source-line=\"20\" id=\"ent0010\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"209.0879\" x=\"173.0963\" y=\"587.4369\"/><polygon fill=\"#FFFFFF\" points=\"365.1842,592.4369,365.1842,606.4369,377.1842,606.4369,377.1842,598.4369,371.1842,592.4369,365.1842,592.4369\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"371.1842\" x2=\"371.1842\" y1=\"592.4369\" y2=\"598.4369\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"377.1842\" x2=\"371.1842\" y1=\"598.4369\" y2=\"598.4369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"225.1339\" y=\"613.432\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"247.2823\" y=\"613.432\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"251.7325\" y=\"613.432\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"19.4141\" x=\"183.0963\" y=\"629.7289\">Go</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"202.5104\" y=\"629.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"66.3428\" x=\"206.9606\" y=\"629.7289\">(net/http,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"273.3033\" y=\"629.7289\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"84.4307\" x=\"277.7535\" y=\"629.7289\">gorilla/mux)</text></g><!--entity client--><g class=\"entity\" data-qualified-name=\"client\" data-source-line=\"9\" id=\"ent0002\"><ellipse cx=\"277.6314\" cy=\"51.2969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M277.6314,59.2969 L277.6314,86.2969 M264.6314,67.2969 L290.6314,67.2969 M277.6314,86.2969 L264.6314,101.2969 M277.6314,86.2969 L290.6314,101.2969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.5303\" x=\"257.3663\" y=\"116.542\">Client</text></g><g class=\"entity\" data-qualified-name=\"GMN18\" data-source-line=\"39\" id=\"ent0019\"><path d=\"M927.5863,587.5369 L927.5863,642.9353 L1127.6791,642.9353 L1127.6791,597.5369 L1117.6791,587.5369 L927.5863,587.5369\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M1117.6791,587.5369 L1117.6791,597.5369 L1127.6791,597.5369 L1117.6791,587.5369\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"46.0903\" x=\"1000.0875\" y=\"604.6038\">Config:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.6909\" x=\"965.9213\" y=\"619.7366\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"970.6122\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"52.3999\" x=\"974.7445\" y=\"619.7366\">PG_DSN</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"1027.1444\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"23.9307\" x=\"1031.2767\" y=\"619.7366\">env</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"1055.2074\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"21.0044\" x=\"1059.3397\" y=\"619.7366\">var</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.6909\" x=\"933.5863\" y=\"634.8694\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"938.2772\" y=\"634.8694\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"90.2129\" x=\"942.4095\" y=\"634.8694\">Containerized</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"1032.6224\" y=\"634.8694\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"75.9243\" x=\"1036.7548\" y=\"634.8694\">(Dockerfile)</text></g><g class=\"entity\" data-qualified-name=\"GMN21\" data-source-line=\"45\" id=\"ent0022\"><path d=\"M688.3263,587.5369 L688.3263,642.9353 A0,0 0 0 0 688.3263,642.9353 L892.9513,642.9353 A0,0 0 0 0 892.9513,642.9353 L892.9513,597.5369 L882.9513,587.5369 L772.7063,587.5369 L596.5463,374.8669 L764.7063,587.5369 L688.3263,587.5369 A0,0 0 0 0 688.3263,587.5369\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M882.9513,587.5369 L882.9513,597.5369 L892.9513,597.5369 L882.9513,587.5369\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"36.3784\" x=\"710.1732\" y=\"604.6038\">CI/CD</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"746.5516\" y=\"604.6038\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"50.1211\" x=\"750.684\" y=\"604.6038\">(GitHub</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"800.8051\" y=\"604.6038\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"57.167\" x=\"804.9374\" y=\"604.6038\">Actions):</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.6909\" x=\"694.3263\" y=\"619.7366\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"699.0172\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"32.6333\" x=\"703.1495\" y=\"619.7366\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"735.7828\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"10.1372\" x=\"739.9152\" y=\"619.7366\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"750.0524\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"31.5034\" x=\"754.1847\" y=\"619.7366\">push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"785.6881\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"40.4917\" x=\"789.8204\" y=\"619.7366\">image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"830.3121\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"13.0508\" x=\"834.4445\" y=\"619.7366\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"847.4952\" y=\"619.7366\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"26.3237\" x=\"851.6276\" y=\"619.7366\">ECR</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.6909\" x=\"735.5385\" y=\"634.8694\">-</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"740.2294\" y=\"634.8694\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"45.519\" x=\"744.3617\" y=\"634.8694\">Deploy</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"789.8807\" y=\"634.8694\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"13.0508\" x=\"794.0131\" y=\"634.8694\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"807.0639\" y=\"634.8694\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"25.543\" x=\"811.1962\" y=\"634.8694\">ECS</text></g><!--link client to alb--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"33\" id=\"lnk14\"><path d=\"M277.6363,120.3369 C277.6363,172.3569 277.6363,258.1869 277.6363,305.7169\" fill=\"none\" id=\"client-to-alb\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"277.6363,311.7169,281.6363,302.7169,277.6363,306.7169,273.6363,302.7169,277.6363,311.7169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"38.5371\" x=\"278.6363\" y=\"161.9855\">HTTPS</text></g><!--link alb to api--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"34\" id=\"lnk15\"><path d=\"M277.6363,374.8669 C277.6363,428.0969 277.6363,530.6169 277.6363,581.1869\" fill=\"none\" id=\"alb-to-api\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"277.6363,587.1869,281.6363,578.1869,277.6363,582.1869,273.6363,578.1869,277.6363,587.1869\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"73.5\" x=\"278.6363\" y=\"418.5755\">HTTP/HTTPS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.2188\" x=\"292.2769\" y=\"432.5443\">forward</text></g><!--link api to rds--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"35\" id=\"lnk16\"><path d=\"M256.7163,643.5069 C232.7263,674.7769 197.1676,721.1458 172.3276,753.5358\" fill=\"none\" id=\"api-to-rds\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"168.6763,758.2969,177.3273,753.5894,171.7191,754.3293,170.9792,748.721,168.6763,758.2969\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"23.748\" x=\"212.6363\" y=\"711.1755\">SQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"236.3843\" y=\"711.1755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.7598\" x=\"240.1988\" y=\"711.1755\">over</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"266.9586\" y=\"711.1755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"22.9453\" x=\"270.773\" y=\"711.1755\">TCP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.9258\" x=\"231.7144\" y=\"725.1443\">(lib/pq)</text></g><!--link api to secrets--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"36\" id=\"lnk17\"><path d=\"M286.5063,643.5069 C296.6263,674.5869 311.2596,719.5814 321.8096,752.0014\" fill=\"none\" id=\"api-to-secrets\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"323.6663,757.7069,324.685,747.9108,322.1191,752.9523,317.0776,750.3864,323.6663,757.7069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.5156\" x=\"323.0152\" y=\"711.1755\">fetch</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"353.5308\" y=\"711.1755\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.2539\" x=\"357.3453\" y=\"711.1755\">secret</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"22.1543\" x=\"314.6363\" y=\"725.1443\">(DB</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"336.7906\" y=\"725.1443\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"62.373\" x=\"340.6051\" y=\"725.1443\">user/pass)</text></g><!--link api to GMN18--><g class=\"link\" data-entity-1=\"ent0010\" data-entity-2=\"ent0019\" data-link-type=\"association\" data-source-line=\"39\" id=\"lnk20\"><path d=\"M320.5463,586.9969 C392.7763,541.3269 544.8563,453.1369 688.1363,420.9369 C732.5863,410.9469 852.2163,400.9269 893.1363,420.9369 C961.6863,454.4669 1001.6263,541.8369 1018.3463,587.1169\" fill=\"none\" id=\"api-GMN18\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/></g></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime / request path\n- **Client (public internet)** calls the service over **HTTPS**.\n- Traffic terminates at an **AWS Application Load Balancer (ALB)** in **public subnets**.\n- The ALB forwards requests to a **Go REST API container** running as an **Amazon ECS Service** in **private subnets**.\n  - API tech: **Go**, using **net/http** and **github.com/gorilla/mux**.\n  - Packaged via **Dockerfile**.\n\n### Data layer\n- The API connects to **PostgreSQL** hosted on **Amazon RDS for PostgreSQL** using the **lib/pq** driver.\n- The API is configured with a **PG_DSN** environment variable (as indicated by the codebase).\n\n### Secrets\n- **AWS Secrets Manager** stores database credentials.\n- The ECS task/service retrieves the secret at runtime (or injects it into environment variables during deployment), enabling the API to build/use the `PG_DSN` without hardcoding credentials.\n\n### Container image storage + CI/CD\n- **Amazon ECR** is used as the **container registry**.\n- **GitHub Actions** (per workflow references) builds the Go service image, pushes it to **ECR**, and deploys/updates the **ECS Service**.\n\n### Key relationships\n- Client → ALB: **HTTPS**\n- ALB → ECS API tasks: **HTTP/HTTPS forwarding**\n- API → RDS Postgres: **SQL over TCP**\n- API → Secrets Manager: **retrieve DB credentials/secret**\n- CI/CD → ECR/ECS: **push image** and **deploy service**"
}