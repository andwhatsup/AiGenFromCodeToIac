module.dag_trigger_lambda.data.external.archive_prepare[0]: Reading...
module.dag_trigger_lambda.data.external.archive_prepare[0]: Read complete after 0s [id=-]
module.dag_trigger_lambda.local_file.archive_plan[0]: Refreshing state... [id=c1058ebb2c3f8b0b2673f168e77c9f6e7352c12f]
module.dag_trigger_lambda.null_resource.archive[0]: Refreshing state... [id=8794148957593896559]
module.mwaa_bucket.data.aws_caller_identity.current: Reading...
module.input_bucket.data.aws_partition.current: Reading...
module.dag_trigger_lambda.data.aws_region.current: Reading...
module.mwaa.data.aws_partition.current: Reading...
module.dag_trigger_lambda.data.aws_partition.current: Reading...
module.dag_trigger_lambda.data.aws_caller_identity.current: Reading...
module.mwaa_bucket.data.aws_region.current: Reading...
data.aws_partition.current: Reading...
data.aws_caller_identity.current: Reading...
module.mwaa_bucket.data.aws_partition.current: Reading...
data.aws_partition.current: Read complete after 0s [id=aws]
module.dag_trigger_lambda.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.mwaa_bucket.data.aws_partition.current: Read complete after 0s [id=aws]
module.input_bucket.data.aws_partition.current: Read complete after 0s [id=aws]
module.mwaa.data.aws_partition.current: Read complete after 0s [id=aws]
module.mwaa_bucket.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.dag_trigger_lambda.data.aws_partition.current: Read complete after 0s [id=aws]
module.mwaa.data.aws_region.current: Reading...
module.mwaa.data.aws_caller_identity.current: Reading...
module.mwaa_bucket.data.aws_canonical_user_id.this[0]: Reading...
module.mwaa.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.input_bucket.data.aws_caller_identity.current: Reading...
module.s3_lambda_notif.data.aws_partition.this: Reading...
data.aws_availability_zones.available: Reading...
module.s3_lambda_notif.data.aws_partition.this: Read complete after 0s [id=aws]
module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.assume_role[0]: Reading...
module.dag_trigger_lambda.aws_cloudwatch_log_group.lambda[0]: Refreshing state... [id=/aws/lambda/dag-trigger-lambda]
module.dag_trigger_lambda.data.aws_iam_policy_document.assume_role[0]: Read complete after 0s [id=2690255455]
module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]: Read complete after 0s [id=1021377347]
module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]: Reading...
module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]: Read complete after 0s [id=2053943846]
module.vpc.aws_vpc.this[0]: Refreshing state... [id=vpc-5f3867bbd338bb4c2]
module.input_bucket.data.aws_canonical_user_id.this[0]: Reading...
module.mwaa_bucket.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]
data.aws_region.current: Reading...
data.aws_region.current: Read complete after 0s [id=us-east-1]
module.input_bucket.data.aws_region.current: Reading...
module.input_bucket.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.mwaa.data.aws_iam_policy_document.mwaa_assume: Reading...
module.mwaa.data.aws_iam_policy_document.mwaa_assume: Read complete after 0s [id=3602397390]
module.dag_trigger_lambda.aws_iam_role.lambda[0]: Refreshing state... [id=dag-trigger-lambda]
module.dag_trigger_lambda.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.input_bucket.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.vpc.aws_iam_role.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=vpc-flow-log-role-20260127115352481400000003]
module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/vpc-flow-log-to-cloudwatch-20260127115352481200000001]
module.mwaa.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.mwaa.aws_iam_role.mwaa[0]: Refreshing state... [id=mwaa-executor20260127115352481300000002]
data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.mwaa_bucket.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
module.input_bucket.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]
module.mwaa_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.dag_trigger_lambda.data.aws_iam_policy_document.logs[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.logs[0]: Read complete after 0s [id=903986985]
module.dag_trigger_lambda.aws_iam_policy.logs[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/dag-trigger-lambda-logs]
module.dag_trigger_lambda.aws_iam_role_policy_attachment.logs[0]: Refreshing state... [id=dag-trigger-lambda-20260127115353439200000008]
module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=vpc-flow-log-role-20260127115352481400000003-20260127115353395000000006]
module.vpc.aws_default_security_group.this[0]: Refreshing state... [id=sg-304934c19c14400a9]
module.vpc.aws_default_route_table.default[0]: Refreshing state... [id=rtb-88bee61ac46b0b2bc]
module.vpc.aws_route_table.public[0]: Refreshing state... [id=rtb-c88959ed330a3093a]
module.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-cb6e272c9b34b1e70]
module.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-30abcbdc7e3e28edf]
module.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-b08ef7fd24c536d04]
module.vpc.aws_default_network_acl.this[0]: Refreshing state... [id=acl-a4ce5d3f20f332958]
module.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-d78864dd2a8aedbf7]
module.vpc.aws_route_table.private[0]: Refreshing state... [id=rtb-bf32c361a588bf89d]
module.mwaa.aws_security_group.mwaa[0]: Refreshing state... [id=sg-641ac5516b90fd9b8]
module.vpc.aws_cloudwatch_log_group.flow_log[0]: Refreshing state... [id=/aws/vpc-flow-log/vpc-5f3867bbd338bb4c2]
module.vpc.aws_internet_gateway.this[0]: Refreshing state... [id=igw-12cd8471f35eaea51]
module.vpc.aws_network_acl.private[0]: Refreshing state... [id=acl-0d322eb302de4b7ed]
module.vpc.aws_route_table_association.private[0]: Refreshing state... [id=rtbassoc-ed3d07838ed361ad9]
module.vpc.aws_route_table_association.private[1]: Refreshing state... [id=rtbassoc-3e349e8582508b6bd]
module.vpc.aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-497035e3c66498227]
module.vpc.aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-5c0281187c61c4685]
module.vpc.aws_network_acl.public[0]: Refreshing state... [id=acl-d27d98339686dfaf2]
module.vpc.aws_route.public_internet_gateway[0]: Refreshing state... [id=r-rtb-c88959ed330a3093a1080289494]
module.vpc.aws_eip.nat[0]: Refreshing state... [id=eipalloc-ef25aede00114edba]
module.mwaa.aws_security_group_rule.mwaa_sg_outbound[0]: Refreshing state... [id=sgrule-744849602]
module.mwaa.aws_security_group_rule.mwaa_sg_inbound_vpn[0]: Refreshing state... [id=sgrule-2833445716]
module.mwaa.aws_security_group_rule.mwaa_sg_inbound[0]: Refreshing state... [id=sgrule-1123567455]
module.vpc.aws_network_acl_rule.private_outbound[0]: Refreshing state... [id=nacl-1329890116]
module.vpc.aws_network_acl_rule.private_inbound[0]: Refreshing state... [id=nacl-706740887]
module.vpc.aws_flow_log.this[0]: Refreshing state... [id=fl-ac21ffc154fbe4c83]
module.vpc.aws_network_acl_rule.public_inbound[0]: Refreshing state... [id=nacl-4233328967]
module.vpc.aws_network_acl_rule.public_outbound[0]: Refreshing state... [id=nacl-3936140260]
module.vpc.aws_nat_gateway.this[0]: Refreshing state... [id=nat-b883cfb7b08d3bc1a]
module.vpc.aws_route.private_nat_gateway[0]: Refreshing state... [id=r-rtb-bf32c361a588bf89d1080289494]
aws_iam_policy.mwaa_policy: Refreshing state... [id=arn:aws:iam::000000000000:policy/terraform-20260127115352755500000004]
module.input_bucket.data.aws_iam_policy_document.require_latest_tls[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.deny_incorrect_encryption_headers[0]: Reading...
module.input_bucket.aws_s3_bucket_server_side_encryption_configuration.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.data.aws_iam_policy_document.deny_insecure_transport[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.deny_incorrect_encryption_headers[0]: Read complete after 0s [id=2169995348]
module.input_bucket.data.aws_iam_policy_document.require_latest_tls[0]: Read complete after 0s [id=1675079259]
module.input_bucket.data.aws_iam_policy_document.deny_insecure_transport[0]: Read complete after 0s [id=1167749713]
module.mwaa_bucket.aws_s3_bucket_server_side_encryption_configuration.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.input_bucket.data.aws_iam_policy_document.combined[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.combined[0]: Read complete after 0s [id=1261914102]
module.mwaa_bucket.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa.aws_mwaa_environment.mwaa: Refreshing state... [id=mwaa-serverless-land]
module.mwaa.data.aws_iam_policy_document.mwaa: Reading...
module.mwaa.data.aws_iam_policy_document.mwaa: Read complete after 0s [id=3001004332]
module.mwaa.aws_iam_role_policy.mwaa[0]: Refreshing state... [id=mwaa-executor20260127115352481300000002:mwaa-executor20260127115353381800000005]
module.mwaa_bucket.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
aws_s3_object.dags["hello-world-dag.py"]: Refreshing state... [id=dags/hello-world-dag.py]
module.mwaa.aws_iam_role_policy_attachment.mwaa["dag-policy"]: Refreshing state... [id=mwaa-executor20260127115352481300000002-20260127115353419100000007]
module.input_bucket.aws_s3_bucket_policy.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_acl.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000,private]
module.input_bucket.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.dag_trigger_lambda.data.aws_iam_policy_document.additional_inline[0]: Reading...
module.input_bucket.aws_s3_bucket_acl.this[0]: Refreshing state... [id=input-us-east-1-000000000000,private]
module.dag_trigger_lambda.data.aws_iam_policy_document.additional_inline[0]: Read complete after 0s [id=2268744647]
module.dag_trigger_lambda.aws_iam_policy.additional_inline[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/dag-trigger-lambda-inline]
module.dag_trigger_lambda.aws_iam_role_policy_attachment.additional_inline[0]: Refreshing state... [id=dag-trigger-lambda-20260127115409480300000010]
module.dag_trigger_lambda.aws_lambda_function.this[0]: Refreshing state... [id=dag-trigger-lambda]
module.s3_lambda_notif.aws_lambda_permission.allow["dag_trigger_lambda"]: Refreshing state... [id=AllowLambdaS3BucketNotification-20260127115418143000000011]
module.s3_lambda_notif.aws_s3_bucket_notification.this[0]: Refreshing state... [id=input-us-east-1-000000000000]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  ~ update in-place

Terraform will perform the following actions:

  # module.dag_trigger_lambda.aws_lambda_function.this[0] will be updated in-place
  ~ resource "aws_lambda_function" "this" {
        id                             = "dag-trigger-lambda"
      ~ last_modified                  = "2026-01-27T11:54:09.816011+0000" -> (known after apply)
      + source_code_hash               = "Or6faEmNztj2hkzJXQajUnzPKi5bBL9dGp92IzA6ik8="
        tags                           = {
            "Category" = "Pattern"
            "Domain"   = "Serverless"
            "Project"  = "Trigger MWAA DAG using S3 Events"
            "URL"      = "https://serverlessland.com/"
        }
        # (27 unchanged attributes hidden)

        # (4 unchanged blocks hidden)
    }

Plan: 0 to add, 1 to change, 0 to destroy.
