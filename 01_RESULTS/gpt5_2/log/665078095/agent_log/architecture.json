{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle Database Schema & Migrations Architecture (Atlas + MySQL)\n\nnode \"Developer / CI Runner\" as runner {\n  artifact \"Schema Definition\\n(schema.hcl)\" as schema\n  artifact \"SQL Migrations\\n(migrations/*.sql)\" as migs\n  artifact \"Atlas Config\\n(atlas.hcl)\" as atlashcl\n  component \"Atlas CLI\\n(ariga.io/atlas)\" as atlas\n}\n\nnode \"Container Registry\" as registry {\n  artifact \"Migrations Image\\n(arigaio/atlas + repo files)\" as img\n}\n\nnode \"Dev Environment\" as dev {\n  node \"Docker Engine\" as docker {\n    node \"MySQL 8 (dev)\\n(docker://mysql/8/dev)\" as mysql_dev\n  }\n}\n\nnode \"Production (AWS)\" as prod {\n  database \"Amazon RDS for MySQL\\n(MySQL 8.x)\" as rds\n}\n\nrunner --> img : Build & push\\nDockerfile\nschema --> atlas\nmigs --> atlas\natlashcl --> atlas\n\natlas --> mysql_dev : atlas migrate/apply\\n(dev URL)\natlas --> rds : atlas migrate/apply\\n(prod URL)\nimg ..> atlas : Containerized execution\\n(immutable toolchain)\n\nnote right of atlas\nAtlas manages desired schema and\nversioned migrations (checksums in atlas.sum).\nend note\n\nnote bottom of rds\nProduction DB implied by plan.md\n(e.g., AWS RDS).\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"693px\" preserveAspectRatio=\"none\" style=\"width:1105px;height:693px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1105 693\" width=\"1105px\" zoomAndPan=\"magnify\"><title>Database Schema &amp; Migrations Architecture (Atlas + MySQL)</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"484.1689\" x=\"303.5674\" y=\"22.9951\">Database Schema &amp; Migrations Architecture (Atlas + MySQL)</text></g><!--cluster runner--><g class=\"cluster\" data-qualified-name=\"runner\" data-source-line=\"11\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,53.2969,26,43.2969,577,43.2969,577,329.9869,567,339.9869,16,339.9869,16,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"567\" x2=\"577\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"567\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"567\" x2=\"567\" y1=\"53.2969\" y2=\"339.9869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"172.874\" x=\"206.063\" y=\"69.292\">Developer / CI Runner</text></g><!--cluster registry--><g class=\"cluster\" data-qualified-name=\"registry\" data-source-line=\"18\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"609,231.8969,619,221.8969,855,221.8969,855,323.4869,845,333.4869,609,333.4869,609,231.8969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"845\" x2=\"855\" y1=\"231.8969\" y2=\"221.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"609\" x2=\"845\" y1=\"231.8969\" y2=\"231.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"845\" x2=\"845\" y1=\"231.8969\" y2=\"333.4869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"148.1895\" x=\"653.9053\" y=\"247.892\">Container Registry</text></g><!--cluster dev--><g class=\"cluster\" data-qualified-name=\"dev\" data-source-line=\"22\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"156,418.9869,166,408.9869,434,408.9869,434,589.5769,424,599.5769,156,599.5769,156,418.9869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"424\" x2=\"434\" y1=\"418.9869\" y2=\"408.9869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"156\" x2=\"424\" y1=\"418.9869\" y2=\"418.9869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"424\" x2=\"424\" y1=\"418.9869\" y2=\"599.5769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"135.8027\" x=\"223.0986\" y=\"434.982\">Dev Environment</text></g><!--cluster docker--><g class=\"cluster\" data-qualified-name=\"dev.docker\" data-source-line=\"23\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"180,466.9869,190,456.9869,410,456.9869,410,565.5769,400,575.5769,180,575.5769,180,466.9869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"400\" x2=\"410\" y1=\"466.9869\" y2=\"456.9869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"180\" x2=\"400\" y1=\"466.9869\" y2=\"466.9869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"400\" x2=\"400\" y1=\"466.9869\" y2=\"575.5769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.9346\" x=\"234.0327\" y=\"482.982\">Docker Engine</text></g><!--cluster prod--><g class=\"cluster\" data-qualified-name=\"prod\" data-source-line=\"28\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"458,467.4869,468,457.4869,676,457.4869,676,565.0769,666,575.0769,458,575.0769,458,467.4869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"666\" x2=\"676\" y1=\"467.4869\" y2=\"457.4869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"458\" x2=\"666\" y1=\"467.4869\" y2=\"467.4869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"666\" x2=\"666\" y1=\"467.4869\" y2=\"575.0769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"140.1777\" x=\"492.9111\" y=\"483.482\">Production (AWS)</text></g><!--entity schema--><g class=\"entity\" data-qualified-name=\"runner.schema\" data-source-line=\"12\" id=\"ent0003\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"158.5293\" x=\"39.74\" y=\"91.2969\"/><polygon fill=\"#FFFFFF\" points=\"181.2693,96.2969,181.2693,110.2969,193.2693,110.2969,193.2693,102.2969,187.2693,96.2969,181.2693,96.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"187.2693\" x2=\"187.2693\" y1=\"96.2969\" y2=\"102.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"193.2693\" x2=\"187.2693\" y1=\"102.2969\" y2=\"102.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.2871\" x=\"49.74\" y=\"117.292\">Schema</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"106.0271\" y=\"117.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"67.792\" x=\"110.4773\" y=\"117.292\">Definition</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.5283\" x=\"68.7405\" y=\"133.5889\">(schema.hcl)</text></g><!--entity migs--><g class=\"entity\" data-qualified-name=\"runner.migs\" data-source-line=\"13\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"152.0215\" x=\"232.99\" y=\"91.2969\"/><polygon fill=\"#FFFFFF\" points=\"368.0115,96.2969,368.0115,110.2969,380.0115,110.2969,380.0115,102.2969,374.0115,96.2969,368.0115,96.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"374.0115\" x2=\"374.0115\" y1=\"96.2969\" y2=\"102.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"380.0115\" x2=\"374.0115\" y1=\"102.2969\" y2=\"102.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.7061\" x=\"251.2717\" y=\"117.292\">SQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"278.9778\" y=\"117.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.3018\" x=\"283.428\" y=\"117.292\">Migrations</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"122.0215\" x=\"242.99\" y=\"133.5889\">(migrations/*.sql)</text></g><!--entity atlashcl--><g class=\"entity\" data-qualified-name=\"runner.atlashcl\" data-source-line=\"14\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"114.1982\" x=\"419.9\" y=\"91.2969\"/><polygon fill=\"#FFFFFF\" points=\"517.0982,96.2969,517.0982,110.2969,529.0982,110.2969,529.0982,102.2969,523.0982,96.2969,517.0982,96.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"523.0982\" x2=\"523.0982\" y1=\"96.2969\" y2=\"102.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"529.0982\" x2=\"523.0982\" y1=\"102.2969\" y2=\"102.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.8291\" x=\"429.9\" y=\"117.292\">Atlas</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"464.7291\" y=\"117.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.9189\" x=\"469.1793\" y=\"117.292\">Config</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.665\" x=\"437.1666\" y=\"133.5889\">(atlas.hcl)</text></g><!--entity atlas--><g class=\"entity\" data-qualified-name=\"runner.atlas\" data-source-line=\"15\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"122.0674\" x=\"383.97\" y=\"263.3969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.8291\" x=\"414.512\" y=\"286.392\">Atlas</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"449.3411\" y=\"286.392\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.7041\" x=\"453.7913\" y=\"286.392\">CLI</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"102.0674\" x=\"393.97\" y=\"302.6889\">(ariga.io/atlas)</text></g><!--entity img--><g class=\"entity\" data-qualified-name=\"registry.img\" data-source-line=\"19\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"213.1348\" x=\"625.43\" y=\"261.8969\"/><polygon fill=\"#FFFFFF\" points=\"821.5648,266.8969,821.5648,280.8969,833.5648,280.8969,833.5648,272.8969,827.5648,266.8969,821.5648,266.8969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"827.5648\" x2=\"827.5648\" y1=\"266.8969\" y2=\"272.8969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"833.5648\" x2=\"827.5648\" y1=\"272.8969\" y2=\"272.8969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"73.3018\" x=\"666.1986\" y=\"287.892\">Migrations</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"739.5003\" y=\"287.892\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"743.9505\" y=\"287.892\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"92.1553\" x=\"635.43\" y=\"304.1889\">(arigaio/atlas</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"727.5853\" y=\"304.1889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"732.0355\" y=\"304.1889\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"743.7659\" y=\"304.1889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.8213\" x=\"748.2161\" y=\"304.1889\">repo</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"780.0374\" y=\"304.1889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"34.0771\" x=\"784.4876\" y=\"304.1889\">files)</text></g><!--entity mysql_dev--><g class=\"entity\" data-qualified-name=\"dev.docker.mysql_dev\" data-source-line=\"24\" id=\"ent0011\"><polygon fill=\"#FFFFFF\" points=\"195.59,506.9869,205.59,496.9869,394.4093,496.9869,394.4093,549.5806,384.4093,559.5806,195.59,559.5806,195.59,506.9869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"384.4093\" x2=\"394.4093\" y1=\"506.9869\" y2=\"496.9869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"195.59\" x2=\"384.4093\" y1=\"506.9869\" y2=\"506.9869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"384.4093\" x2=\"384.4093\" y1=\"506.9869\" y2=\"559.5806\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.0703\" x=\"238.7062\" y=\"529.982\">MySQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"286.7765\" y=\"529.982\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8.9072\" x=\"291.2267\" y=\"529.982\">8</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"300.1339\" y=\"529.982\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.709\" x=\"304.5841\" y=\"529.982\">(dev)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"158.8193\" x=\"210.59\" y=\"546.2789\">(docker://mysql/8/dev)</text></g><!--entity rds--><g class=\"entity\" data-qualified-name=\"prod.rds\" data-source-line=\"29\" id=\"ent0013\"><path d=\"M473.68,507.4869 C473.68,497.4869 567.0032,497.4869 567.0032,497.4869 C567.0032,497.4869 660.3265,497.4869 660.3265,507.4869 L660.3265,549.0806 C660.3265,559.0806 567.0032,559.0806 567.0032,559.0806 C567.0032,559.0806 473.68,559.0806 473.68,549.0806 L473.68,507.4869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M473.68,507.4869 C473.68,517.4869 567.0032,517.4869 567.0032,517.4869 C567.0032,517.4869 660.3265,517.4869 660.3265,507.4869\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5811\" x=\"483.68\" y=\"534.482\">Amazon</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"540.2611\" y=\"534.482\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"29.3945\" x=\"544.7113\" y=\"534.482\">RDS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"574.1058\" y=\"534.482\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"19.25\" x=\"578.556\" y=\"534.482\">for</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"597.806\" y=\"534.482\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.0703\" x=\"602.2562\" y=\"534.482\">MySQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.5322\" x=\"524.4598\" y=\"550.7789\">(MySQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"577.992\" y=\"550.7789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"27.1045\" x=\"582.4422\" y=\"550.7789\">8.x)</text></g><g class=\"entity\" data-qualified-name=\"GMN21\" data-source-line=\"42\" id=\"ent0022\"><path d=\"M873.69,261.9869 L873.69,317.3853 L1098.3038,317.3853 L1098.3038,271.9869 L1088.3038,261.9869 L873.69,261.9869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M1088.3038,261.9869 L1088.3038,271.9869 L1098.3038,271.9869 L1088.3038,261.9869\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"32.3413\" x=\"879.69\" y=\"279.0538\">Atlas</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"912.0313\" y=\"279.0538\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"59.8584\" x=\"916.1636\" y=\"279.0538\">manages</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"976.022\" y=\"279.0538\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"48.2295\" x=\"980.1544\" y=\"279.0538\">desired</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"1028.3838\" y=\"279.0538\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"50.7876\" x=\"1032.5162\" y=\"279.0538\">schema</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"100.9404\" x=\"894.2039\" y=\"294.1866\">and\\nversioned</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"995.1443\" y=\"294.1866\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"69.5132\" x=\"999.2767\" y=\"294.1866\">migrations</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"77.5811\" x=\"896.4351\" y=\"309.3194\">(checksums</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"974.0162\" y=\"309.3194\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"11.8511\" x=\"978.1485\" y=\"309.3194\">in</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"989.9996\" y=\"309.3194\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"72.4268\" x=\"994.1319\" y=\"309.3194\">atlas.sum).</text></g><g class=\"entity\" data-qualified-name=\"GMN24\" data-source-line=\"46\" id=\"ent0025\"><path d=\"M469.39,646.5769 L469.39,686.8425 A0,0 0 0 0 469.39,686.8425 L664.6078,686.8425 A0,0 0 0 0 664.6078,686.8425 L664.6078,656.5769 L654.6078,646.5769 L571,646.5769 L567,559.5669 L563,646.5769 L469.39,646.5769 A0,0 0 0 0 469.39,646.5769\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M654.6078,646.5769 L654.6078,656.5769 L664.6078,656.5769 L654.6078,646.5769\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"69.6782\" x=\"480.0238\" y=\"663.6438\">Production</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"549.702\" y=\"663.6438\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"18.9287\" x=\"553.8343\" y=\"663.6438\">DB</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"572.763\" y=\"663.6438\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"48.001\" x=\"576.8954\" y=\"663.6438\">implied</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"624.8963\" y=\"663.6438\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"15.9453\" x=\"629.0287\" y=\"663.6438\">by</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"99.4551\" x=\"475.39\" y=\"678.7766\">plan.md\\n(e.g.,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"574.8451\" y=\"678.7766\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"29.999\" x=\"578.9774\" y=\"678.7766\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"608.9764\" y=\"678.7766\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"36.499\" x=\"613.1088\" y=\"678.7766\">RDS).</text></g><!--link runner to img--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"32\" id=\"lnk14\"><path d=\"M577.1663,128.5413 C577.3843,128.7667 577.6061,128.9962 577.8317,129.2296 C578.2829,129.6964 578.7494,130.1789 579.2306,130.6767 C581.1556,132.6679 583.3166,134.9034 585.6828,137.3509 C595.1475,147.1412 607.8938,160.3256 621.935,174.8494 C650.0175,203.8969 679.1096,233.9882 701.6596,257.3132\" fill=\"none\" id=\"runner-to-img\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"705.83,261.6269,702.4502,252.3761,702.3547,258.0321,696.6986,257.9366,705.83,261.6269\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.123\" x=\"651\" y=\"189.0355\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"681.123\" y=\"189.0355\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"9.3574\" x=\"684.9375\" y=\"189.0355\">&amp;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"694.2949\" y=\"189.0355\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.0801\" x=\"698.1094\" y=\"189.0355\">push</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.7207\" x=\"658.7344\" y=\"203.0043\">Dockerfile</text></g><!--link schema to atlas--><g class=\"link\" data-entity-1=\"ent0003\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"33\" id=\"lnk15\"><path d=\"M171.74,147.3669 C233.46,179.2869 329.5605,228.9908 389.9505,260.2208\" fill=\"none\" id=\"schema-to-atlas\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"395.28,262.9769,389.1231,255.2897,390.8387,260.6801,385.4483,262.3957,395.28,262.9769\" style=\"stroke:#000000;stroke-width:2;\"/></g><!--link migs to atlas--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"34\" id=\"lnk16\"><path d=\"M330.85,147.1869 C356.61,179.1069 395.3129,227.0968 420.5529,258.3868\" fill=\"none\" id=\"migs-to-atlas\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"424.32,263.0569,421.7828,253.5404,421.1808,259.1652,415.556,258.5632,424.32,263.0569\" style=\"stroke:#000000;stroke-width:2;\"/></g><!--link atlashcl to atlas--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"35\" id=\"lnk17\"><path d=\"M471.86,147.1869 C465.8,179.1069 456.9172,225.8718 450.9872,257.1618\" fill=\"none\" id=\"atlashcl-to-atlas\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"449.87,263.0569,455.4759,254.9591,450.801,258.1443,447.6158,253.4695,449.87,263.0569\" style=\"stroke:#000000;stroke-width:2;\"/></g><!--link atlas to mysql_dev--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"37\" id=\"lnk18\"><path d=\"M407.39,316.1869 C390.78,328.9569 372.09,345.6169 359,363.9869 C329.57,405.2769 312.8836,456.1262 303.7436,490.6962\" fill=\"none\" id=\"atlas-to-mysql_dev\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"302.21,496.4969,308.3776,488.8183,303.488,491.663,300.6434,486.7734,302.21,496.4969\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.998\" x=\"360\" y=\"376.1255\">atlas</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"388.998\" y=\"376.1255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"84.082\" x=\"392.8125\" y=\"376.1255\">migrate/apply</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.7832\" x=\"388.9043\" y=\"390.0943\">(dev</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"415.6875\" y=\"390.0943\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.4883\" x=\"419.502\" y=\"390.0943\">URL)</text></g><!--link atlas to rds--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0013\" data-link-type=\"dependency\" data-source-line=\"38\" id=\"lnk19\"><path d=\"M458.29,316.4569 C481.02,360.5369 524.4801,444.8341 548.6801,491.7641\" fill=\"none\" id=\"atlas-to-rds\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"551.43,497.0969,550.8603,487.2645,549.1384,492.6529,543.75,490.931,551.43,497.0969\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.998\" x=\"497\" y=\"376.1255\">atlas</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"525.998\" y=\"376.1255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"84.082\" x=\"529.8125\" y=\"376.1255\">migrate/apply</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"32.1914\" x=\"523.2002\" y=\"390.0943\">(prod</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"555.3916\" y=\"390.0943\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"28.4883\" x=\"559.2061\" y=\"390.0943\">URL)</text></g><!--link img to atlas--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"39\" id=\"lnk20\"><path d=\"M625.09,289.6869 C584.98,289.6869 546.79,289.6869 512.22,289.6869\" fill=\"none\" id=\"img-to-atlas\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"506.22,289.6869,515.22,293.6869,511.22,289.6869,515.22,285.6869,506.22,289.6869\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"83.2734\" x=\"524.23\" y=\"241.8255\">Containerized</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"59.0566\" x=\"536.3384\" y=\"255.7943\">execution</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"69.3926\" x=\"531.1704\" y=\"269.763\">(immutable</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"59.9004\" x=\"535.9165\" y=\"283.7318\">toolchain)</text></g><!--link atlas to GMN21--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-_2=\"ent0022\" data-link-type=\"association\" data-source-line=\"42\" id=\"lnk23\"><path d=\"M476.9,263.0069 C511.3,236.1169 568.91,196.3969 626.5,180.3969 C716.85,155.2869 748.4,151.1369 837.5,180.3969 C886.01,196.3169 931.72,234.8269 959.28,261.5969\" fill=\"none\" id=\"atlas-GMN21\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/></g></g></svg>",
  "architecture_description": "## High-level architecture\nThis repository is a **database schema and migrations project** managed with **Atlas (ariga.io)** targeting **MySQL**.\n\n### Components\n- **Developer / CI Runner**\n  - Inputs:\n    - `schema.hcl`: desired database schema (Atlas HCL)\n    - `migrations/*.sql`: versioned SQL migrations (MySQL dialect)\n    - `atlas.hcl`: Atlas environment configuration (includes dev URL `docker://mysql/8/dev`)\n  - Tooling:\n    - **Atlas CLI** (`ariga.io/atlas`) used to plan/apply schema changes and run migrations.\n\n- **Migrations Container Image**\n  - Built via `Dockerfile` from `arigaio/atlas:latest` and packages the repoâ€™s schema/migrations/config.\n  - Published to a **container registry** so migrations can run in a reproducible, immutable environment (e.g., in CI/CD).\n\n- **Dev Database (local)**\n  - **MySQL 8** running via Docker, referenced by Atlas as `docker://mysql/8/dev`.\n  - Used for local development and validation of migrations.\n\n- **Production Database (implied)**\n  - **Amazon RDS for MySQL** (or equivalent managed MySQL) is implied by `plan.md` notes.\n  - Atlas applies the same migration set against the production connection URL.\n\n### Relationships / flow\n1. Developers/CI maintain `schema.hcl`, `atlas.hcl`, and `migrations/*.sql`.\n2. CI (or developers) build and push a **migrations container image**.\n3. Atlas runs `migrate/apply` against:\n   - **Dev MySQL (Docker)** for local testing.\n   - **Prod MySQL (RDS)** for controlled production rollout.\n4. Migration integrity is tracked via `migrations/atlas.sum` checksums."
}