{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\n' Note: AWS icon include is required by instructions; diagram uses standard PlantUML elements.\n\ntitle High-level Deployment Architecture - Java Servlet WAR on Tomcat (Docker) with Ansible\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\nactor \"User / Browser\" as user\n\nnode \"Dev Environment\\n(dev01 VM)\" as dev {\n  node \"Docker Engine\" as dev_docker {\n    artifact \"Container Image\\nTomcat 9 (jre8-alpine)\\n+ hello-1.0.war\" as dev_image\n    node \"Running Container\\nTomcat 9\" as dev_container {\n      component \"Java WebApp (WAR)\\nServlet API 3.1\\nEndpoint: /hello\" as dev_app\n      portin \"HTTP :8080\" as dev_http\n    }\n  }\n}\n\nnode \"Stage Environment\\n(stage01 VM)\" as stage {\n  node \"Docker Engine\" as stage_docker {\n    artifact \"Container Image\\nTomcat 9 (jre8-alpine)\\n+ hello-1.0.war\" as stage_image\n    node \"Running Container\\nTomcat 9\" as stage_container {\n      component \"Java WebApp (WAR)\\nServlet API 3.1\\nEndpoint: /hello\" as stage_app\n      portin \"HTTP :8080\" as stage_http\n    }\n  }\n}\n\nnode \"CI / Build Host\" as ci {\n  component \"Maven Build\\n(maven-compiler-plugin, maven-war-plugin)\" as maven\n  component \"Docker Build\\n(multi-stage)\" as docker_build\n  artifact \"hello-1.0.war\" as war\n  artifact \"Container Image\\nTomcat + WAR\" as built_image\n}\n\nnode \"Automation\" as automation {\n  component \"Ansible Playbooks\\n(playbook.yml, deploy/playbook.yml)\" as ansible\n  component \"Cloud-init / VM Bootstrap\\n(meta.yml)\" as cloudinit\n}\n\nuser --> dev_http : HTTP GET /hello\nuser --> stage_http : HTTP GET /hello\n\ndev_http -[#gray]-> dev_app : routed to servlet\nstage_http -[#gray]-> stage_app : routed to servlet\n\nmaven --> war : builds\nwar --> docker_build : copied into image\n\ndocker_build --> built_image : produces\n\nansible --> dev_docker : install/configure Docker\\nrun container (8080)\nansible --> stage_docker : install/configure Docker\\nrun container (8080)\n\nbuilt_image --> dev_image : deploy/pull\nbuilt_image --> stage_image : deploy/pull\n\ndev_image --> dev_container : run\nstage_image --> stage_container : run\n\ncloudinit --> dev : initial VM bootstrap\ncloudinit --> stage : initial VM bootstrap\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.1beta2?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1136px\" preserveAspectRatio=\"none\" style=\"width:1819px;height:1136px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 1819 1136\" width=\"1819px\" zoomAndPan=\"magnify\"><title>High-level Deployment Architecture - Java Servlet WAR on Tomcat (Docker) with Ansible</title><defs/><g><g class=\"title\" data-source-line=\"6\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"698.5713\" x=\"553.2437\" y=\"22.9951\">High-level Deployment Architecture - Java Servlet WAR on Tomcat (Docker) with Ansible</text></g><!--cluster dev--><g class=\"cluster\" data-qualified-name=\"dev\" data-source-line=\"15\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"16,689.4269,26,679.4269,849,679.4269,849,1109.2069,839,1119.2069,16,1119.2069,16,689.4269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"839\" x2=\"849\" y1=\"689.4269\" y2=\"679.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"839\" y1=\"689.4269\" y2=\"689.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"839\" x2=\"839\" y1=\"689.4269\" y2=\"1119.2069\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"135.8027\" x=\"360.5986\" y=\"705.422\">Dev Environment</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"90.5625\" x=\"383.2188\" y=\"721.7189\">(dev01 VM)</text></g><!--cluster dev_docker--><g class=\"cluster\" data-qualified-name=\"dev.dev_docker\" data-source-line=\"16\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"56,769.4269,66,759.4269,801,759.4269,801,1069.2069,791,1079.2069,56,1079.2069,56,769.4269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"791\" x2=\"801\" y1=\"769.4269\" y2=\"759.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"56\" x2=\"791\" y1=\"769.4269\" y2=\"769.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"791\" x2=\"791\" y1=\"769.4269\" y2=\"1079.2069\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.9346\" x=\"367.5327\" y=\"785.422\">Docker Engine</text></g><!--cluster dev_container--><g class=\"cluster\" data-qualified-name=\"dev.dev_docker.dev_container\" data-source-line=\"18\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"88,853.3669,98,843.3669,556,843.3669,556,1037.2069,546,1047.2069,88,1047.2069,88,853.3669\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"546\" x2=\"556\" y1=\"853.3669\" y2=\"843.3669\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"88\" x2=\"546\" y1=\"853.3669\" y2=\"853.3669\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"546\" x2=\"546\" y1=\"853.3669\" y2=\"1047.2069\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"147.5059\" x=\"244.2471\" y=\"869.362\">Running Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"72.8096\" x=\"281.5952\" y=\"885.6589\">Tomcat 9</text></g><!--cluster stage--><g class=\"cluster\" data-qualified-name=\"stage\" data-source-line=\"25\" id=\"ent0009\"><polygon fill=\"#FFFFFF\" points=\"889,689.4269,899,679.4269,1722,679.4269,1722,1109.2069,1712,1119.2069,889,1119.2069,889,689.4269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1712\" x2=\"1722\" y1=\"689.4269\" y2=\"679.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"889\" x2=\"1712\" y1=\"689.4269\" y2=\"689.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1712\" x2=\"1712\" y1=\"689.4269\" y2=\"1119.2069\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"151.2998\" x=\"1225.8501\" y=\"705.422\">Stage Environment</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"105.9092\" x=\"1248.5454\" y=\"721.7189\">(stage01 VM)</text></g><!--cluster stage_docker--><g class=\"cluster\" data-qualified-name=\"stage.stage_docker\" data-source-line=\"26\" id=\"ent0010\"><polygon fill=\"#FFFFFF\" points=\"929,769.4269,939,759.4269,1674,759.4269,1674,1069.2069,1664,1079.2069,929,1079.2069,929,769.4269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1664\" x2=\"1674\" y1=\"769.4269\" y2=\"759.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"929\" x2=\"1664\" y1=\"769.4269\" y2=\"769.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1664\" x2=\"1664\" y1=\"769.4269\" y2=\"1079.2069\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.9346\" x=\"1240.5327\" y=\"785.422\">Docker Engine</text></g><!--cluster stage_container--><g class=\"cluster\" data-qualified-name=\"stage.stage_docker.stage_container\" data-source-line=\"28\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"1082.5,853.3669,1092.5,843.3669,1429,843.3669,1429,1037.2069,1419,1047.2069,1082.5,1047.2069,1082.5,853.3669\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1419\" x2=\"1429\" y1=\"853.3669\" y2=\"843.3669\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1082.5\" x2=\"1419\" y1=\"853.3669\" y2=\"853.3669\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1419\" x2=\"1419\" y1=\"853.3669\" y2=\"1047.2069\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"147.5059\" x=\"1177.9971\" y=\"869.362\">Running Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"72.8096\" x=\"1215.3452\" y=\"885.6589\">Tomcat 9</text></g><!--cluster ci--><g class=\"cluster\" data-qualified-name=\"ci\" data-source-line=\"35\" id=\"ent0015\"><polygon fill=\"#FFFFFF\" points=\"677,53.2969,687,43.2969,901,43.2969,901,563.3269,891,573.3269,677,573.3269,677,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"891\" x2=\"901\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"677\" x2=\"891\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"891\" x2=\"891\" y1=\"53.2969\" y2=\"573.3269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"111.8359\" x=\"729.082\" y=\"69.292\">CI / Build Host</text></g><!--cluster automation--><g class=\"cluster\" data-qualified-name=\"automation\" data-source-line=\"42\" id=\"ent0020\"><polygon fill=\"#FFFFFF\" points=\"1250,465.0869,1260,455.0869,1684,455.0869,1684,569.9769,1674,579.9769,1250,579.9769,1250,465.0869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1674\" x2=\"1684\" y1=\"465.0869\" y2=\"455.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1250\" x2=\"1674\" y1=\"465.0869\" y2=\"465.0869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1674\" x2=\"1674\" y1=\"465.0869\" y2=\"579.9769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"92.2236\" x=\"1416.8882\" y=\"481.082\">Automation</text></g><!--entity dev_image--><g class=\"entity\" data-qualified-name=\"dev.dev_docker.dev_image\" data-source-line=\"17\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"186.2012\" x=\"571.9\" y=\"807.4269\"/><polygon fill=\"#FFFFFF\" points=\"741.1012,812.4269,741.1012,826.4269,753.1012,826.4269,753.1012,818.4269,747.1012,812.4269,741.1012,812.4269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"747.1012\" x2=\"747.1012\" y1=\"812.4269\" y2=\"818.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"753.1012\" x2=\"747.1012\" y1=\"818.4269\" y2=\"818.4269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"601.6456\" y=\"833.422\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"670.0597\" y=\"833.422\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"674.5099\" y=\"833.422\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.5205\" x=\"581.9\" y=\"849.7189\">Tomcat</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"634.4205\" y=\"849.7189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8.9072\" x=\"638.8707\" y=\"849.7189\">9</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"647.7779\" y=\"849.7189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"85.873\" x=\"652.2281\" y=\"849.7189\">(jre8-alpine)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"606.2188\" y=\"866.0157\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"617.9493\" y=\"866.0157\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"91.3828\" x=\"622.3995\" y=\"866.0157\">hello-1.0.war</text></g><!--entity dev_app--><g class=\"entity\" data-qualified-name=\"dev.dev_docker.dev_container.dev_app\" data-source-line=\"19\" id=\"ent0007\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"161.2373\" x=\"370.38\" y=\"954.3169\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"29.5723\" x=\"380.38\" y=\"977.312\">Java</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"409.9523\" y=\"977.312\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"58.6934\" x=\"414.4025\" y=\"977.312\">WebApp</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"473.0958\" y=\"977.312\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.0713\" x=\"477.546\" y=\"977.312\">(WAR)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5332\" x=\"399.5753\" y=\"993.6089\">Servlet</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"449.1085\" y=\"993.6089\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"453.5587\" y=\"993.6089\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"475.7071\" y=\"993.6089\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.2646\" x=\"480.1573\" y=\"993.6089\">3.1</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"67.0264\" x=\"395.9864\" y=\"1009.9057\">Endpoint:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"463.0128\" y=\"1009.9057\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.5479\" x=\"467.463\" y=\"1009.9057\">/hello</text></g><g class=\"entity\" data-qualified-name=\"dev.dev_docker.dev_container.dev_http\" data-source-line=\"20\" id=\"ent0008\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.8691\" x=\"405.0654\" y=\"822.0651\">HTTP :8080</text><rect fill=\"#FFFFFF\" height=\"12\" style=\"stroke:#000000;stroke-width:1.5;\" width=\"12\" x=\"439.5\" y=\"837.3669\"/></g><!--entity stage_image--><g class=\"entity\" data-qualified-name=\"stage.stage_docker.stage_image\" data-source-line=\"27\" id=\"ent0011\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"186.2012\" x=\"1444.9\" y=\"807.4269\"/><polygon fill=\"#FFFFFF\" points=\"1614.1012,812.4269,1614.1012,826.4269,1626.1012,826.4269,1626.1012,818.4269,1620.1012,812.4269,1614.1012,812.4269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1620.1012\" x2=\"1620.1012\" y1=\"812.4269\" y2=\"818.4269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"1626.1012\" x2=\"1620.1012\" y1=\"818.4269\" y2=\"818.4269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"1474.6456\" y=\"833.422\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1543.0597\" y=\"833.422\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"1547.5099\" y=\"833.422\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.5205\" x=\"1454.9\" y=\"849.7189\">Tomcat</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1507.4205\" y=\"849.7189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8.9072\" x=\"1511.8707\" y=\"849.7189\">9</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1520.7779\" y=\"849.7189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"85.873\" x=\"1525.2281\" y=\"849.7189\">(jre8-alpine)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"1479.2188\" y=\"866.0157\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1490.9493\" y=\"866.0157\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"91.3828\" x=\"1495.3995\" y=\"866.0157\">hello-1.0.war</text></g><!--entity stage_app--><g class=\"entity\" data-qualified-name=\"stage.stage_docker.stage_container.stage_app\" data-source-line=\"29\" id=\"ent0013\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"161.2373\" x=\"1243.38\" y=\"954.3169\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"29.5723\" x=\"1253.38\" y=\"977.312\">Java</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1282.9523\" y=\"977.312\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"58.6934\" x=\"1287.4025\" y=\"977.312\">WebApp</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1346.0958\" y=\"977.312\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"44.0713\" x=\"1350.546\" y=\"977.312\">(WAR)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5332\" x=\"1272.5753\" y=\"993.6089\">Servlet</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1322.1085\" y=\"993.6089\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"1326.5587\" y=\"993.6089\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1348.7071\" y=\"993.6089\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.2646\" x=\"1353.1573\" y=\"993.6089\">3.1</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"67.0264\" x=\"1268.9864\" y=\"1009.9057\">Endpoint:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1336.0128\" y=\"1009.9057\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"38.5479\" x=\"1340.463\" y=\"1009.9057\">/hello</text></g><g class=\"entity\" data-qualified-name=\"stage.stage_docker.stage_container.stage_http\" data-source-line=\"30\" id=\"ent0014\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.8691\" x=\"1060.0654\" y=\"822.0651\">HTTP :8080</text><rect fill=\"#FFFFFF\" height=\"12\" style=\"stroke:#000000;stroke-width:1.5;\" width=\"12\" x=\"1094.5\" y=\"837.3669\"/></g><!--entity maven--><g class=\"entity\" data-qualified-name=\"ci.maven\" data-source-line=\"36\" id=\"ent0016\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"192.2383\" x=\"692.88\" y=\"83.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"46.4297\" x=\"745.9874\" y=\"106.292\">Maven</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"792.4171\" y=\"106.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.1436\" x=\"796.8673\" y=\"106.292\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"172.2383\" x=\"702.88\" y=\"122.5889\">(maven-compiler-plugin,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"132.6377\" x=\"722.6803\" y=\"138.8857\">maven-war-plugin)</text></g><!--entity docker_build--><g class=\"entity\" data-qualified-name=\"ci.docker_build\" data-source-line=\"37\" id=\"ent0017\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"110.6172\" x=\"720.69\" y=\"341.4869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"49.5195\" x=\"731.442\" y=\"364.482\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"780.9615\" y=\"364.482\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.1436\" x=\"785.4117\" y=\"364.482\">Build</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"90.6172\" x=\"730.69\" y=\"380.7789\">(multi-stage)</text></g><!--entity war--><g class=\"entity\" data-qualified-name=\"ci.war\" data-source-line=\"38\" id=\"ent0018\"><rect fill=\"#FFFFFF\" height=\"39.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"121.3828\" x=\"721.31\" y=\"227.1869\"/><polygon fill=\"#FFFFFF\" points=\"825.6928,232.1869,825.6928,246.1869,837.6928,246.1869,837.6928,238.1869,831.6928,232.1869,825.6928,232.1869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"831.6928\" x2=\"831.6928\" y1=\"232.1869\" y2=\"238.1869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"837.6928\" x2=\"831.6928\" y1=\"238.1869\" y2=\"238.1869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"91.3828\" x=\"731.31\" y=\"253.182\">hello-1.0.war</text></g><!--entity built_image--><g class=\"entity\" data-qualified-name=\"ci.built_image\" data-source-line=\"39\" id=\"ent0019\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"146.71\" x=\"702.65\" y=\"501.7269\"/><polygon fill=\"#FFFFFF\" points=\"832.36,506.7269,832.36,520.7269,844.36,520.7269,844.36,512.7269,838.36,506.7269,832.36,506.7269\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"838.36\" x2=\"838.36\" y1=\"506.7269\" y2=\"512.7269\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"844.36\" x2=\"838.36\" y1=\"512.7269\" y2=\"512.7269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"712.65\" y=\"527.722\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"781.0641\" y=\"527.722\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.8457\" x=\"785.5143\" y=\"527.722\">Image</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"52.5205\" x=\"717.8556\" y=\"544.0189\">Tomcat</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"770.3761\" y=\"544.0189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"774.8263\" y=\"544.0189\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"786.5567\" y=\"544.0189\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.1475\" x=\"791.0069\" y=\"544.0189\">WAR</text></g><!--entity ansible--><g class=\"entity\" data-qualified-name=\"automation.ansible\" data-source-line=\"43\" id=\"ent0021\"><rect fill=\"#FFFFFF\" height=\"68.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"171.334\" x=\"1266.33\" y=\"495.0869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.0234\" x=\"1288.9526\" y=\"518.082\">Ansible</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1339.976\" y=\"518.082\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.6152\" x=\"1344.4262\" y=\"518.082\">Playbooks</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"103.9404\" x=\"1300.0268\" y=\"534.3789\">(playbook.yml,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"151.334\" x=\"1276.33\" y=\"550.6757\">deploy/playbook.yml)</text></g><!--entity cloudinit--><g class=\"entity\" data-qualified-name=\"automation.cloudinit\" data-source-line=\"44\" id=\"ent0022\"><rect fill=\"#FFFFFF\" height=\"52.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"195.1367\" x=\"1472.43\" y=\"503.2269\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"67.1836\" x=\"1482.43\" y=\"526.222\">Cloud-init</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1549.6136\" y=\"526.222\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"1554.0638\" y=\"526.222\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1558.7806\" y=\"526.222\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.6563\" x=\"1563.2308\" y=\"526.222\">VM</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"1584.887\" y=\"526.222\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.2295\" x=\"1589.3372\" y=\"526.222\">Bootstrap</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"77.5059\" x=\"1531.2454\" y=\"542.5189\">(meta.yml)</text></g><!--entity user--><g class=\"entity\" data-qualified-name=\"user\" data-source-line=\"13\" id=\"ent0002\"><ellipse cx=\"535.0032\" cy=\"499.8769\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M535.0032,507.8769 L535.0032,534.8769 M522.0032,515.8769 L548.0032,515.8769 M535.0032,534.8769 L522.0032,549.8769 M535.0032,534.8769 L548.0032,549.8769\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"31.9102\" x=\"483.72\" y=\"565.122\">User</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"515.6302\" y=\"565.122\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"520.0804\" y=\"565.122\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"524.7971\" y=\"565.122\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.0391\" x=\"529.2473\" y=\"565.122\">Browser</text></g><!--link user to dev_http--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"47\" id=\"lnk23\"><path d=\"M514.07,568.6769 C500.68,594.6669 484,630.2469 474,663.4269 C453.76,730.5669 447.9013,810.5278 446.6313,831.5778\" fill=\"none\" id=\"user-to-dev_http\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"446.27,837.5669,450.8047,828.8241,446.5711,832.576,442.8193,828.3423,446.27,837.5669\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"499\" y=\"631.5655\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"529.9199\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.2109\" x=\"533.7344\" y=\"631.5655\">GET</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"557.9453\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33.041\" x=\"561.7598\" y=\"631.5655\">/hello</text></g><!--link user to stage_http--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0014\" data-link-type=\"dependency\" data-source-line=\"48\" id=\"lnk24\"><path d=\"M586.55,556.4769 C612.91,568.4169 645.91,581.3669 677,587.9769 C710.17,595.0169 953.56,579.9669 982,598.4269 C1073.31,657.6769 1095.9683,802.6754 1099.6683,831.5854\" fill=\"none\" id=\"user-to-stage_http\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1100.43,837.5369,1103.2551,828.1019,1099.7953,832.5773,1095.3198,829.1175,1100.43,837.5369\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"1038\" y=\"631.5655\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1068.9199\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.2109\" x=\"1072.7344\" y=\"631.5655\">GET</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1096.9453\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33.041\" x=\"1100.7598\" y=\"631.5655\">/hello</text></g><!--link dev_http to dev_app--><g class=\"link\" data-entity-1=\"ent0008\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"50\" id=\"lnk25\"><path d=\"M439.74,846.2369 C415.72,853.7569 331.85,883.3669 354,924.3169 C360.32,935.9969 365.0836,942.2065 375.7136,950.4265\" fill=\"none\" id=\"dev_http-to-dev_app\" style=\"stroke:#808080;stroke-width:2;\"/><polygon fill=\"#808080\" points=\"380.46,954.0969,375.7872,945.4271,376.5046,951.0383,370.8935,951.7557,380.46,954.0969\" style=\"stroke:#808080;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.5859\" x=\"355\" y=\"921.4555\">routed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"394.5859\" y=\"921.4555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"12.0469\" x=\"398.4004\" y=\"921.4555\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"410.4473\" y=\"921.4555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.0918\" x=\"414.2617\" y=\"921.4555\">servlet</text></g><!--link stage_http to stage_app--><g class=\"link\" data-entity-1=\"ent0014\" data-entity-2=\"ent0013\" data-link-type=\"dependency\" data-source-line=\"51\" id=\"lnk26\"><path d=\"M1101.54,849.3069 C1103.39,863.5469 1110.79,904.9069 1136,924.3169 C1168.07,949.0169 1187.46,925.9369 1226,938.3169 C1238.7,942.3969 1246.3711,945.3401 1258.6811,951.2501\" fill=\"none\" id=\"stage_http-to-stage_app\" style=\"stroke:#808080;stroke-width:2;\"/><polygon fill=\"#808080\" points=\"1264.09,953.8469,1257.7078,946.3457,1259.5826,951.6829,1254.2454,953.5576,1264.09,953.8469\" style=\"stroke:#808080;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.5859\" x=\"1137\" y=\"921.4555\">routed</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1176.5859\" y=\"921.4555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"12.0469\" x=\"1180.4004\" y=\"921.4555\">to</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1192.4473\" y=\"921.4555\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"41.0918\" x=\"1196.2617\" y=\"921.4555\">servlet</text></g><!--link maven to war--><g class=\"link\" data-entity-1=\"ent0016\" data-entity-2=\"ent0018\" data-link-type=\"dependency\" data-source-line=\"53\" id=\"lnk27\"><path d=\"M787.14,152.4669 C785.83,176.2969 784.4501,201.366 783.3701,220.966\" fill=\"none\" id=\"maven-to-war\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"783.04,226.9569,787.5291,218.1906,783.3151,221.9644,779.5412,217.7504,783.04,226.9569\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"35.7598\" x=\"786\" y=\"194.3255\">builds</text></g><!--link war to docker_build--><g class=\"link\" data-entity-1=\"ent0018\" data-entity-2=\"ent0017\" data-link-type=\"dependency\" data-source-line=\"54\" id=\"lnk28\"><path d=\"M781.04,266.9469 C780.02,287.0469 778.7211,312.7844 777.6011,335.0744\" fill=\"none\" id=\"war-to-docker_build\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"777.3,341.0669,781.7466,332.2789,777.5509,336.0732,773.7567,331.8775,777.3,341.0669\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.8906\" x=\"780\" y=\"308.6255\">copied</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"819.8906\" y=\"308.6255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"22.9863\" x=\"823.7051\" y=\"308.6255\">into</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"846.6914\" y=\"308.6255\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"37.377\" x=\"850.5059\" y=\"308.6255\">image</text></g><!--link docker_build to built_image--><g class=\"link\" data-entity-1=\"ent0017\" data-entity-2=\"ent0019\" data-link-type=\"dependency\" data-source-line=\"56\" id=\"lnk29\"><path d=\"M776,394.4469 C776,423.7269 776,465.4169 776,495.3169\" fill=\"none\" id=\"docker_build-to-built_image\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"776,501.3169,780,492.3169,776,496.3169,772,492.3169,776,501.3169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"55.3477\" x=\"777\" y=\"436.2255\">produces</text></g><!--link ansible to dev_docker--><g class=\"link\" data-entity-1=\"ent0021\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"58\" id=\"lnk30\"><path d=\"M1266.12,537.5369 C1149.48,547.9669 947.76,569.4869 880,598.4269 C836.91,616.8269 817.99,621.5369 797,663.4269 C788.2325,680.9294 783.5381,700.6544 781.4431,720.4481 C780.3956,730.345 779.998,740.2591 780.0659,749.9211 C780.0829,752.3366 780.129,754.7364 780.2013,757.1162 C780.2194,757.7111 780.0234,752.3087 780.0447,752.9011\" fill=\"none\" id=\"ansible-to-dev_docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"780.2604,758.8972,783.9343,749.7592,780.0807,753.9004,775.9395,750.0468,780.2604,758.8972\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"96.6035\" x=\"881\" y=\"610.5655\">install/configure</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.4453\" x=\"908.0791\" y=\"624.5343\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.1445\" x=\"888.8926\" y=\"638.503\">run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"909.0371\" y=\"638.503\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.8594\" x=\"912.8516\" y=\"638.503\">container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.9023\" x=\"909.3506\" y=\"652.4718\">(8080)</text></g><!--link ansible to stage_docker--><g class=\"link\" data-entity-1=\"ent0021\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"59\" id=\"lnk31\"><path d=\"M1354.62,564.3169 C1358.88,593.6669 1369.99,634.6469 1399,655.4269 C1421.41,671.4769 1626.8,644.6569 1647,663.4269 C1654.21,670.1244 1659.0219,684.3625 1662.1794,702.0242 C1663.7581,710.8551 1664.9233,720.5418 1665.7678,730.5699 C1666.1901,735.5839 1666.5322,740.6832 1666.8058,745.8035 C1666.9425,748.3637 1667.0622,750.9291 1667.1662,753.4917 C1667.2182,754.773 1667.2662,756.0536 1667.3106,757.3325 C1667.3327,757.972 1667.1631,752.614 1667.1834,753.2525\" fill=\"none\" id=\"ansible-to-stage_docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1667.3743,759.2495,1671.086,750.1268,1667.2152,754.252,1663.09,750.3813,1667.3743,759.2495\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"96.6035\" x=\"1400\" y=\"610.5655\">install/configure</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"42.4453\" x=\"1427.0791\" y=\"624.5343\">Docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.1445\" x=\"1407.8926\" y=\"638.503\">run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1428.0371\" y=\"638.503\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"56.8594\" x=\"1431.8516\" y=\"638.503\">container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"39.9023\" x=\"1428.3506\" y=\"652.4718\">(8080)</text></g><!--link built_image to dev_image--><g class=\"link\" data-entity-1=\"ent0019\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"61\" id=\"lnk32\"><path d=\"M725.73,557.8069 C710.79,568.4569 696.02,582.0969 687,598.4269 C650.31,664.8769 653.4143,751.295 659.0643,801.145\" fill=\"none\" id=\"built_image-to-dev_image\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"659.74,807.1069,662.701,797.7137,659.1769,802.1387,654.7519,798.6146,659.74,807.1069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"66.3281\" x=\"688\" y=\"631.5655\">deploy/pull</text></g><!--link built_image to stage_image--><g class=\"link\" data-entity-1=\"ent0019\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"62\" id=\"lnk33\"><path d=\"M849.53,539.8969 C924.13,550.3969 1042.48,569.7869 1142,598.4269 C1208.15,617.4569 1218.75,640.7469 1286,655.4269 C1302.41,659.0069 1422.72,654.5769 1437,663.4269 C1489,695.6569 1514.9473,759.2665 1527.5373,801.5365\" fill=\"none\" id=\"built_image-to-stage_image\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1529.25,807.2869,1530.5145,797.5195,1527.8227,802.4949,1522.8473,799.8032,1529.25,807.2869\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"66.3281\" x=\"1287\" y=\"631.5655\">deploy/pull</text></g><!--link dev_image to dev_container--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"64\" id=\"lnk34\"><path d=\"M631.43,879.4969 C613.19,896.1869 589.25,914.5869 564,924.3169 C562.6297,924.845 561.1838,925.3439 559.667,925.8153 C558.9086,926.051 558.1324,926.2798 557.3391,926.5019 C556.9425,926.613 562.34,925.1804 561.9349,925.2882\" fill=\"none\" id=\"dev_image-to-dev_container\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"556.1364,926.8301,565.8621,928.3829,560.9685,925.5452,563.8062,920.6516,556.1364,926.8301\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.1445\" x=\"593\" y=\"921.4555\">run</text></g><!--link stage_image to stage_container--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0012\" data-link-type=\"dependency\" data-source-line=\"65\" id=\"lnk35\"><path d=\"M1495.54,879.6169 C1484.29,887.9219 1471.425,896.6469 1457.7375,904.5206 C1450.8938,908.4575 1443.8444,912.1816 1436.6884,915.5339 C1434.8995,916.372 1433.1038,917.1868 1431.3031,917.976 C1430.8529,918.1733 1430.4024,918.3689 1429.9515,918.563 C1429.7261,918.66 1435.0197,916.4029 1434.7942,916.4991\" fill=\"none\" id=\"stage_image-to-stage_container\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1429.2751,918.8528,1439.1229,919.0016,1433.8744,916.8914,1435.9846,911.6429,1429.2751,918.8528\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.1445\" x=\"1448\" y=\"921.4555\">run</text></g><!--link cloudinit to dev--><g class=\"link\" data-entity-1=\"ent0022\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"67\" id=\"lnk36\"><path d=\"M1557.61,556.0769 C1540.45,590.9269 1510.51,649.7269 1501,655.4269 C1474.89,671.0869 979.53,648.4769 953,663.4269 C912.765,686.0919 885.005,729.7944 867.1863,768.3356 C862.7316,777.9709 858.8982,787.2837 855.6466,795.8645 C854.0208,800.1549 852.5404,804.2623 851.2005,808.1356 C850.5306,810.0722 849.8957,811.9503 849.2954,813.7634 C849.2204,813.9901 851.0226,808.5168 850.9486,808.7414\" fill=\"none\" id=\"cloudinit-to-dev\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"849.0719,814.4403,855.6863,807.143,850.6358,809.6912,848.0877,804.6408,849.0719,814.4403\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33\" x=\"1535\" y=\"631.5655\">initial</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1568\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.5625\" x=\"1571.8145\" y=\"631.5655\">VM</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1590.377\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"57.8672\" x=\"1594.1914\" y=\"631.5655\">bootstrap</text></g><!--link cloudinit to stage--><g class=\"link\" data-entity-1=\"ent0022\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"68\" id=\"lnk37\"><path d=\"M1621.1,556.2869 C1638.02,567.1569 1655.45,581.2969 1667,598.4269 C1682.195,620.9519 1692.7575,647.1644 1700.0473,673.8852 C1700.503,675.5552 1699.4512,671.4164 1699.8815,673.0896\" fill=\"none\" id=\"cloudinit-to-stage\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"1701.3762,678.9005,1703.0081,669.1878,1700.1306,674.0581,1695.2603,671.1806,1701.3762,678.9005\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"33\" x=\"1694\" y=\"631.5655\">initial</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1727\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"18.5625\" x=\"1730.8145\" y=\"631.5655\">VM</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"1749.377\" y=\"631.5655\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"57.8672\" x=\"1753.1914\" y=\"631.5655\">bootstrap</text></g><?plantuml-src jLLDRnit4BtpLuoLGsKakoix5rS50iWVg5rKWH4vyQ4A36gNaXXpIPOVKfKW_xr3xgTajqaEEGYhvRnv7Butd3qgs99B1fFxsQql1QoTqtQSPOPkqnLtQx_mbfbSISUaItDLPdHh1LtOy4mu1cooL2RHWag71DdcT9IEie9RHuwup8KlMl8CdnUgB9LCDRuIyWkyLOwDGnm25JG9t89XVtjkM06B7IvRPtpkEExs6nIShWmj0GkpO1sL1JK5t8O2ta__12POYRNQb137dM1mpLVhHB0D4t39j52x48Q9oTVSiTnvmo21F-Y6meoPZM0ExYVl0AkvKsLE7GmlLVx8p35iKG-OICiNWX5Y7xdKD1HYrxHGMovNiAJ2ibu4zT9AudOpjyDA36v7vKhq8Lj3zJqlaFdqTDHRB-a_KsOjNR4P_ypW18E4vauP6Bn7Ho23SwEs-6y0r0Oj325IeNQ3IxQ1AxdXHibmqhaS5cmpEe4Fq-E8nJVuGW1gT3mS9gom3PhuGr6j1XW0DOulSMyON60VKCGPk2cnihci9VeLXfyCEqkeq1WzdikNi6P2gEGa7QLRQbfU7j8YQRNxEozb4AubxYZRdBpTj2e7EbbX47sxPuk9rZ14tt3lniN9xGsyJa_cyaeMMd7fnf35gbfcgdNDg1MUKSBW-kxk5iPdexDH2met8gA-al3xsiWyStYK0w5jMEj97T__L-o8-2boLym_AdYLzNCahxY_ANe5-o_PBsv2wtik2hXMriMCdCSwUpLEwOR92eQsbE4j2M4kM9XL7lL_1TKowbMlL9x5rNssshQMpWl7arXcVQDY_64HugHlu5DNy4c-n-ANOGZ5ZC3gQXzR5IRUgPA6WHWnj7qz5A8ULs4yxXPAFLgiNzV_qrqfNc6FXvcOzHUhKz5wqktnNGZbYuHBxj263rCuLyhXSAOwwC8SxTBpW0p0K7MOJv0aRzeR1ME8jlz-TLUtI8Vf6k0P56aPahzUu7TWzx5cnRv2k57UuKV3AR1LJv8UMo-ZxSLdSqXiWbWC6eQGQAqbuIMUecSuHdEbEH9WlokeZ29xY93Iin4pj565pvd5cLuRr8XJZu9n_EXH8JAyYqk-2b-fgWtdqdW9tGqTXejplCUpDrH-c8dqIstAQWflkiKByGJNcpW7ID9HD8JTjcY0bwIVt94TeaZRLGrHF1ztd8hGZekc7G-0rI1-7lel?></g></svg>",
  "architecture_description": "## High-level architecture\n\n### Runtime / serving path\n- **Clients (User/Browser)** call the application over HTTP.\n- The application is a **Java Servlet webapp packaged as a WAR** (`hello-1.0.war`) and deployed into **Apache Tomcat 9**.\n- Tomcat runs **inside a Docker container** on each target host and exposes **HTTP port 8080** on the VM/host.\n- The servlet provides an HTTP endpoint at **`/hello`** (Servlet API 3.1).\n\n### Environments / deployment targets\n- Two Ansible-managed target environments are represented:\n  - **dev01 VM** (development)\n  - **stage01 VM** (staging)\n- Each VM runs:\n  - **Docker Engine** (installed/configured by Ansible)\n  - A **running Tomcat container** created from the built image\n\n### Build & packaging pipeline\n- A **CI/Build host** performs:\n  - **Maven build** (using `maven-compiler-plugin` and `maven-war-plugin`) to produce the WAR.\n  - **Multi-stage Docker build** (Dockerfiles based on `alpine:3.16` and `tomcat:9.0.0.M10-jre8-alpine`) that bakes the WAR into a Tomcat-based container image.\n- The resulting **container image (Tomcat + WAR)** is then deployed/pulled onto the dev and stage hosts.\n\n### Automation / provisioning\n- **Ansible playbooks** (`playbook.yml`, `deploy/playbook.yml`) automate:\n  - Docker installation and configuration on target VMs\n  - Running the container and mapping/exposing **port 8080**\n- **Cloud-init style bootstrap** (`meta.yml`) represents initial VM/user-data provisioning steps before Ansible configuration.\n\n### Key relationships\n- User  (HTTP :8080)  Tomcat container  Java WAR servlet (`/hello`).\n- Maven  WAR  Docker build  container image.\n- Ansible  target VMs/Docker Engine  runs container from the built image.\n- Cloud-init/bootstrap  prepares VMs for subsequent configuration."
}