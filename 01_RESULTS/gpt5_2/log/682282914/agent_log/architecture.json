{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\n\ntitle Local S3 Versioning Demo (Flask + LocalStack)\n\nnode \"Developer Machine\" as dev {\n  node \"Docker Engine\" as docker {\n    frame \"Docker network: s3demo\" as net {\n      node \"Container: Flask App\" as app {\n        artifact \"Flask API\\nPython 3 + Flask 2.2.3\\nUses boto3 1.21.33\" as flask\n      }\n\n      node \"Container: LocalStack\" as ls {\n        artifact \"Local AWS Emulator\\nS3 API (S3-compatible)\" as localstack\n      }\n    }\n  }\n\n  artifact \"CLI Tools\\nawslocal / tflocal\\n(demo.sh)\" as cli\n}\n\ncloud \"S3-Compatible Object Storage\" as s3 {\n  database \"Bucket: versionedexample\\nObject Versioning Enabled\" as bucket\n}\n\ncli --> app : HTTP requests (demo)\napp --> ls : AWS SDK calls\\n(boto3 S3 client)\nls --> bucket : Stores objects + versions\n\nnote right of app\nFlask container started via Dockerfile\\n`flask run` (dev server)\nend note\n\nnote right of bucket\nApp uses VersionId in get_object\\nDemo script creates/reads versions\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"928px\" preserveAspectRatio=\"none\" style=\"width:672px;height:928px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 672 928\" width=\"672px\" zoomAndPan=\"magnify\"><title>Local S3 Versioning Demo (Flask + LocalStack)</title><defs/><g><g class=\"title\" data-source-line=\"7\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"371.1094\" x=\"143.5704\" y=\"22.9951\">Local S3 Versioning Demo (Flask + LocalStack)</text></g><!--cluster dev--><g class=\"cluster\" data-qualified-name=\"dev\" data-source-line=\"9\" id=\"ent0002\"><polygon fill=\"#FFFFFF\" points=\"16,53.2969,26,43.2969,434,43.2969,434,733.6769,424,743.6769,16,743.6769,16,53.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"424\" x2=\"434\" y1=\"53.2969\" y2=\"43.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"16\" x2=\"424\" y1=\"53.2969\" y2=\"53.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"424\" x2=\"424\" y1=\"53.2969\" y2=\"743.6769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"151.3545\" x=\"145.3228\" y=\"69.292\">Developer Machine</text></g><!--cluster docker--><g class=\"cluster\" data-qualified-name=\"dev.docker\" data-source-line=\"10\" id=\"ent0003\"><polygon fill=\"#FFFFFF\" points=\"40,226.1869,50,216.1869,410,216.1869,410,709.6769,400,719.6769,40,719.6769,40,226.1869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"400\" x2=\"410\" y1=\"226.1869\" y2=\"216.1869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"40\" x2=\"400\" y1=\"226.1869\" y2=\"226.1869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"400\" x2=\"400\" y1=\"226.1869\" y2=\"719.6769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.9346\" x=\"164.0327\" y=\"242.182\">Docker Engine</text></g><!--cluster net--><g class=\"cluster\" data-qualified-name=\"dev.docker.net\" data-source-line=\"11\" id=\"ent0004\"><rect fill=\"#FFFFFF\" height=\"431.49\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"322\" x=\"64\" y=\"264.1869\"/><path d=\"M271.3125,264.1869 L271.3125,273.4838 L261.3125,283.4838 L64,283.4838\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"197.3125\" x=\"67\" y=\"278.182\">Docker network: s3demo</text></g><!--cluster app--><g class=\"cluster\" data-qualified-name=\"dev.docker.net.app\" data-source-line=\"12\" id=\"ent0005\"><polygon fill=\"#FFFFFF\" points=\"96,325.1869,106,315.1869,352,315.1869,352,449.0769,342,459.0769,96,459.0769,96,325.1869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"342\" x2=\"352\" y1=\"325.1869\" y2=\"315.1869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"96\" x2=\"342\" y1=\"325.1869\" y2=\"325.1869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"342\" x2=\"342\" y1=\"325.1869\" y2=\"459.0769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"164.8418\" x=\"137.5791\" y=\"341.182\">Container: Flask App</text></g><!--cluster ls--><g class=\"cluster\" data-qualified-name=\"dev.docker.net.ls\" data-source-line=\"16\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"96,546.0769,106,536.0769,354,536.0769,354,653.6769,344,663.6769,96,663.6769,96,546.0769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"344\" x2=\"354\" y1=\"546.0769\" y2=\"536.0769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"96\" x2=\"344\" y1=\"546.0769\" y2=\"546.0769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"344\" x2=\"344\" y1=\"546.0769\" y2=\"663.6769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"172.5527\" x=\"134.7236\" y=\"562.072\">Container: LocalStack</text></g><!--cluster s3--><g class=\"cluster\" data-qualified-name=\"s3\" data-source-line=\"25\" id=\"ent0010\"><path d=\"M228.3552,812.7179 C233.6507,804.0025 239.5055,804.0455 244.5434,812.9545 C249.6913,804.4177 255.2899,805.89 260.5175,812.8725 C265.2071,806.0485 270.6511,805.047 276.0528,812.0739 C279.7578,802.9731 288.0998,802.7972 293.5486,810.2286 C297.765,803.1292 305.37,804.1941 309.0274,810.8574 C312.3649,803.0001 318.7837,801.4828 325.0604,807.4482 C330.6715,798.5803 337.4814,798.8421 342.6937,807.8418 C347.1993,801.9097 352.7261,802.2775 356.8193,808.328 C363.6929,800.0838 369.6729,802.0731 375.1109,809.9563 C380.5551,803.9576 386.7774,804.0965 390.0253,812.2679 C393.3807,804.5196 400.0982,804.2931 404.6946,811.0093 C409.4739,803.0788 418.009,803.8244 421.896,811.9644 C427.0966,806.8111 433.4343,806.6768 436.3654,814.4958 C445.022,803.9058 455.2854,808.6763 459,819.6769 C460.6089,818.741 461.6966,819.184 461.9075,821.1014 C474.5332,825.1678 475.6986,832.3203 467.2898,841.8446 C477.1268,847.127 478.1946,853.4038 470.6525,861.6386 C478.6845,871.0174 476.3096,877.0172 465.9621,882.2042 C473.9174,898.0837 470.7897,907.1857 452,909.2669 C453.8979,908.468 455.3797,909.787 455.1172,911.7263 C450.086,919.4568 443.1839,918.9671 437.9714,911.937 C433.2461,918.513 425.7783,918.0028 422.0757,910.7605 C418.6176,919.743 410.0675,921.4676 404.4411,912.9448 C399.3824,920.7005 392.3671,920.743 388.0378,912.2102 C383.8654,919.4704 379.3224,918.7244 374.8147,912.54 C370.0421,921.2047 363.4588,920.5356 358.0184,913.2428 C353.7441,919.5491 347.2765,919.5786 342.8055,913.4841 C336.4753,921.7621 330.4589,918.9005 326.2539,911.2726 C321.1711,918.4772 315.3923,918.0219 310.7417,910.8077 C305.8708,917.3162 298.9256,916.8504 294.5727,910.1724 C289.6488,920.181 282.7847,919.2165 276.6779,911.3571 C272.4959,918.738 266.5276,919.0026 261.4623,912.3122 C256.3408,919.7792 248.9568,917.4896 245.8914,910.15 C233.2332,921.0534 225.7691,916.2738 221,902.2669 C222.7744,902.0636 224.099,903.0539 223.2174,905.003 C211.454,901.1102 210.2778,891.2058 220.0579,884.0625 C207.9224,879.4946 208.3731,870.7787 216.9795,863.1565 C206.8709,854.7939 210.2252,847.6604 220.0979,842.2829 C209.426,829.6833 211.6726,818.0701 228,812.6769 C228.1254,812.5262 228.269,812.5297 228.3552,812.7179\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"238.6084\" x=\"220.6958\" y=\"830.672\">S3-Compatible Object Storage</text></g><!--entity cli--><g class=\"entity\" data-qualified-name=\"dev.cli\" data-source-line=\"22\" id=\"ent0009\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"146.6006\" x=\"208.7\" y=\"83.2969\"/><polygon fill=\"#FFFFFF\" points=\"338.3006,88.2969,338.3006,102.2969,350.3006,102.2969,350.3006,94.2969,344.3006,88.2969,338.3006,88.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"344.3006\" x2=\"344.3006\" y1=\"88.2969\" y2=\"94.2969\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"350.3006\" x2=\"344.3006\" y1=\"94.2969\" y2=\"94.2969\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"21.7041\" x=\"245.49\" y=\"109.292\">CLI</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"267.1941\" y=\"109.292\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.8662\" x=\"271.6443\" y=\"109.292\">Tools</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"59.9443\" x=\"218.7\" y=\"125.5889\">awslocal</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"278.6443\" y=\"125.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.7168\" x=\"283.0945\" y=\"125.5889\">/</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"287.8113\" y=\"125.5889\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"43.0391\" x=\"292.2615\" y=\"125.5889\">tflocal</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"71.2441\" x=\"241.3782\" y=\"141.8857\">(demo.sh)</text></g><!--entity flask--><g class=\"entity\" data-qualified-name=\"dev.docker.net.app.flask\" data-source-line=\"13\" id=\"ent0006\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"188.5117\" x=\"119.74\" y=\"363.1869\"/><polygon fill=\"#FFFFFF\" points=\"291.2517,368.1869,291.2517,382.1869,303.2517,382.1869,303.2517,374.1869,297.2517,368.1869,291.2517,368.1869\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"297.2517\" x2=\"297.2517\" y1=\"368.1869\" y2=\"374.1869\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"303.2517\" x2=\"297.2517\" y1=\"374.1869\" y2=\"374.1869\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"177.7351\" y=\"389.182\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"213.658\" y=\"389.182\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"218.1082\" y=\"389.182\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"48.5283\" x=\"129.74\" y=\"405.4789\">Python</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"178.2683\" y=\"405.4789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"8.9072\" x=\"182.7185\" y=\"405.4789\">3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"191.6257\" y=\"405.4789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"11.7305\" x=\"196.0759\" y=\"405.4789\">+</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"207.8064\" y=\"405.4789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.9229\" x=\"212.2566\" y=\"405.4789\">Flask</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"248.1795\" y=\"405.4789\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"35.6221\" x=\"252.6296\" y=\"405.4789\">2.2.3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"33.4482\" x=\"140.8963\" y=\"421.7757\">Uses</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"174.3445\" y=\"421.7757\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.4141\" x=\"178.7947\" y=\"421.7757\">boto3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"219.2088\" y=\"421.7757\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.4365\" x=\"223.6589\" y=\"421.7757\">1.21.33</text></g><!--entity localstack--><g class=\"entity\" data-qualified-name=\"dev.docker.net.ls.localstack\" data-source-line=\"17\" id=\"ent0008\"><rect fill=\"#FFFFFF\" height=\"55.5938\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"190.7471\" x=\"119.63\" y=\"584.0769\"/><polygon fill=\"#FFFFFF\" points=\"293.3771,589.0769,293.3771,603.0769,305.3771,603.0769,305.3771,595.0769,299.3771,589.0769,293.3771,589.0769\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"299.3771\" x2=\"299.3771\" y1=\"589.0769\" y2=\"595.0769\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"305.3771\" x2=\"299.3771\" y1=\"595.0769\" y2=\"595.0769\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.5313\" x=\"139.3165\" y=\"610.072\">Local</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"175.8478\" y=\"610.072\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"32.3066\" x=\"180.298\" y=\"610.072\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"212.6046\" y=\"610.072\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"63.6357\" x=\"217.0548\" y=\"610.072\">Emulator</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"17.7939\" x=\"129.63\" y=\"626.3689\">S3</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"147.4239\" y=\"626.3689\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"22.1484\" x=\"151.8741\" y=\"626.3689\">API</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"174.0226\" y=\"626.3689\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"111.9043\" x=\"178.4728\" y=\"626.3689\">(S3-compatible)</text></g><!--entity bucket--><g class=\"entity\" data-qualified-name=\"s3.bucket\" data-source-line=\"26\" id=\"ent0011\"><path d=\"M242.58,849.6769 C242.58,839.6769 345.9965,839.6769 345.9965,839.6769 C345.9965,839.6769 449.413,839.6769 449.413,849.6769 L449.413,891.2706 C449.413,901.2706 345.9965,901.2706 345.9965,901.2706 C345.9965,901.2706 242.58,901.2706 242.58,891.2706 L242.58,849.6769\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M242.58,849.6769 C242.58,859.6769 345.9965,859.6769 345.9965,859.6769 C345.9965,859.6769 449.413,859.6769 449.413,849.6769\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.1016\" x=\"252.58\" y=\"876.672\">Bucket:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"305.6816\" y=\"876.672\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"129.2813\" x=\"310.1318\" y=\"876.672\">versionedexample</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.5957\" x=\"253.3525\" y=\"892.9689\">Object</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"298.9482\" y=\"892.9689\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"74.2178\" x=\"303.3984\" y=\"892.9689\">Versioning</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"377.6161\" y=\"892.9689\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.5742\" x=\"382.0663\" y=\"892.9689\">Enabled</text></g><!--links--><g class=\"link\" data-entity-1=\"ent0009\" data-entity-2=\"ent0005\" data-link-type=\"dependency\" data-source-line=\"29\" id=\"lnk12\"><path d=\"M302.25,155.5269 C310.32,171.1769 318.9,190.1169 324,208.1869 C329.6775,228.2919 333.7719,250.005 336.7184,271.3172 C338.1917,281.9733 339.378,292.5291 340.3318,302.7336 C340.5703,305.2848 340.7942,307.8139 341.0044,310.3172 C341.1095,311.5688 341.2112,312.814 341.3096,314.0522 C341.3342,314.3618 340.89,308.6892 340.9142,308.9979\" fill=\"none\" id=\"cli-to-app\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"341.3828,314.9796,344.6676,305.6946,340.9923,309.9948,336.6921,306.3195,341.3828,314.9796\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.9199\" x=\"321\" y=\"197.3255\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"52.1309\" x=\"355.7344\" y=\"197.3255\">requests</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"43.3945\" x=\"411.6797\" y=\"197.3255\">(demo)</text></g><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"30\" id=\"lnk13\"><path d=\"M344.5592,459.1419 C344.5867,462.0406 344.6148,464.9978 344.6434,468.0017 C344.7575,480.0173 344.8787,492.7812 345,505.5444 C345.0606,511.9259 345.1213,518.3073 345.181,524.5948 C345.2109,527.7386 345.2405,530.8589 345.2698,533.9441 C345.2808,535.0994 345.2826,535.2916 345.2293,529.676\" fill=\"none\" id=\"app-to-ls\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"345.2863,535.6757,349.2006,526.6381,345.2388,530.6759,341.2009,526.7141,345.2863,535.6757\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.6914\" x=\"352.4629\" y=\"495.2155\">AWS</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.7266\" x=\"383.9688\" y=\"495.2155\">SDK</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"26.8711\" x=\"412.5098\" y=\"495.2155\">calls</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"92.0293\" x=\"346\" y=\"509.1843\">(boto3 S3 client)</text></g><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0011\" data-link-type=\"dependency\" data-source-line=\"31\" id=\"lnk14\"><path d=\"M346,664.2844 C346,702.0294 346,799.6119 346,833.2069\" fill=\"none\" id=\"ls-to-bucket\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"346,839.2069,350,830.2069,346,834.2069,342,830.2069,346,839.2069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"95.252\" x=\"347\" y=\"771.8155\">Stores objects + versions</text></g></g></svg>",
  "architecture_description": "## High-level architecture (local deployment)\n\n### Components\n- **Flask Web Application / API (Python)**\n  - Technology: Python 3, **Flask 2.2.3**, **boto3 1.21.33**\n  - Packaging/Runtime: **Docker container** built from `/Dockerfile` and started with `flask run`.\n  - Responsibility: Exposes HTTP endpoints and uses the AWS SDK (boto3) to interact with S3.\n\n- **LocalStack (local AWS emulator)**\n  - Technology: `localstack/localstack` Docker image (from `docker-compose.yml`).\n  - Responsibility: Provides an **S3-compatible API** endpoint for local development/testing.\n\n- **S3-compatible Object Storage (emulated)**\n  - Resource: **Bucket `versionedexample`** with **object versioning behavior** (implied by use of `VersionId` and demo workflow).\n  - Responsibility: Stores objects and their versions as exercised by the Flask app.\n\n- **Developer CLI tooling**\n  - Tools: `awslocal` / `tflocal` (installed via `install-dependencies.sh`, used by `demo.sh`).\n  - Responsibility: Drives the demo workflow (create bucket, enable versioning, upload objects, fetch versions) and sends HTTP requests to the Flask app.\n\n- **Docker network: `s3demo`**\n  - From `docker-compose.yml`.\n  - Responsibility: Provides container-to-container connectivity between the Flask app and LocalStack.\n\n### Key interactions / data flow\n1. **CLI tools** (demo script) send **HTTP requests** to the **Flask API**.\n2. The **Flask API** uses **boto3** to call the **S3 API** exposed by **LocalStack**.\n3. **LocalStack** persists objects into the emulated **S3 bucket `versionedexample`**, including **multiple object versions**.\n\nThis architecture represents a fully local, containerized development environment that emulates AWS S3 (including versioning semantics) without requiring real AWS resources."
}