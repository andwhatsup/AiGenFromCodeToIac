{"format_version":"1.2","terraform_version":"1.13.5","variables":{"config_path":{"value":"terraform.txt"}},"planned_values":{"root_module":{"resources":[{"address":"kubernetes_cron_job_v1.nextcloud-backup","mode":"managed","type":"kubernetes_cron_job_v1","name":"nextcloud-backup","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"nextcloud-backup","namespace":"default"}],"spec":[{"concurrency_policy":"Replace","failed_jobs_history_limit":5,"job_template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"namespace":null}],"spec":[{"active_deadline_seconds":null,"backoff_limit":2,"completions":1,"manual_selector":null,"parallelism":1,"pod_failure_policy":[],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"DB_USER","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"username","name":"nc-mariadb-secret","optional":null}]}]},{"name":"DB_PASS","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"password","name":"nc-mariadb-secret","optional":null}]}]},{"name":"DB_NAME","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"database","name":"nc-mariadb-secret","optional":null}]}]},{"name":"DB_HOST","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"dbhost","name":"nc-mariadb-secret","optional":null}]}]},{"name":"FTP_USER","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"username","name":"fritz-ftp-secret","optional":null}]}]},{"name":"FTP_PASS","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"password","name":"fritz-ftp-secret","optional":null}]}]},{"name":"FTP_HOST","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"host","name":"fritz-ftp-secret","optional":null}]}]}],"env_from":[],"image":"ghcr.io/tonlie/k8s-cron-nc-backup:main","image_pull_policy":"Always","lifecycle":[],"liveness_probe":[],"name":"nextcloud-backup-cron","port":[],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[{"mount_path":"/home/nextcloud","mount_propagation":"None","name":"nextcloud-pvc","read_only":false,"sub_path":null}],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"image_pull_secrets":[{"name":"container-reg"}],"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Never","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"nextcloud-pvc","nfs":[],"persistent_volume_claim":[{"claim_name":"nextcloud-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}],"ttl_seconds_after_finished":"10"}]}],"schedule":"5 3 * * *","starting_deadline_seconds":10,"successful_jobs_history_limit":10,"suspend":false,"timezone":"Etc/UTC"}],"timeouts":null},"sensitive_values":{"metadata":[{}],"spec":[{"job_template":[{"metadata":[{}],"spec":[{"pod_failure_policy":[],"selector":[],"template":[{"metadata":[{}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[{}],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}]}]}}]}},"resource_changes":[{"address":"kubernetes_cron_job_v1.nextcloud-backup","mode":"managed","type":"kubernetes_cron_job_v1","name":"nextcloud-backup","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"nextcloud-backup","namespace":"default"}],"spec":[{"concurrency_policy":"Replace","failed_jobs_history_limit":5,"job_template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"namespace":null}],"spec":[{"active_deadline_seconds":null,"backoff_limit":2,"completions":1,"manual_selector":null,"parallelism":1,"pod_failure_policy":[],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"DB_USER","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"username","name":"nc-mariadb-secret","optional":null}]}]},{"name":"DB_PASS","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"password","name":"nc-mariadb-secret","optional":null}]}]},{"name":"DB_NAME","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"database","name":"nc-mariadb-secret","optional":null}]}]},{"name":"DB_HOST","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"dbhost","name":"nc-mariadb-secret","optional":null}]}]},{"name":"FTP_USER","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"username","name":"fritz-ftp-secret","optional":null}]}]},{"name":"FTP_PASS","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"password","name":"fritz-ftp-secret","optional":null}]}]},{"name":"FTP_HOST","value":null,"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{"key":"host","name":"fritz-ftp-secret","optional":null}]}]}],"env_from":[],"image":"ghcr.io/tonlie/k8s-cron-nc-backup:main","image_pull_policy":"Always","lifecycle":[],"liveness_probe":[],"name":"nextcloud-backup-cron","port":[],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[{"mount_path":"/home/nextcloud","mount_propagation":"None","name":"nextcloud-pvc","read_only":false,"sub_path":null}],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"image_pull_secrets":[{"name":"container-reg"}],"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Never","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"nextcloud-pvc","nfs":[],"persistent_volume_claim":[{"claim_name":"nextcloud-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}],"ttl_seconds_after_finished":"10"}]}],"schedule":"5 3 * * *","starting_deadline_seconds":10,"successful_jobs_history_limit":10,"suspend":false,"timezone":"Etc/UTC"}],"timeouts":null},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"job_template":[{"metadata":[{"generation":true,"name":true,"resource_version":true,"uid":true}],"spec":[{"completion_mode":true,"pod_failure_policy":[],"selector":true,"template":[{"metadata":[{"generation":true,"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":[{}],"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"job_template":[{"metadata":[{}],"spec":[{"pod_failure_policy":[],"selector":[],"template":[{"metadata":[{}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]},{"value_from":[{"config_map_key_ref":[],"field_ref":[],"resource_field_ref":[],"secret_key_ref":[{}]}]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[{}],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}]}]}}}],"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","expressions":{"access_key":{"constant_value":"mock"},"endpoints":[{"apigateway":{"constant_value":"http://localhost:4566"},"apigatewayv2":{"constant_value":"http://localhost:4566"},"cloudwatch":{"constant_value":"http://localhost:4566"},"cloudwatchevents":{"constant_value":"http://localhost:4566"},"dynamodb":{"constant_value":"http://localhost:4566"},"ec2":{"constant_value":"http://localhost:4566"},"ecr":{"constant_value":"http://localhost:4566"},"ecrpublic":{"constant_value":"http://localhost:4566"},"ecs":{"constant_value":"http://localhost:4566"},"efs":{"constant_value":"http://localhost:4566"},"iam":{"constant_value":"http://localhost:4566"},"kinesis":{"constant_value":"http://localhost:4566"},"kms":{"constant_value":"http://localhost:4566"},"lambda":{"constant_value":"http://localhost:4566"},"logs":{"constant_value":"http://localhost:4566"},"route53":{"constant_value":"http://localhost:4566"},"s3":{"constant_value":"http://localhost:4566"},"s3control":{"constant_value":"http://localhost:4566"},"secretsmanager":{"constant_value":"http://localhost:4566"},"sns":{"constant_value":"http://localhost:4566"},"sqs":{"constant_value":"http://localhost:4566"},"ssm":{"constant_value":"http://localhost:4566"},"sts":{"constant_value":"http://localhost:4566"}}],"region":{"constant_value":"us-east-1"},"s3_use_path_style":{"constant_value":true},"secret_key":{"constant_value":"mock"},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_region_validation":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}},"kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","version_constraint":"2.32.0","expressions":{"config_path":{"references":["var.config_path"]}}}},"root_module":{"resources":[{"address":"kubernetes_cron_job_v1.nextcloud-backup","mode":"managed","type":"kubernetes_cron_job_v1","name":"nextcloud-backup","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"nextcloud-backup"}}],"spec":[{"concurrency_policy":{"constant_value":"Replace"},"failed_jobs_history_limit":{"constant_value":5},"job_template":[{"metadata":[{}],"spec":[{"backoff_limit":{"constant_value":2},"template":[{"metadata":[{}],"spec":[{"container":[{"env":[{"name":{"constant_value":"DB_USER"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"username"},"name":{"constant_value":"nc-mariadb-secret"}}]}]},{"name":{"constant_value":"DB_PASS"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"password"},"name":{"constant_value":"nc-mariadb-secret"}}]}]},{"name":{"constant_value":"DB_NAME"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"database"},"name":{"constant_value":"nc-mariadb-secret"}}]}]},{"name":{"constant_value":"DB_HOST"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"dbhost"},"name":{"constant_value":"nc-mariadb-secret"}}]}]},{"name":{"constant_value":"FTP_USER"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"username"},"name":{"constant_value":"fritz-ftp-secret"}}]}]},{"name":{"constant_value":"FTP_PASS"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"password"},"name":{"constant_value":"fritz-ftp-secret"}}]}]},{"name":{"constant_value":"FTP_HOST"},"value_from":[{"secret_key_ref":[{"key":{"constant_value":"host"},"name":{"constant_value":"fritz-ftp-secret"}}]}]}],"image":{"constant_value":"ghcr.io/tonlie/k8s-cron-nc-backup:main"},"image_pull_policy":{"constant_value":"Always"},"name":{"constant_value":"nextcloud-backup-cron"},"volume_mount":[{"mount_path":{"constant_value":"/home/nextcloud"},"name":{"constant_value":"nextcloud-pvc"}}]}],"image_pull_secrets":[{"name":{"constant_value":"container-reg"}}],"volume":[{"name":{"constant_value":"nextcloud-pvc"},"persistent_volume_claim":[{"claim_name":{"constant_value":"nextcloud-pvc"}}]}]}]}],"ttl_seconds_after_finished":{"constant_value":10}}]}],"schedule":{"constant_value":"5 3 * * *"},"starting_deadline_seconds":{"constant_value":10},"successful_jobs_history_limit":{"constant_value":10},"timezone":{"constant_value":"Etc/UTC"}}]},"schema_version":0}],"variables":{"config_path":{}}}},"timestamp":"2026-01-27T05:08:19Z","applyable":true,"complete":true,"errored":false}
