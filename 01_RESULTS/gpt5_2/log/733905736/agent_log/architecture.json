{
  "plantuml_diagram": "@startuml\n!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist\n!include AWSPuml/AWSCommon.puml\n\nskinparam shadowing false\nskinparam componentStyle rectangle\nskinparam wrapWidth 220\nskinparam maxMessageSize 120\n\ntitle SonarQube (Docker) + External DB + GitHub Actions (SSH + Terraform)\n\nactor \"Developer\" as dev\ncloud \"GitHub\" as github {\n  node \"GitHub Actions Runner\" as gha {\n    artifact \"Workflow: ssh-terraform.yml\" as wf\n  }\n}\n\nnode \"Remote Deploy Host\\n(Linux VM/Bare Metal)\" as deploy {\n  node \"Docker Engine\" as docker {\n    node \"SonarQube Container\\nsonarqube:10.4.1-community\\nHTTP :9000\" as sq\n  }\n  database \"PostgreSQL\\n(SonarQube DB)\" as pg\n  storage \"S3-Compatible Object Storage\\n(MinIO)\\nTerraform State Backend\" as minio\n  artifact \"Custom CA Certificates\\n(imported into JVM cacerts via keytool)\" as ca\n}\n\nnode \"User Workstations\" as users {\n  component \"Browser\" as browser\n}\n\ndev --> github : Push/PR\nwf ..> gha : triggers\n\ngha --> deploy : SSH (secrets)\\nrun Terraform\n\ngha --> minio : Terraform backend\\nread/write state\n\ndeploy --> docker : docker compose/run\n\ndocker --> pg : JDBC (SonarQube)\n\nbrowser --> sq : HTTPS/HTTP\\n:9000\n\nca ..> sq : Truststore overlay\\n(custom CAs)\n\nnote right of sq\nConfig via sonar.properties\n(e.g., DB URL/creds, web settings)\nend note\n\n@enduml",
  "svg_diagram": "<?plantuml 1.2026.2beta1?><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" contentStyleType=\"text/css\" data-diagram-type=\"DESCRIPTION\" height=\"1077px\" preserveAspectRatio=\"none\" style=\"width:954px;height:1077px;background:#FFFFFF;\" version=\"1.1\" viewBox=\"0 0 954 1077\" width=\"954px\" zoomAndPan=\"magnify\"><title>SonarQube (Docker) + External DB + GitHub Actions (SSH + Terraform)</title><defs/><g><g class=\"title\" data-source-line=\"9\"><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"564.9834\" x=\"187.9709\" y=\"22.9951\">SonarQube (Docker) + External DB + GitHub Actions (SSH + Terraform)</text></g><!--cluster github--><g class=\"cluster\" data-qualified-name=\"github\" data-source-line=\"12\" id=\"ent0003\"><path d=\"M33.1252,198.6935 C40.7566,184.0971 50.0488,184.2028 59.179,197.2826 C67.1638,186.7459 77.5264,184.9912 85.0845,197.7569 C91.7695,188.2489 100.745,188.3148 105.9451,199.2706 C112.0961,186.5037 123.8725,184.9401 133.2656,195.4683 C141.0804,186.7026 147.2467,186.7147 153.506,197.1113 C161.8268,185.7313 170.6205,185.4365 178.9602,197.0904 C185.5557,184.7118 195.52,186.2465 203.4006,195.6483 C212.6274,182.677 222.3164,184.6571 229.1687,197.9757 C236.4057,187.4212 246.0169,187.2425 252.8945,198.369 C257.8879,186.7661 265.2265,185.2288 273.67,195.0184 C281.7788,181.7276 294.3699,182.7253 300.2655,197.1426 C306.426,187.2453 317.3845,185.9095 322.6023,198.0961 C329.0082,185.6277 340.8218,189.1323 346.4797,198.8993 C356.6733,186.009 370.1326,190.5448 375.9252,203.8469 C377.0222,203.1826 378.06,203.4835 378.2135,204.8896 C392.1171,211.1209 392.7253,224.089 379.0192,231.1669 C392.73,238.6313 393.1679,246.3003 381.4739,256.2508 C393.0266,262.5715 392.373,272.1574 383.2648,280.0338 C394.2967,285.2143 393.476,295.1462 385.083,301.9391 C397.5781,306.5128 399.4693,316.2672 389.7784,325.3002 C400.0621,334.5522 398.5343,341.7373 386.6287,347.8963 C397.5507,356.7383 397.0244,368.2328 384.2294,374.9732 C395.3112,381.1387 395.1791,390.9201 384.2012,397.0574 C394.2477,405.0481 392.8376,415.8191 381.7832,421.7429 C393.0941,437.7029 386.6432,447.7173 368.9252,450.8569 C371.0686,449.6421 373.0406,450.6671 372.8369,453.265 C364.6731,464.3811 353.0234,465.204 346.0775,451.9289 C342.1482,463.3841 332.0653,466.5768 323.9805,456.1194 C316.6671,466.1659 305.3824,465.7955 298.9143,455.0981 C289.6353,467.1333 281.6672,464.3275 273.8852,453.4619 C268.4888,463.4645 260.7901,464.3987 252.6086,456.8352 C245.3632,467.5809 234.9627,468.0659 228.8702,455.6534 C220.5351,469.2748 211.9968,469.6759 201.9715,457.4097 C192.4505,466.1704 184.716,465.6764 178.8706,453.3777 C172.982,464.6445 163.0611,465.4897 155.1278,455.6811 C148.2895,466.0723 136.6916,466.7885 131.8734,453.6819 C125.9003,465.1005 115.963,467.2059 108.0219,455.7322 C100.6764,467.6946 87.651,466.0055 81.7228,454.1661 C74.5644,465.059 63.5581,465.9498 57.8948,452.691 C44.2692,464.464 31.1536,462.4721 25.9252,443.8569 C26.989,442.8512 28.1627,443.148 28.5676,444.5731 C18.2088,437.8766 17.4037,427.8003 27.5181,420.2214 C17.9519,415.276 16.2283,409.1308 22.8622,400.3833 C9.1349,392.2435 8.5112,384.1044 21.9375,374.9764 C7.7253,368.7132 9.4947,359.6464 19.0498,350.5709 C6,344.0294 6.3748,333.2999 16.2699,324.3278 C7.9683,315.8161 7.622,307.5312 19.5192,301.9528 C7.9618,292.2596 8.5463,284.4019 21.7802,276.9507 C12.5048,268.8591 13.3202,258.2252 24.5003,252.4 C14.1195,246.1512 15.9949,237.7083 24.3847,231.3564 C11.4817,217.2605 16.2235,203.616 32.9252,196.8469 C33.8564,197.3196 33.9257,198.0333 33.1252,198.6935\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"54.6875\" x=\"173.5815\" y=\"214.842\">GitHub</text></g><!--cluster gha--><g class=\"cluster\" data-qualified-name=\"github.gha\" data-source-line=\"13\" id=\"ent0004\"><polygon fill=\"#FFFFFF\" points=\"57.9252,257.8469,67.9252,247.8469,335.9252,247.8469,335.9252,408.8569,325.9252,418.8569,57.9252,418.8569,57.9252,257.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"325.9252\" x2=\"335.9252\" y1=\"257.8469\" y2=\"247.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"57.9252\" x2=\"325.9252\" y1=\"257.8469\" y2=\"257.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"325.9252\" x2=\"325.9252\" y1=\"257.8469\" y2=\"418.8569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"180.0586\" x=\"102.8959\" y=\"273.842\">GitHub Actions Runner</text></g><!--cluster deploy--><g class=\"cluster\" data-qualified-name=\"deploy\" data-source-line=\"18\" id=\"ent0006\"><polygon fill=\"#FFFFFF\" points=\"106.9252,545.8569,116.9252,535.8569,683.9252,535.8569,683.9252,1050.2369,673.9252,1060.2369,106.9252,1060.2369,106.9252,545.8569\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"673.9252\" x2=\"683.9252\" y1=\"545.8569\" y2=\"535.8569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"106.9252\" x2=\"673.9252\" y1=\"545.8569\" y2=\"545.8569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"673.9252\" x2=\"673.9252\" y1=\"545.8569\" y2=\"1060.2369\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"161.458\" x=\"310.6962\" y=\"561.852\">Remote Deploy Host</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"175.9912\" x=\"303.4296\" y=\"578.1489\">(Linux VM/Bare Metal)</text></g><!--cluster docker--><g class=\"cluster\" data-qualified-name=\"deploy.docker\" data-source-line=\"19\" id=\"ent0007\"><polygon fill=\"#FFFFFF\" points=\"328.9252,764.7569,338.9252,754.7569,643.9252,754.7569,643.9252,895.6469,633.9252,905.6469,328.9252,905.6469,328.9252,764.7569\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"633.9252\" x2=\"643.9252\" y1=\"764.7569\" y2=\"754.7569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"328.9252\" x2=\"633.9252\" y1=\"764.7569\" y2=\"764.7569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"633.9252\" x2=\"633.9252\" y1=\"764.7569\" y2=\"905.6469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"113.9346\" x=\"425.458\" y=\"780.752\">Docker Engine</text></g><!--cluster users--><g class=\"cluster\" data-qualified-name=\"users\" data-source-line=\"27\" id=\"ent0012\"><polygon fill=\"#FFFFFF\" points=\"715.9252,587.6569,725.9252,577.6569,937.9252,577.6569,937.9252,659.9569,927.9252,669.9569,715.9252,669.9569,715.9252,587.6569\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"927.9252\" x2=\"937.9252\" y1=\"587.6569\" y2=\"577.6569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"715.9252\" x2=\"927.9252\" y1=\"587.6569\" y2=\"587.6569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"927.9252\" x2=\"927.9252\" y1=\"587.6569\" y2=\"669.9569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" font-weight=\"bold\" lengthAdjust=\"spacing\" textLength=\"146.1318\" x=\"749.8593\" y=\"603.652\">User Workstations</text></g><!--entity wf--><g class=\"entity\" data-qualified-name=\"github.gha.wf\" data-source-line=\"14\" id=\"ent0005\"><rect fill=\"#FFFFFF\" height=\"39.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"230.1289\" x=\"81.8652\" y=\"295.8469\"/><polygon fill=\"#FFFFFF\" points=\"294.9941,300.8469,294.9941,314.8469,306.9941,314.8469,306.9941,306.8469,300.9941,300.8469,294.9941,300.8469\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"300.9941\" x2=\"300.9941\" y1=\"300.8469\" y2=\"306.8469\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"306.9941\" x2=\"300.9941\" y1=\"306.8469\" y2=\"306.8469\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.8223\" x=\"91.8652\" y=\"321.842\">Workflow:</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"161.6875\" y=\"321.842\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"125.8564\" x=\"166.1377\" y=\"321.842\">ssh-terraform.yml</text></g><!--entity pg--><g class=\"entity\" data-qualified-name=\"deploy.pg\" data-source-line=\"22\" id=\"ent0009\"><path d=\"M270.0152,984.6469 C270.0152,974.6469 336.921,974.6469 336.921,974.6469 C336.921,974.6469 403.8268,974.6469 403.8268,984.6469 L403.8268,1026.2406 C403.8268,1036.2406 336.921,1036.2406 336.921,1036.2406 C336.921,1036.2406 270.0152,1036.2406 270.0152,1026.2406 L270.0152,984.6469\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M270.0152,984.6469 C270.0152,994.6469 336.921,994.6469 336.921,994.6469 C336.921,994.6469 403.8268,994.6469 403.8268,984.6469\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.7529\" x=\"296.5445\" y=\"1011.642\">PostgreSQL</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"83.5146\" x=\"280.0152\" y=\"1027.9389\">(SonarQube</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"363.5299\" y=\"1027.9389\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.8467\" x=\"367.9801\" y=\"1027.9389\">DB)</text></g><!--entity minio--><g class=\"entity\" data-qualified-name=\"deploy.minio\" data-source-line=\"23\" id=\"ent0010\"><rect fill=\"#FFFFFF\" height=\"68.8906\" rx=\"35\" ry=\"35\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"232.3311\" x=\"150.7552\" y=\"601.3569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"103.0586\" x=\"160.7552\" y=\"624.352\">S3-Compatible</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"263.8138\" y=\"624.352\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"45.5957\" x=\"268.264\" y=\"624.352\">Object</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"313.8597\" y=\"624.352\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"54.7764\" x=\"318.3099\" y=\"624.352\">Storage</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"50.9141\" x=\"241.4637\" y=\"640.6489\">(MinIO)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"70.1436\" x=\"178.6893\" y=\"656.9457\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"248.8329\" y=\"656.9457\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"37.0576\" x=\"253.2831\" y=\"656.9457\">State</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"290.3407\" y=\"656.9457\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"60.3613\" x=\"294.7909\" y=\"656.9457\">Backend</text></g><!--entity ca--><g class=\"entity\" data-qualified-name=\"deploy.ca\" data-source-line=\"24\" id=\"ent0011\"><rect fill=\"#FFFFFF\" height=\"71.8906\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"241.4697\" x=\"418.1952\" y=\"599.8569\"/><polygon fill=\"#FFFFFF\" points=\"642.665,604.8569,642.665,618.8569,654.665,618.8569,654.665,610.8569,648.665,604.8569,642.665,604.8569\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"648.665\" x2=\"648.665\" y1=\"604.8569\" y2=\"610.8569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"654.665\" x2=\"648.665\" y1=\"610.8569\" y2=\"610.8569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"53.6348\" x=\"452.9789\" y=\"625.852\">Custom</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"506.6137\" y=\"625.852\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"19.3525\" x=\"511.0639\" y=\"625.852\">CA</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"530.4164\" y=\"625.852\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"80.0146\" x=\"534.8666\" y=\"625.852\">Certificates</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"69.1865\" x=\"428.1952\" y=\"642.1489\">(imported</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"497.3818\" y=\"642.1489\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"26.8174\" x=\"501.832\" y=\"642.1489\">into</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"528.6493\" y=\"642.1489\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"25.7852\" x=\"533.0995\" y=\"642.1489\">JVM</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"558.8847\" y=\"642.1489\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"51.126\" x=\"563.3349\" y=\"642.1489\">cacerts</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"614.4609\" y=\"642.1489\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"20.7539\" x=\"618.9111\" y=\"642.1489\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"56.9775\" x=\"505.4413\" y=\"658.4457\">keytool)</text></g><!--entity sq--><g class=\"entity\" data-qualified-name=\"deploy.docker.sq\" data-source-line=\"20\" id=\"ent0008\"><polygon fill=\"#FFFFFF\" points=\"372.1352,812.7569,382.1352,802.7569,619.7085,802.7569,619.7085,871.6475,609.7085,881.6475,372.1352,881.6475,372.1352,812.7569\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"609.7085\" x2=\"619.7085\" y1=\"812.7569\" y2=\"802.7569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"372.1352\" x2=\"609.7085\" y1=\"812.7569\" y2=\"812.7569\"/><line style=\"stroke:#7D8998;stroke-width:1.25;\" x1=\"609.7085\" x2=\"609.7085\" y1=\"812.7569\" y2=\"881.6475\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"78.0527\" x=\"415.4634\" y=\"835.752\">SonarQube</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"493.5161\" y=\"835.752\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"68.4141\" x=\"497.9663\" y=\"835.752\">Container</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"207.5732\" x=\"387.1352\" y=\"852.0489\">sonarqube:10.4.1-community</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"36.0732\" x=\"450.4873\" y=\"868.3457\">HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"4.4502\" x=\"486.5605\" y=\"868.3457\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"40.3457\" x=\"491.0107\" y=\"868.3457\">:9000</text></g><!--entity browser--><g class=\"entity\" data-qualified-name=\"users.browser\" data-source-line=\"28\" id=\"ent0013\"><rect fill=\"#FFFFFF\" height=\"36.2969\" style=\"stroke:#7D8998;stroke-width:1.25;\" width=\"77.0391\" x=\"732.4052\" y=\"617.6569\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"57.0391\" x=\"742.4052\" y=\"640.652\">Browser</text></g><!--entity dev--><g class=\"entity\" data-qualified-name=\"dev\" data-source-line=\"11\" id=\"ent0002\"><ellipse cx=\"375.9267\" cy=\"51.2969\" fill=\"#FFFFFF\" rx=\"8\" ry=\"8\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M375.9267,59.2969 L375.9267,86.2969 M362.9267,67.2969 L388.9267,67.2969 M375.9267,86.2969 L362.9267,101.2969 M375.9267,86.2969 L388.9267,101.2969\" fill=\"none\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"14\" lengthAdjust=\"spacing\" textLength=\"72.0029\" x=\"339.9252\" y=\"116.542\">Developer</text></g><g class=\"entity\" data-qualified-name=\"GMN22\" data-source-line=\"47\" id=\"ent0023\"><path d=\"M708.2852,814.4969 L708.2852,838.1969 L620.1452,842.1969 L708.2852,846.1969 L708.2852,869.8953 A0,0 0 0 0 708.2852,869.8953 L905.566,869.8953 A0,0 0 0 0 905.566,869.8953 L905.566,824.4969 L895.566,814.4969 L708.2852,814.4969 A0,0 0 0 0 708.2852,814.4969\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><path d=\"M895.566,814.4969 L895.566,824.4969 L905.566,824.4969 L895.566,814.4969\" fill=\"#FFFFFF\" style=\"stroke:#7D8998;stroke-width:1.25;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"41.7104\" x=\"714.2852\" y=\"831.5638\">Config</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"755.9957\" y=\"831.5638\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"19.2715\" x=\"760.128\" y=\"831.5638\">via</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"779.3995\" y=\"831.5638\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"107.0342\" x=\"783.5318\" y=\"831.5638\">sonar.properties</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"33.7188\" x=\"721.5533\" y=\"846.6966\">(e.g.,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"755.2721\" y=\"846.6966\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"18.9287\" x=\"759.4044\" y=\"846.6966\">DB</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"778.3331\" y=\"846.6966\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"69.8179\" x=\"782.4654\" y=\"846.6966\">URL/creds,</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"4.1323\" x=\"852.2833\" y=\"846.6966\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"26.8823\" x=\"856.4156\" y=\"846.6966\">web</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"13\" lengthAdjust=\"spacing\" textLength=\"56.9131\" x=\"773.9691\" y=\"861.8294\">settings)</text></g><!--link dev to github--><g class=\"link\" data-entity-1=\"ent0002\" data-entity-2=\"ent0003\" data-link-type=\"dependency\" data-source-line=\"31\" id=\"lnk14\"><path d=\"M375.9252,120.0869 C375.9252,136.3219 375.9252,156.34 375.9252,177.2959 C375.9252,179.9154 375.9252,182.5496 375.9252,185.1928 C375.9252,185.8536 375.9252,186.515 375.9252,187.1769 C375.9252,187.5078 375.9252,181.8388 375.9252,182.17\" fill=\"none\" id=\"dev-to-github\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"375.9252,188.17,379.9252,179.17,375.9252,183.17,371.9252,179.17,375.9252,188.17\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.3164\" x=\"376.9252\" y=\"161.9855\">Push/PR</text></g><!--link wf to gha--><g class=\"link\" data-entity-1=\"ent0005\" data-entity-2=\"ent0004\" data-link-type=\"dependency\" data-source-line=\"32\" id=\"lnk15\"><path d=\"M196.9252,335.4469 C196.9252,361.9569 196.9252,401.2069 196.9252,404.0069\" fill=\"none\" id=\"wf-to-gha\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"196.9252,410.0069,200.9252,401.0069,196.9252,405.0069,192.9252,401.0069,196.9252,410.0069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"46.7754\" x=\"197.9252\" y=\"377.2755\">triggers</text></g><!--link gha to deploy--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0006\" data-link-type=\"dependency\" data-source-line=\"34\" id=\"lnk16\"><path d=\"M185.816,418.8968 C185.7292,418.9583 185.6421,419.0202 185.5546,419.0824 C185.3797,419.2068 185.2032,419.3327 185.0252,419.46 C184.3133,419.969 183.5778,420.5004 182.8209,421.0535 C181.3071,422.1599 179.7079,423.3533 178.0422,424.6291 C174.7109,427.1808 171.1134,430.0619 167.4002,433.2344 C152.5477,445.9244 135.8452,463.2769 126.9252,482.8569 C120.0177,498.0294 115.7834,514.9369 113.3248,531.8064 C113.1711,532.8608 113.0244,533.9149 112.8844,534.9686 C112.8494,535.232 113.5868,529.5452 113.5526,529.8085\" fill=\"none\" id=\"gha-to-deploy\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"112.7806,535.7587,117.9054,527.3481,113.424,530.8002,109.9719,526.3188,112.7806,535.7587\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"24.2578\" x=\"129.4955\" y=\"494.9955\">SSH</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"153.7534\" y=\"494.9955\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"52.8691\" x=\"157.5678\" y=\"494.9955\">(secrets)</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"20.1445\" x=\"127.9252\" y=\"508.9643\">run</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"148.0698\" y=\"508.9643\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.123\" x=\"151.8842\" y=\"508.9643\">Terraform</text></g><!--link gha to minio--><g class=\"link\" data-entity-1=\"ent0004\" data-entity-2=\"ent0010\" data-link-type=\"dependency\" data-source-line=\"36\" id=\"lnk17\"><path d=\"M199.528,418.9927 C199.5742,419.1264 199.621,419.2617 199.6684,419.3984 C201.1827,423.7756 203.2277,429.7131 205.5552,436.5419 C210.2102,450.1994 215.9952,467.4219 220.9252,482.8569 C233.8452,523.2969 246.1643,564.313 255.2843,595.163\" fill=\"none\" id=\"gha-to-minio\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"256.9852,600.9169,258.2697,591.1521,255.5678,596.122,250.5979,593.4201,256.9852,600.9169\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"60.123\" x=\"231.9252\" y=\"494.9955\">Terraform</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"292.0483\" y=\"494.9955\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"51.123\" x=\"295.8627\" y=\"494.9955\">backend</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"61.5\" x=\"241.5991\" y=\"508.9643\">read/write</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"303.0991\" y=\"508.9643\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"30.3984\" x=\"306.9135\" y=\"508.9643\">state</text></g><!--link deploy to docker--><g class=\"link\" data-entity-1=\"ent0006\" data-entity-2=\"ent0007\" data-link-type=\"dependency\" data-source-line=\"38\" id=\"lnk18\"><path d=\"M114.9452,636.8469 C115.6652,638.6669 138.9152,697.1369 173.9252,730.7569 C204.9952,760.5819 244.9677,787.8019 277.5527,807.7556 C293.8452,817.7325 308.2909,825.8928 318.8534,831.6539 C321.494,833.0942 323.8919,834.3845 326.0153,835.5158 C326.5462,835.7986 327.0599,836.0715 327.5559,836.3343 C327.804,836.4657 328.0476,836.5945 328.2867,836.7209 C328.4063,836.784 323.218,834.0468 323.3353,834.1087\" fill=\"none\" id=\"deploy-to-docker\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"328.642,836.9085,322.5484,829.171,324.2198,834.5753,318.8154,836.2466,328.642,836.9085\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"40.8223\" x=\"193.7192\" y=\"713.8955\">docker</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"78.4102\" x=\"174.9252\" y=\"727.8643\">compose/run</text></g><!--link docker to pg--><g class=\"link\" data-entity-1=\"ent0007\" data-entity-2=\"ent0009\" data-link-type=\"dependency\" data-source-line=\"40\" id=\"lnk19\"><path d=\"M336.9252,905.7362 C336.9252,906.6072 336.9252,907.4812 336.9252,908.3577 C336.9252,910.1107 336.9252,911.8739 336.9252,913.6437 C336.9252,920.723 336.9252,927.9087 336.9252,934.9777 C336.9252,949.1156 336.9252,956.7869 336.9252,968.2069\" fill=\"none\" id=\"docker-to-pg\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"336.9252,974.2069,340.9252,965.2069,336.9252,969.2069,332.9252,965.2069,336.9252,974.2069\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"29.3906\" x=\"337.9252\" y=\"941.7855\">JDBC</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"367.3159\" y=\"941.7855\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"76.2656\" x=\"371.1303\" y=\"941.7855\">(SonarQube)</text></g><!--link browser to sq--><g class=\"link\" data-entity-1=\"ent0013\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"42\" id=\"lnk20\"><path d=\"M755.5152,654.3069 C737.5452,674.1569 706.4052,706.8469 675.9252,730.7569 C642.1752,757.2269 606.8666,779.5586 572.8366,799.2786\" fill=\"none\" id=\"browser-to-sq\" style=\"stroke:#000000;stroke-width:2;\"/><polygon fill=\"#000000\" points=\"567.6452,802.2869,577.4378,801.2353,571.9714,799.7799,573.4267,794.3135,567.6452,802.2869\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"73.5\" x=\"709.9252\" y=\"713.8955\">HTTPS/HTTP</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"34.582\" x=\"729.3842\" y=\"727.8643\">:9000</text></g><!--link ca to sq--><g class=\"link\" data-entity-1=\"ent0011\" data-entity-2=\"ent0008\" data-link-type=\"dependency\" data-source-line=\"44\" id=\"lnk21\"><path d=\"M531.5352,671.9469 C523.8952,708.2369 513.2516,758.8656 505.3316,796.4756\" fill=\"none\" id=\"ca-to-sq\" style=\"stroke:#000000;stroke-width:2;stroke-dasharray:7,7;\"/><polygon fill=\"#000000\" points=\"504.0952,802.3469,509.864,794.3643,505.1256,797.4542,502.0356,792.7158,504.0952,802.3469\" style=\"stroke:#000000;stroke-width:2;\"/><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"61.4414\" x=\"525.9252\" y=\"713.8955\">Truststore</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"587.3666\" y=\"713.8955\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"44.5488\" x=\"591.1811\" y=\"713.8955\">overlay</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"48.873\" x=\"540.7231\" y=\"727.8643\">(custom</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"3.8145\" x=\"589.5961\" y=\"727.8643\">&#160;</text><text fill=\"#000000\" font-family=\"sans-serif\" font-size=\"12\" lengthAdjust=\"spacing\" textLength=\"27.5215\" x=\"593.4106\" y=\"727.8643\">CAs)</text></g><?plantuml-src NLJ1Sjj63BtlLo0wITE8bDrUgaDcB2bJDsDD5DE9Bxg094XjJUxIkw1efPD_BtOfMvvUH19u-m0ylDM7aYfj26uUirtVDd1WxlmoJHqEIQtvqEUz9rTOmsGuAMoRuk0Rp7ruphKa_BooRjurQ5W8qkFr8bcafVQiFcXJD7tvHfxASstRrfgaaq-b_9Cs7JfimH-mj8CsDLJOU7gNaPATDL8yurD3uAXWD7Np7Z8ux1vroGUulbwyYxVuiYNliQPC_oIuagHYpSAIMOFkMvyJJ3UsU28tWz_WymkJCzZ0PYLVVsc-xNEuALZBZ33Dibk9Ff1pAFEsCwMmOEjWig4ZDROZDm7qKD9H5OtjIvYC334wAWd_AW1ZHP39_zZlUsFE1FK18mu07UjAYi3aqRgdgh734hm_pFcrX-JKDl7CKCc1N-gNKYFxFRMM2JRKDVO4jzRptapljEbVuCSsNQ4Zs19ZCpkt766NvaP9uBEfnHaZP8oCVOsWYuHhCGSAqksD3y5d2Iwl5iaVoTLSjjVsHlDfRsuV7dQm_7EnM4HA_nnx1YYHCKSlb3jfj7QKVRkJTY_yczNOPrSBselcib2f__jSlDGXwrmM-ZN_Hum1sPYLurjj_luwsvktXKaEHPCLoYIcZ8IjDjggzqAlU-5lONq3Qmf1NSWPBtHQJEYOIj26BNpviOK22u5uE6g49pgnjMSv2xmiuhlS7GZRyr8yR3eYmetoKSmtSyDavUpWpnx8n_V08tw2-VpJguEMiElz8TtTgw629FaKxR84ThgkXLIfy1tmvwKk8VXswgbmn5xqSBsvcFW2Zr88-Y9NFWeb9mZBT71Qn0jJKEWfSiSoep6Mhozn84-fb17S60kuhXRCbyrg3PV5oXKw3neX_baWmIHP6dxt9df5gGBZe37zu6H1mG84zaYkGV7Lj7XTcfy5tQLFKUF0OAjWCd5dfUkufkZEf7FXih8chwQKrCd7SD-_tz-b8b7fFy90ENXYbZyZ8HG9873-1m00?></g></svg>",
  "architecture_description": "## High-level deployment architecture\n\n### Runtime (production-like)\n- **Remote Deploy Host (Linux VM/Bare metal)**\n  - Runs **Docker Engine**.\n  - Hosts the **SonarQube container** based on `sonarqube:10.4.1-community`, exposing the web UI/API on **port 9000**.\n  - Uses an **external PostgreSQL database** for SonarQube persistence (as suggested by `sonar.properties` comments/README patterns).\n  - Maintains **custom CA certificates** that are injected into the SonarQube JVM truststore (`cacerts`) via `keytool` (from `filesystem/mnt/install-overlay.sh`) to trust internal TLS endpoints.\n  - Provides/has access to **S3-compatible object storage (MinIO)** used as the **Terraform state backend**.\n\n### CI/CD and provisioning\n- **GitHub Actions workflow (`.github/workflows/ssh-terraform.yml`)**\n  - Triggered by developer pushes/PRs.\n  - Uses `studio-telephus/actions/ssh-terraform@main` to **SSH into the remote deploy host** and run **Terraform** remotely.\n  - Terraform stores its state in **MinIO (S3 backend)** per the workflow backend configuration.\n\n### Access flow\n- **Users/Developers** access SonarQube from a **browser** over **HTTP/HTTPS to port 9000** (TLS termination may be external or via a reverse proxy not shown in the repo).\n\n### Key relationships\n- SonarQube → PostgreSQL via **JDBC**.\n- GitHub Actions → Remote host via **SSH** to execute Terraform and deployment steps.\n- Terraform → MinIO via **S3 API** for state read/write.\n- Custom CA bundle → SonarQube container via **truststore overlay** to enable TLS trust for internal services."
}