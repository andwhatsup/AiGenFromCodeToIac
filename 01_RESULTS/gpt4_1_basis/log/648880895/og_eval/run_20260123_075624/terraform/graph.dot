digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_iam_policy_document.bucket_policy" [label="data.aws_iam_policy_document.bucket_policy"];
  "data.aws_iam_policy_document.ec2_assume_role" [label="data.aws_iam_policy_document.ec2_assume_role"];
  "aws_iam_instance_profile.instance_profile" [label="aws_iam_instance_profile.instance_profile"];
  "aws_iam_role.ec2_iam_role" [label="aws_iam_role.ec2_iam_role"];
  "aws_iam_role.ec2_role" [label="aws_iam_role.ec2_role"];
  "aws_instance.ec2_public" [label="aws_instance.ec2_public"];
  "aws_internet_gateway.internet-gateway" [label="aws_internet_gateway.internet-gateway"];
  "aws_key_pair.key_pair" [label="aws_key_pair.key_pair"];
  "aws_kms_alias.kms_s3_key_alias" [label="aws_kms_alias.kms_s3_key_alias"];
  "aws_kms_key.kms_s3_key" [label="aws_kms_key.kms_s3_key"];
  "aws_route_table.public-route-table" [label="aws_route_table.public-route-table"];
  "aws_route_table_association.public-subnet-1-route-table-association" [label="aws_route_table_association.public-subnet-1-route-table-association"];
  "aws_s3_bucket.s3" [label="aws_s3_bucket.s3"];
  "aws_s3_bucket_acl.s3_protected_bucket_acl" [label="aws_s3_bucket_acl.s3_protected_bucket_acl"];
  "aws_s3_bucket_lifecycle_configuration.s3_protected_bucket_lifecycle_rule" [label="aws_s3_bucket_lifecycle_configuration.s3_protected_bucket_lifecycle_rule"];
  "aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership" [label="aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership"];
  "aws_s3_bucket_policy.allow_access_from_another_account" [label="aws_s3_bucket_policy.allow_access_from_another_account"];
  "aws_s3_bucket_public_access_block.s3_protected_bucket_access" [label="aws_s3_bucket_public_access_block.s3_protected_bucket_access"];
  "aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption" [label="aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption"];
  "aws_s3_bucket_versioning.s3_protected_bucket_versioning" [label="aws_s3_bucket_versioning.s3_protected_bucket_versioning"];
  "aws_s3_object.website" [label="aws_s3_object.website"];
  "aws_security_group.ssh-security-group" [label="aws_security_group.ssh-security-group"];
  "aws_subnet.public-subnet-1" [label="aws_subnet.public-subnet-1"];
  "aws_vpc.vpc" [label="aws_vpc.vpc"];
  "local_file.ssh_key" [label="local_file.ssh_key"];
  "tls_private_key.key" [label="tls_private_key.key"];
  "data.aws_iam_policy_document.bucket_policy" -> "aws_s3_bucket.s3";
  "aws_iam_instance_profile.instance_profile" -> "aws_iam_role.ec2_iam_role";
  "aws_iam_role.ec2_iam_role" -> "data.aws_iam_policy_document.ec2_assume_role";
  "aws_instance.ec2_public" -> "aws_iam_instance_profile.instance_profile";
  "aws_instance.ec2_public" -> "aws_security_group.ssh-security-group";
  "aws_instance.ec2_public" -> "aws_subnet.public-subnet-1";
  "aws_instance.ec2_public" -> "local_file.ssh_key";
  "aws_internet_gateway.internet-gateway" -> "aws_vpc.vpc";
  "aws_key_pair.key_pair" -> "tls_private_key.key";
  "aws_kms_alias.kms_s3_key_alias" -> "aws_kms_key.kms_s3_key";
  "aws_route_table.public-route-table" -> "aws_internet_gateway.internet-gateway";
  "aws_route_table_association.public-subnet-1-route-table-association" -> "aws_route_table.public-route-table";
  "aws_route_table_association.public-subnet-1-route-table-association" -> "aws_subnet.public-subnet-1";
  "aws_s3_bucket_acl.s3_protected_bucket_acl" -> "aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership";
  "aws_s3_bucket_lifecycle_configuration.s3_protected_bucket_lifecycle_rule" -> "aws_s3_bucket_versioning.s3_protected_bucket_versioning";
  "aws_s3_bucket_ownership_controls.s3_bucket_acl_ownership" -> "aws_s3_bucket.s3";
  "aws_s3_bucket_policy.allow_access_from_another_account" -> "data.aws_iam_policy_document.bucket_policy";
  "aws_s3_bucket_public_access_block.s3_protected_bucket_access" -> "aws_s3_bucket.s3";
  "aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption" -> "aws_kms_key.kms_s3_key";
  "aws_s3_bucket_server_side_encryption_configuration.s3_protected_bucket_server_side_encryption" -> "aws_s3_bucket.s3";
  "aws_s3_bucket_versioning.s3_protected_bucket_versioning" -> "aws_s3_bucket.s3";
  "aws_s3_object.website" -> "aws_s3_bucket.s3";
  "aws_security_group.ssh-security-group" -> "aws_vpc.vpc";
  "aws_subnet.public-subnet-1" -> "aws_vpc.vpc";
  "local_file.ssh_key" -> "aws_key_pair.key_pair";
}
