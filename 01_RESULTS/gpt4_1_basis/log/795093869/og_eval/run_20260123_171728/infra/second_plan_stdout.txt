module.dag_trigger_lambda.data.external.archive_prepare[0]: Reading...
module.dag_trigger_lambda.data.external.archive_prepare[0]: Read complete after 0s [id=-]
module.dag_trigger_lambda.local_file.archive_plan[0]: Refreshing state... [id=c1058ebb2c3f8b0b2673f168e77c9f6e7352c12f]
module.dag_trigger_lambda.null_resource.archive[0]: Refreshing state... [id=6774756327391475143]
module.mwaa_bucket.data.aws_canonical_user_id.this[0]: Reading...
module.input_bucket.data.aws_partition.current: Reading...
module.s3_lambda_notif.data.aws_partition.this: Reading...
module.input_bucket.data.aws_region.current: Reading...
module.input_bucket.data.aws_caller_identity.current: Reading...
data.aws_partition.current: Reading...
module.mwaa.data.aws_partition.current: Reading...
module.dag_trigger_lambda.data.aws_region.current: Reading...
module.mwaa.data.aws_caller_identity.current: Reading...
module.mwaa.data.aws_iam_policy_document.mwaa_assume: Reading...
data.aws_partition.current: Read complete after 0s [id=aws]
module.input_bucket.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.mwaa.data.aws_partition.current: Read complete after 0s [id=aws]
module.dag_trigger_lambda.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.s3_lambda_notif.data.aws_partition.this: Read complete after 0s [id=aws]
module.input_bucket.data.aws_partition.current: Read complete after 0s [id=aws]
module.mwaa.data.aws_iam_policy_document.mwaa_assume: Read complete after 0s [id=3602397390]
data.aws_caller_identity.current: Reading...
module.mwaa_bucket.data.aws_caller_identity.current: Reading...
module.mwaa_bucket.data.aws_region.current: Reading...
data.aws_availability_zones.available: Reading...
module.mwaa.data.aws_region.current: Reading...
module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]: Reading...
module.mwaa_bucket.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.mwaa.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.mwaa_bucket.data.aws_partition.current: Reading...
module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]: Read complete after 0s [id=1021377347]
module.mwaa_bucket.data.aws_partition.current: Read complete after 0s [id=aws]
data.aws_region.current: Reading...
data.aws_region.current: Read complete after 0s [id=us-east-1]
module.input_bucket.data.aws_canonical_user_id.this[0]: Reading...
module.dag_trigger_lambda.data.aws_partition.current: Reading...
module.dag_trigger_lambda.data.aws_partition.current: Read complete after 0s [id=aws]
module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]: Reading...
module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]: Read complete after 0s [id=2053943846]
module.dag_trigger_lambda.data.aws_iam_policy_document.assume_role[0]: Reading...
module.dag_trigger_lambda.aws_cloudwatch_log_group.lambda[0]: Refreshing state... [id=/aws/lambda/dag-trigger-lambda]
module.vpc.aws_vpc.this[0]: Refreshing state... [id=vpc-340d13907bf901f2a]
module.dag_trigger_lambda.data.aws_iam_policy_document.assume_role[0]: Read complete after 0s [id=2690255455]
module.dag_trigger_lambda.data.aws_caller_identity.current: Reading...
module.mwaa.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.mwaa.aws_iam_role.mwaa[0]: Refreshing state... [id=mwaa-executor20260123161821365700000003]
data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.vpc.aws_iam_role.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=vpc-flow-log-role-20260123161821364800000001]
module.mwaa_bucket.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]
module.mwaa_bucket.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.dag_trigger_lambda.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.input_bucket.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]
module.input_bucket.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
module.dag_trigger_lambda.aws_iam_role.lambda[0]: Refreshing state... [id=dag-trigger-lambda]
module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/vpc-flow-log-to-cloudwatch-20260123161821365500000002]
module.mwaa_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.dag_trigger_lambda.data.aws_iam_policy_document.logs[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.logs[0]: Read complete after 0s [id=903986985]
module.dag_trigger_lambda.aws_iam_policy.logs[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/dag-trigger-lambda-logs]
module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=vpc-flow-log-role-20260123161821364800000001-20260123161822360900000005]
module.dag_trigger_lambda.aws_iam_role_policy_attachment.logs[0]: Refreshing state... [id=dag-trigger-lambda-20260123161822442100000008]
module.vpc.aws_default_route_table.default[0]: Refreshing state... [id=rtb-df124a5b35f8f64aa]
module.vpc.aws_cloudwatch_log_group.flow_log[0]: Refreshing state... [id=/aws/vpc-flow-log/vpc-340d13907bf901f2a]
module.vpc.aws_default_security_group.this[0]: Refreshing state... [id=sg-016664f61e8bd7c4d]
module.vpc.aws_route_table.private[0]: Refreshing state... [id=rtb-ce574c6332ae411c1]
module.vpc.aws_internet_gateway.this[0]: Refreshing state... [id=igw-cfe009b9f8be6abc8]
module.vpc.aws_default_network_acl.this[0]: Refreshing state... [id=acl-d10531b96efc3969a]
module.vpc.aws_route_table.public[0]: Refreshing state... [id=rtb-3d295cd4e0a08d364]
module.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-6417f93c245a65c71]
module.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-f4b464c912e830baa]
module.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-7b4e7b93500daf7e4]
module.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-01e0211abc2a5a6b3]
module.mwaa.aws_security_group.mwaa[0]: Refreshing state... [id=sg-bd4a11b4ec0c1de5a]
module.vpc.aws_eip.nat[0]: Refreshing state... [id=eipalloc-726c9d4bb49ce0cf3]
module.vpc.aws_route.public_internet_gateway[0]: Refreshing state... [id=r-rtb-3d295cd4e0a08d3641080289494]
module.vpc.aws_flow_log.this[0]: Refreshing state... [id=fl-ed6d0001d07e21a49]
module.vpc.aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-c3d26dbaa1e9e8a37]
module.vpc.aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-4d32ce8455f6d30d2]
module.vpc.aws_network_acl.public[0]: Refreshing state... [id=acl-ee9cf8749df0321f9]
module.vpc.aws_network_acl.private[0]: Refreshing state... [id=acl-12575547e16295e4f]
module.vpc.aws_route_table_association.private[0]: Refreshing state... [id=rtbassoc-1529595aa78c31946]
module.vpc.aws_route_table_association.private[1]: Refreshing state... [id=rtbassoc-6ad9297ea7fb092ae]
module.mwaa.aws_security_group_rule.mwaa_sg_outbound[0]: Refreshing state... [id=sgrule-3324296666]
module.mwaa.aws_security_group_rule.mwaa_sg_inbound_vpn[0]: Refreshing state... [id=sgrule-2674395558]
module.mwaa.aws_security_group_rule.mwaa_sg_inbound[0]: Refreshing state... [id=sgrule-1116052882]
module.vpc.aws_network_acl_rule.private_inbound[0]: Refreshing state... [id=nacl-3589423052]
module.vpc.aws_network_acl_rule.private_outbound[0]: Refreshing state... [id=nacl-2450761885]
module.vpc.aws_network_acl_rule.public_outbound[0]: Refreshing state... [id=nacl-861746535]
module.vpc.aws_network_acl_rule.public_inbound[0]: Refreshing state... [id=nacl-2285595219]
module.vpc.aws_nat_gateway.this[0]: Refreshing state... [id=nat-a5dd15cf7cf6b37b2]
module.vpc.aws_route.private_nat_gateway[0]: Refreshing state... [id=r-rtb-ce574c6332ae411c11080289494]
module.input_bucket.data.aws_iam_policy_document.deny_insecure_transport[0]: Reading...
module.input_bucket.aws_s3_bucket_server_side_encryption_configuration.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.data.aws_iam_policy_document.require_latest_tls[0]: Reading...
aws_iam_policy.mwaa_policy: Refreshing state... [id=arn:aws:iam::000000000000:policy/terraform-20260123161821734100000004]
module.input_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.data.aws_iam_policy_document.deny_incorrect_encryption_headers[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.deny_insecure_transport[0]: Read complete after 0s [id=1167749713]
module.input_bucket.data.aws_iam_policy_document.require_latest_tls[0]: Read complete after 0s [id=1675079259]
module.input_bucket.data.aws_iam_policy_document.deny_incorrect_encryption_headers[0]: Read complete after 0s [id=2169995348]
module.input_bucket.data.aws_iam_policy_document.combined[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.combined[0]: Read complete after 0s [id=1261914102]
module.mwaa_bucket.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_server_side_encryption_configuration.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa.data.aws_iam_policy_document.mwaa: Reading...
module.input_bucket.aws_s3_bucket_policy.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.mwaa.aws_mwaa_environment.mwaa: Refreshing state... [id=mwaa-serverless-land]
module.mwaa.data.aws_iam_policy_document.mwaa: Read complete after 0s [id=3001004332]
module.mwaa.aws_iam_role_policy.mwaa[0]: Refreshing state... [id=mwaa-executor20260123161821365700000003:mwaa-executor20260123161822365100000006]
module.mwaa.aws_iam_role_policy_attachment.mwaa["dag-policy"]: Refreshing state... [id=mwaa-executor20260123161821365700000003-20260123161822415900000007]
module.input_bucket.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
aws_s3_object.dags["hello-world-dag.py"]: Refreshing state... [id=dags/hello-world-dag.py]
module.dag_trigger_lambda.data.aws_iam_policy_document.additional_inline[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.additional_inline[0]: Read complete after 0s [id=2268744647]
module.input_bucket.aws_s3_bucket_acl.this[0]: Refreshing state... [id=input-us-east-1-000000000000,private]
module.dag_trigger_lambda.aws_iam_policy.additional_inline[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/dag-trigger-lambda-inline]
module.mwaa_bucket.aws_s3_bucket_acl.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000,private]
module.dag_trigger_lambda.aws_iam_role_policy_attachment.additional_inline[0]: Refreshing state... [id=dag-trigger-lambda-20260123161845426400000010]
module.dag_trigger_lambda.aws_lambda_function.this[0]: Refreshing state... [id=dag-trigger-lambda]
module.s3_lambda_notif.aws_lambda_permission.allow["dag_trigger_lambda"]: Refreshing state... [id=AllowLambdaS3BucketNotification-20260123161852749800000011]
module.s3_lambda_notif.aws_s3_bucket_notification.this[0]: Refreshing state... [id=input-us-east-1-000000000000]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  ~ update in-place

Terraform will perform the following actions:

  # module.dag_trigger_lambda.aws_lambda_function.this[0] will be updated in-place
  ~ resource "aws_lambda_function" "this" {
        id                             = "dag-trigger-lambda"
      ~ last_modified                  = "2026-01-23T16:18:47.338458+0000" -> (known after apply)
      + source_code_hash               = "DO5Uyb96veI4i3rRbgYNvI06eacrt4br6bA7rqPzJ9I="
        tags                           = {
            "Category" = "Pattern"
            "Domain"   = "Serverless"
            "Project"  = "Trigger MWAA DAG using S3 Events"
            "URL"      = "https://serverlessland.com/"
        }
        # (27 unchanged attributes hidden)

        # (4 unchanged blocks hidden)
    }

Plan: 0 to add, 1 to change, 0 to destroy.
