{"format_version":"1.2","terraform_version":"1.13.5","variables":{"aws_region":{"value":"us-east-1"},"iam_assume_role_service":{"value":"s3.amazonaws.com"},"iam_group_name":{"value":"s3-group"},"iam_policy_name":{"value":"policy"},"iam_role_name":{"value":"s3-role"},"iam_role_policy_name":{"value":"s3-role-policy"},"iam_user_name":{"value":"s3-user"},"prefix":{"value":"s3-bucket"},"s3_bucket_force_destroy":{"value":false},"s3_bucket_lifecycle_days":{"value":7},"s3_bucket_name":{"value":"s3-bucket"},"suffix":{"value":"s3-bucket"}},"planned_values":{"outputs":{"iam_group_name":{"sensitive":false,"type":"string","value":"s3-bucket-s3-group-s3-bucket"},"iam_role_name":{"sensitive":false,"type":"string","value":"s3-bucket-s3-role-s3-bucket"},"iam_user_name":{"sensitive":false,"type":"string","value":"s3-bucket-s3-user-s3-bucket"},"s3_bucket_arn":{"sensitive":false},"s3_bucket_id":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_iam_group.this","mode":"managed","type":"aws_iam_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"s3-bucket-s3-group-s3-bucket","path":"/"},"sensitive_values":{}},{"address":"aws_iam_group_policy_attachment.this","mode":"managed","type":"aws_iam_group_policy_attachment","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"group":"s3-bucket-s3-group-s3-bucket"},"sensitive_values":{}},{"address":"aws_iam_policy.this","mode":"managed","type":"aws_iam_policy","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"s3-bucket-policy-s3-bucket","path":"/","tags":null},"sensitive_values":{"tags_all":{}},"identity_schema_version":0,"identity":{"arn":null}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"s3.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"s3-bucket-s3-role-s3-bucket","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"identity_schema_version":0,"identity":{"account_id":null,"name":null}},{"address":"aws_iam_role_policy.this","mode":"managed","type":"aws_iam_role_policy","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"s3-bucket-s3-role-policy-s3-bucket"},"sensitive_values":{},"identity_schema_version":0,"identity":{"account_id":null,"name":null,"role":null}},{"address":"aws_iam_user.this","mode":"managed","type":"aws_iam_user","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"name":"s3-bucket-s3-user-s3-bucket","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_iam_user_group_membership.this","mode":"managed","type":"aws_iam_user_group_membership","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"groups":["s3-bucket-s3-group-s3-bucket"],"user":"s3-bucket-s3-user-s3-bucket"},"sensitive_values":{"groups":[false]}},{"address":"aws_s3_bucket.this","mode":"managed","type":"aws_s3_bucket","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"s3-bucket-s3-bucket-s3-bucket","force_destroy":false,"region":"us-east-1","tags":null,"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]},"identity_schema_version":0,"identity":{"account_id":null,"bucket":null,"region":null}},{"address":"aws_s3_bucket_lifecycle_configuration.this","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"region":"us-east-1","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":7,"expired_object_delete_marker":false}],"filter":[],"id":"s3-bucket-delete-bucket-objects-after-7-days-s3-bucket","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]}}]}},"resource_changes":[{"address":"aws_iam_group.this","mode":"managed","type":"aws_iam_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"s3-bucket-s3-group-s3-bucket","path":"/"},"after_unknown":{"arn":true,"id":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_group_policy_attachment.this","mode":"managed","type":"aws_iam_group_policy_attachment","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"group":"s3-bucket-s3-group-s3-bucket"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_policy.this","mode":"managed","type":"aws_iam_policy","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"s3-bucket-policy-s3-bucket","path":"/","tags":null},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}},"after_identity":{"arn":null}}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"s3.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"s3-bucket-s3-role-s3-bucket","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}},"after_identity":{"account_id":null,"name":null}}},{"address":"aws_iam_role_policy.this","mode":"managed","type":"aws_iam_role_policy","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"s3-bucket-s3-role-policy-s3-bucket"},"after_unknown":{"id":true,"name_prefix":true,"policy":true,"role":true},"before_sensitive":false,"after_sensitive":{},"after_identity":{"account_id":null,"name":null,"role":null}}},{"address":"aws_iam_user.this","mode":"managed","type":"aws_iam_user","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"name":"s3-bucket-s3-user-s3-bucket","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"id":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_iam_user_group_membership.this","mode":"managed","type":"aws_iam_user_group_membership","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"groups":["s3-bucket-s3-group-s3-bucket"],"user":"s3-bucket-s3-user-s3-bucket"},"after_unknown":{"groups":[false],"id":true},"before_sensitive":false,"after_sensitive":{"groups":[false]}}},{"address":"aws_s3_bucket.this","mode":"managed","type":"aws_s3_bucket","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"s3-bucket-s3-bucket-s3-bucket","force_destroy":false,"region":"us-east-1","tags":null,"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_region":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags_all":true,"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]},"after_identity":{"account_id":null,"bucket":null,"region":null}}},{"address":"aws_s3_bucket_lifecycle_configuration.this","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"region":"us-east-1","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":7,"expired_object_delete_marker":false}],"filter":[],"id":"s3-bucket-delete-bucket-objects-after-7-days-s3-bucket","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]}}}],"output_changes":{"iam_group_name":{"actions":["create"],"before":null,"after":"s3-bucket-s3-group-s3-bucket","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"iam_role_name":{"actions":["create"],"before":null,"after":"s3-bucket-s3-role-s3-bucket","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"iam_user_name":{"actions":["create"],"before":null,"after":"s3-bucket-s3-user-s3-bucket","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"s3_bucket_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"s3_bucket_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.13.5","values":{"outputs":{"iam_group_name":{"sensitive":false,"value":"s3-bucket-s3-group-s3-bucket","type":"string"},"iam_role_name":{"sensitive":false,"value":"s3-bucket-s3-role-s3-bucket","type":"string"},"iam_user_name":{"sensitive":false,"value":"s3-bucket-s3-user-s3-bucket","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","version_constraint":"\u003e= 2.0.0"},"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 6.27.0","expressions":{"access_key":{"constant_value":"mock"},"endpoints":[{"apigateway":{"constant_value":"http://localhost:4566"},"apigatewayv2":{"constant_value":"http://localhost:4566"},"cloudwatch":{"constant_value":"http://localhost:4566"},"cloudwatchevents":{"constant_value":"http://localhost:4566"},"dynamodb":{"constant_value":"http://localhost:4566"},"ec2":{"constant_value":"http://localhost:4566"},"ecr":{"constant_value":"http://localhost:4566"},"ecrpublic":{"constant_value":"http://localhost:4566"},"ecs":{"constant_value":"http://localhost:4566"},"efs":{"constant_value":"http://localhost:4566"},"iam":{"constant_value":"http://localhost:4566"},"kinesis":{"constant_value":"http://localhost:4566"},"kms":{"constant_value":"http://localhost:4566"},"lambda":{"constant_value":"http://localhost:4566"},"logs":{"constant_value":"http://localhost:4566"},"route53":{"constant_value":"http://localhost:4566"},"s3":{"constant_value":"http://localhost:4566"},"s3control":{"constant_value":"http://localhost:4566"},"secretsmanager":{"constant_value":"http://localhost:4566"},"sns":{"constant_value":"http://localhost:4566"},"sqs":{"constant_value":"http://localhost:4566"},"ssm":{"constant_value":"http://localhost:4566"},"sts":{"constant_value":"http://localhost:4566"}}],"region":{"constant_value":"us-east-1"},"s3_use_path_style":{"constant_value":true},"secret_key":{"constant_value":"mock"},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_region_validation":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}}},"root_module":{"outputs":{"iam_group_name":{"expression":{"references":["aws_iam_group.this.name","aws_iam_group.this"]},"description":"The name of the IAM group"},"iam_role_name":{"expression":{"references":["aws_iam_role.this.name","aws_iam_role.this"]},"description":"The name of the IAM role"},"iam_user_name":{"expression":{"references":["aws_iam_user.this.name","aws_iam_user.this"]},"description":"The name of the IAM user"},"s3_bucket_arn":{"expression":{"references":["aws_s3_bucket.this.arn","aws_s3_bucket.this"]},"description":"The ARN of the S3 bucket"},"s3_bucket_id":{"expression":{"references":["aws_s3_bucket.this.id","aws_s3_bucket.this"]},"description":"The ID of the S3 bucket"}},"resources":[{"address":"aws_iam_group.this","mode":"managed","type":"aws_iam_group","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.prefix","var.iam_group_name","var.suffix"]}},"schema_version":0},{"address":"aws_iam_group_policy_attachment.this","mode":"managed","type":"aws_iam_group_policy_attachment","name":"this","provider_config_key":"aws","expressions":{"group":{"references":["aws_iam_group.this.name","aws_iam_group.this"]},"policy_arn":{"references":["aws_iam_policy.this.arn","aws_iam_policy.this"]}},"schema_version":0},{"address":"aws_iam_policy.this","mode":"managed","type":"aws_iam_policy","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.prefix","var.iam_policy_name","var.suffix"]},"policy":{"references":["aws_s3_bucket.this.arn","aws_s3_bucket.this"]}},"schema_version":0},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["var.iam_assume_role_service"]},"name":{"references":["var.prefix","var.iam_role_name","var.suffix"]}},"schema_version":0},{"address":"aws_iam_role_policy.this","mode":"managed","type":"aws_iam_role_policy","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.prefix","var.iam_role_policy_name","var.suffix"]},"policy":{"references":["aws_s3_bucket.this.arn","aws_s3_bucket.this"]},"role":{"references":["aws_iam_role.this.id","aws_iam_role.this"]}},"schema_version":0},{"address":"aws_iam_user.this","mode":"managed","type":"aws_iam_user","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.prefix","var.iam_user_name","var.suffix"]}},"schema_version":0},{"address":"aws_iam_user_group_membership.this","mode":"managed","type":"aws_iam_user_group_membership","name":"this","provider_config_key":"aws","expressions":{"groups":{"references":["aws_iam_group.this.name","aws_iam_group.this"]},"user":{"references":["aws_iam_user.this.name","aws_iam_user.this"]}},"schema_version":0},{"address":"aws_s3_bucket.this","mode":"managed","type":"aws_s3_bucket","name":"this","provider_config_key":"aws","expressions":{"bucket":{"references":["var.prefix","var.s3_bucket_name","var.suffix"]},"force_destroy":{"references":["var.s3_bucket_force_destroy"]}},"schema_version":0},{"address":"aws_s3_bucket_lifecycle_configuration.this","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"this","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.this.id","aws_s3_bucket.this"]},"rule":[{"expiration":[{"days":{"references":["var.s3_bucket_lifecycle_days"]}}],"id":{"references":["var.prefix","var.s3_bucket_lifecycle_days","var.suffix"]},"status":{"constant_value":"Enabled"}}]},"schema_version":1}],"variables":{"aws_region":{"description":"value"},"iam_assume_role_service":{"default":"s3.amazonaws.com","description":"The AWS service that will assume the role"},"iam_group_name":{"default":"s3-group","description":"The name of the IAM group"},"iam_policy_name":{"default":"policy","description":"The name of the IAM policy"},"iam_role_name":{"default":"s3-role","description":"The name of the IAM role"},"iam_role_policy_name":{"default":"s3-role-policy","description":"The name of the IAM role policy"},"iam_user_name":{"default":"s3-user","description":"The name of the IAM user"},"prefix":{"description":"Prefix to apply to resource names"},"s3_bucket_force_destroy":{"default":false,"description":"The S3 bucket force destroy configuration"},"s3_bucket_lifecycle_days":{"default":7,"description":"The number of days the object is retained"},"s3_bucket_name":{"description":"The name of the S3 bucket"},"suffix":{"description":"Suffix to apply to resource names"}}}},"relevant_attributes":[{"resource":"aws_iam_role.this","attribute":["name"]},{"resource":"aws_s3_bucket.this","attribute":["id"]},{"resource":"aws_iam_group.this","attribute":["name"]},{"resource":"aws_iam_user.this","attribute":["name"]},{"resource":"aws_iam_policy.this","attribute":["arn"]},{"resource":"aws_iam_role.this","attribute":["id"]},{"resource":"aws_s3_bucket.this","attribute":["arn"]}],"timestamp":"2026-01-25T21:48:46Z","applyable":true,"complete":true,"errored":false}
