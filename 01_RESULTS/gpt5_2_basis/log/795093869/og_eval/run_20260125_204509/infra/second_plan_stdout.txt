module.dag_trigger_lambda.data.external.archive_prepare[0]: Reading...
module.dag_trigger_lambda.data.external.archive_prepare[0]: Read complete after 1s [id=-]
module.dag_trigger_lambda.local_file.archive_plan[0]: Refreshing state... [id=c1058ebb2c3f8b0b2673f168e77c9f6e7352c12f]
module.dag_trigger_lambda.null_resource.archive[0]: Refreshing state... [id=5422776758717292644]
module.mwaa_bucket.data.aws_caller_identity.current: Reading...
module.mwaa_bucket.data.aws_canonical_user_id.this[0]: Reading...
data.aws_region.current: Reading...
module.input_bucket.data.aws_canonical_user_id.this[0]: Reading...
data.aws_partition.current: Reading...
data.aws_availability_zones.available: Reading...
module.mwaa_bucket.data.aws_partition.current: Reading...
module.dag_trigger_lambda.data.aws_partition.current: Reading...
module.input_bucket.data.aws_partition.current: Reading...
module.vpc.aws_vpc.this[0]: Refreshing state... [id=vpc-7f69c5499c14a90a9]
data.aws_region.current: Read complete after 0s [id=us-east-1]
module.input_bucket.data.aws_partition.current: Read complete after 0s [id=aws]
module.mwaa_bucket.data.aws_partition.current: Read complete after 0s [id=aws]
data.aws_partition.current: Read complete after 0s [id=aws]
module.dag_trigger_lambda.data.aws_partition.current: Read complete after 0s [id=aws]
module.input_bucket.data.aws_region.current: Reading...
module.input_bucket.data.aws_caller_identity.current: Reading...
module.dag_trigger_lambda.data.aws_region.current: Reading...
module.mwaa_bucket.data.aws_region.current: Reading...
module.input_bucket.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.dag_trigger_lambda.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.mwaa_bucket.data.aws_region.current: Read complete after 0s [id=us-east-1]
data.aws_caller_identity.current: Reading...
module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.assume_role[0]: Reading...
module.mwaa.data.aws_region.current: Reading...
module.vpc.data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]: Read complete after 0s [id=2053943846]
module.mwaa.data.aws_region.current: Read complete after 0s [id=us-east-1]
module.dag_trigger_lambda.data.aws_iam_policy_document.assume_role[0]: Read complete after 0s [id=2690255455]
module.mwaa.data.aws_partition.current: Reading...
module.mwaa.data.aws_partition.current: Read complete after 0s [id=aws]
module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]: Reading...
module.dag_trigger_lambda.data.aws_caller_identity.current: Reading...
module.vpc.data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]: Read complete after 0s [id=1021377347]
module.mwaa.data.aws_iam_policy_document.mwaa_assume: Reading...
module.mwaa.data.aws_caller_identity.current: Reading...
module.mwaa.data.aws_iam_policy_document.mwaa_assume: Read complete after 0s [id=3602397390]
module.dag_trigger_lambda.aws_cloudwatch_log_group.lambda[0]: Refreshing state... [id=/aws/lambda/dag-trigger-lambda]
module.input_bucket.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.s3_lambda_notif.data.aws_partition.this: Reading...
module.s3_lambda_notif.data.aws_partition.this: Read complete after 0s [id=aws]
module.vpc.aws_iam_policy.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/vpc-flow-log-to-cloudwatch-20260125194610426900000001]
module.mwaa.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.dag_trigger_lambda.aws_iam_role.lambda[0]: Refreshing state... [id=dag-trigger-lambda]
module.dag_trigger_lambda.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.vpc.aws_iam_role.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=vpc-flow-log-role-20260125194610427400000003]
module.input_bucket.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]
data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.mwaa.aws_iam_role.mwaa[0]: Refreshing state... [id=mwaa-executor20260125194610427400000002]
module.input_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.mwaa_bucket.data.aws_caller_identity.current: Read complete after 0s [id=000000000000]
module.mwaa_bucket.aws_s3_bucket.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa_bucket.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a]
data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
module.dag_trigger_lambda.data.aws_iam_policy_document.logs[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.logs[0]: Read complete after 0s [id=903986985]
module.dag_trigger_lambda.aws_iam_policy.logs[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/dag-trigger-lambda-logs]
module.vpc.aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch[0]: Refreshing state... [id=vpc-flow-log-role-20260125194610427400000003-20260125194611493600000006]
module.dag_trigger_lambda.aws_iam_role_policy_attachment.logs[0]: Refreshing state... [id=dag-trigger-lambda-20260125194611556200000008]
module.vpc.aws_default_security_group.this[0]: Refreshing state... [id=sg-e39b9183a6bc49d21]
module.vpc.aws_default_route_table.default[0]: Refreshing state... [id=rtb-a48f15553617c864f]
module.mwaa.aws_security_group.mwaa[0]: Refreshing state... [id=sg-e86c8c53624a64342]
module.vpc.aws_internet_gateway.this[0]: Refreshing state... [id=igw-d1a5f25b2f3d6b5a2]
module.vpc.aws_default_network_acl.this[0]: Refreshing state... [id=acl-afb608a6bf3461a30]
module.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-b47035089ff11f987]
module.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-f3eaee7a97857e5d1]
module.vpc.aws_cloudwatch_log_group.flow_log[0]: Refreshing state... [id=/aws/vpc-flow-log/vpc-7f69c5499c14a90a9]
module.vpc.aws_route_table.private[0]: Refreshing state... [id=rtb-2f0e4b38d810a7a0b]
module.vpc.aws_route_table.public[0]: Refreshing state... [id=rtb-a2d1d1e058b93d297]
module.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-87ec94772549f26d8]
module.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-950ea0b155006f44f]
module.vpc.aws_eip.nat[0]: Refreshing state... [id=eipalloc-6023d6f23e7ad2ae5]
module.vpc.aws_network_acl.private[0]: Refreshing state... [id=acl-022a88227e92b3634]
module.mwaa.aws_security_group_rule.mwaa_sg_inbound_vpn[0]: Refreshing state... [id=sgrule-2534217572]
module.mwaa.aws_security_group_rule.mwaa_sg_inbound[0]: Refreshing state... [id=sgrule-379259848]
module.mwaa.aws_security_group_rule.mwaa_sg_outbound[0]: Refreshing state... [id=sgrule-3607875483]
module.vpc.aws_network_acl_rule.private_inbound[0]: Refreshing state... [id=nacl-779200950]
module.vpc.aws_network_acl_rule.private_outbound[0]: Refreshing state... [id=nacl-3318331330]
module.vpc.aws_flow_log.this[0]: Refreshing state... [id=fl-94279428155309450]
module.vpc.aws_route_table_association.private[1]: Refreshing state... [id=rtbassoc-ebf77399ab1a57e97]
module.vpc.aws_route_table_association.private[0]: Refreshing state... [id=rtbassoc-f7d201b40dade49f6]
module.vpc.aws_network_acl.public[0]: Refreshing state... [id=acl-07346d5134df628ec]
module.vpc.aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-03a722b713c7256fb]
module.vpc.aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-305be6f98778c2b10]
module.vpc.aws_route.public_internet_gateway[0]: Refreshing state... [id=r-rtb-a2d1d1e058b93d2971080289494]
module.vpc.aws_nat_gateway.this[0]: Refreshing state... [id=nat-f911a14e663d2139c]
module.vpc.aws_network_acl_rule.public_inbound[0]: Refreshing state... [id=nacl-1740216921]
module.vpc.aws_network_acl_rule.public_outbound[0]: Refreshing state... [id=nacl-1690113316]
module.vpc.aws_route.private_nat_gateway[0]: Refreshing state... [id=r-rtb-2f0e4b38d810a7a0b1080289494]
module.input_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.aws_s3_bucket_server_side_encryption_configuration.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.input_bucket.data.aws_iam_policy_document.require_latest_tls[0]: Reading...
aws_iam_policy.mwaa_policy: Refreshing state... [id=arn:aws:iam::000000000000:policy/terraform-20260125194610805800000004]
module.input_bucket.data.aws_iam_policy_document.deny_incorrect_encryption_headers[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.deny_insecure_transport[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.require_latest_tls[0]: Read complete after 0s [id=1675079259]
module.input_bucket.data.aws_iam_policy_document.deny_incorrect_encryption_headers[0]: Read complete after 0s [id=2169995348]
module.input_bucket.data.aws_iam_policy_document.deny_insecure_transport[0]: Read complete after 0s [id=1167749713]
module.input_bucket.data.aws_iam_policy_document.combined[0]: Reading...
module.input_bucket.data.aws_iam_policy_document.combined[0]: Read complete after 0s [id=1261914102]
module.mwaa_bucket.aws_s3_bucket_server_side_encryption_configuration.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa_bucket.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
module.mwaa.aws_mwaa_environment.mwaa: Refreshing state... [id=mwaa-serverless-land]
module.mwaa.data.aws_iam_policy_document.mwaa: Reading...
module.mwaa.data.aws_iam_policy_document.mwaa: Read complete after 0s [id=3001004332]
module.input_bucket.aws_s3_bucket_policy.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.mwaa.aws_iam_role_policy.mwaa[0]: Refreshing state... [id=mwaa-executor20260125194610427400000002:mwaa-executor20260125194611486000000005]
module.mwaa_bucket.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000]
aws_s3_object.dags["hello-world-dag.py"]: Refreshing state... [id=dags/hello-world-dag.py]
module.input_bucket.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=input-us-east-1-000000000000]
module.mwaa.aws_iam_role_policy_attachment.mwaa["dag-policy"]: Refreshing state... [id=mwaa-executor20260125194610427400000002-20260125194611496100000007]
module.mwaa_bucket.aws_s3_bucket_acl.this[0]: Refreshing state... [id=mwaa-src-us-east-1-000000000000,private]
module.input_bucket.aws_s3_bucket_acl.this[0]: Refreshing state... [id=input-us-east-1-000000000000,private]
module.dag_trigger_lambda.data.aws_iam_policy_document.additional_inline[0]: Reading...
module.dag_trigger_lambda.data.aws_iam_policy_document.additional_inline[0]: Read complete after 0s [id=2268744647]
module.dag_trigger_lambda.aws_iam_policy.additional_inline[0]: Refreshing state... [id=arn:aws:iam::000000000000:policy/dag-trigger-lambda-inline]
module.dag_trigger_lambda.aws_iam_role_policy_attachment.additional_inline[0]: Refreshing state... [id=dag-trigger-lambda-20260125194644642600000010]
module.dag_trigger_lambda.aws_lambda_function.this[0]: Refreshing state... [id=dag-trigger-lambda]
module.s3_lambda_notif.aws_lambda_permission.allow["dag_trigger_lambda"]: Refreshing state... [id=AllowLambdaS3BucketNotification-20260125194653399300000011]
module.s3_lambda_notif.aws_s3_bucket_notification.this[0]: Refreshing state... [id=input-us-east-1-000000000000]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  ~ update in-place

Terraform will perform the following actions:

  # module.dag_trigger_lambda.aws_lambda_function.this[0] will be updated in-place
  ~ resource "aws_lambda_function" "this" {
        id                             = "dag-trigger-lambda"
      ~ last_modified                  = "2026-01-25T19:46:47.412249+0000" -> (known after apply)
      + source_code_hash               = "P/Rzj1gcH4ou6NNIPdfiUle0cLZAVubAr4H5CanMhlY="
        tags                           = {
            "Category" = "Pattern"
            "Domain"   = "Serverless"
            "Project"  = "Trigger MWAA DAG using S3 Events"
            "URL"      = "https://serverlessland.com/"
        }
        # (27 unchanged attributes hidden)

        # (4 unchanged blocks hidden)
    }

Plan: 0 to add, 1 to change, 0 to destroy.
